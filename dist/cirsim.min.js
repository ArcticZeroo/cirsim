!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Cirsim=e():t.Cirsim=e()}(window,function(){return function(t){var e=window.webpackHotUpdateCirsim;window.webpackHotUpdateCirsim=function(t,i){!function(t,e){if(!w[t]||!b[t])return;for(var i in b[t]=!1,e)Object.prototype.hasOwnProperty.call(e,i)&&(f[i]=e[i]);0==--m&&0===y&&T()}(t,i),e&&e(t,i)};var i,n=!0,o="478e157fa8e624753bca",r=1e4,s={},a=[],l=[];function c(t){var e=O[t];if(!e)return S;var n=function(n){return e.hot.active?(O[n]?-1===O[n].parents.indexOf(t)&&O[n].parents.push(t):(a=[t],i=n),-1===e.children.indexOf(n)&&e.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+t),a=[]),S(n)},o=function(t){return{configurable:!0,enumerable:!0,get:function(){return S[t]},set:function(e){S[t]=e}}};for(var r in S)Object.prototype.hasOwnProperty.call(S,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(n,r,o(r));return n.e=function(t){return"ready"===h&&d("prepare"),y++,S.e(t).then(e,function(t){throw e(),t});function e(){y--,"prepare"===h&&(g[t]||k(t),0===y&&0===m&&T())}},n.t=function(t,e){return 1&e&&(t=n(t)),S.t(t,-2&e)},n}var u=[],h="idle";function d(t){h=t;for(var e=0;e<u.length;e++)u[e].call(null,t)}var p,f,v,m=0,y=0,g={},b={},w={};function x(t){return+t+""===t?+t:t}function A(t){if("idle"!==h)throw new Error("check() is only allowed in idle status");return n=t,d("check"),function(t){return t=t||1e4,new Promise(function(e,i){if("undefined"==typeof XMLHttpRequest)return i(new Error("No browser support"));try{var n=new XMLHttpRequest,r=S.p+""+o+".hot-update.json";n.open("GET",r,!0),n.timeout=t,n.send(null)}catch(t){return i(t)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)i(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)i(new Error("Manifest request to "+r+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(t){return void i(t)}e(t)}}})}(r).then(function(t){if(!t)return d("idle"),null;b={},g={},w=t.c,v=t.h,d("prepare");var e=new Promise(function(t,e){p={resolve:t,reject:e}});f={};return k(0),"prepare"===h&&0===y&&0===m&&T(),e})}function k(t){w[t]?(b[t]=!0,m++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=S.p+""+t+"."+o+".hot-update.js",document.head.appendChild(e)}(t)):g[t]=!0}function T(){d("ready");var t=p;if(p=null,t)if(n)Promise.resolve().then(function(){return I(n)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&e.push(x(i));t.resolve(e)}}function I(e){if("ready"!==h)throw new Error("apply() is only allowed in ready status");var i,n,r,l,c;function u(t){for(var e=[t],i={},n=e.slice().map(function(t){return{chain:[t],id:t}});n.length>0;){var o=n.pop(),r=o.id,s=o.chain;if((l=O[r])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:r};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:r};for(var a=0;a<l.parents.length;a++){var c=l.parents[a],u=O[c];if(u){if(u.hot._declinedDependencies[r])return{type:"declined",chain:s.concat([c]),moduleId:r,parentId:c};-1===e.indexOf(c)&&(u.hot._acceptedDependencies[r]?(i[c]||(i[c]=[]),p(i[c],[r])):(delete i[c],e.push(c),n.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:i}}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];-1===t.indexOf(n)&&t.push(n)}}e=e||{};var m={},y=[],g={},b=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var A in f)if(Object.prototype.hasOwnProperty.call(f,A)){var k;c=x(A);var T=!1,I=!1,C=!1,E="";switch((k=f[A]?u(c):{type:"disposed",moduleId:A}).chain&&(E="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":e.onDeclined&&e.onDeclined(k),e.ignoreDeclined||(T=new Error("Aborted because of self decline: "+k.moduleId+E));break;case"declined":e.onDeclined&&e.onDeclined(k),e.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+E));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(k),e.ignoreUnaccepted||(T=new Error("Aborted because "+c+" is not accepted"+E));break;case"accepted":e.onAccepted&&e.onAccepted(k),I=!0;break;case"disposed":e.onDisposed&&e.onDisposed(k),C=!0;break;default:throw new Error("Unexception type "+k.type)}if(T)return d("abort"),Promise.reject(T);if(I)for(c in g[c]=f[c],p(y,k.outdatedModules),k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,c)&&(m[c]||(m[c]=[]),p(m[c],k.outdatedDependencies[c]));C&&(p(y,[k.moduleId]),g[c]=b)}var B,j=[];for(n=0;n<y.length;n++)c=y[n],O[c]&&O[c].hot._selfAccepted&&j.push({module:c,errorHandler:O[c].hot._selfAccepted});d("dispose"),Object.keys(w).forEach(function(t){!1===w[t]&&function(t){delete installedChunks[t]}(t)});for(var z,L,D=y.slice();D.length>0;)if(c=D.pop(),l=O[c]){var R={},N=l.hot._disposeHandlers;for(r=0;r<N.length;r++)(i=N[r])(R);for(s[c]=R,l.hot.active=!1,delete O[c],delete m[c],r=0;r<l.children.length;r++){var P=O[l.children[r]];P&&((B=P.parents.indexOf(c))>=0&&P.parents.splice(B,1))}}for(c in m)if(Object.prototype.hasOwnProperty.call(m,c)&&(l=O[c]))for(L=m[c],r=0;r<L.length;r++)z=L[r],(B=l.children.indexOf(z))>=0&&l.children.splice(B,1);for(c in d("apply"),o=v,g)Object.prototype.hasOwnProperty.call(g,c)&&(t[c]=g[c]);var M=null;for(c in m)if(Object.prototype.hasOwnProperty.call(m,c)&&(l=O[c])){L=m[c];var U=[];for(n=0;n<L.length;n++)if(z=L[n],i=l.hot._acceptedDependencies[z]){if(-1!==U.indexOf(i))continue;U.push(i)}for(n=0;n<U.length;n++){i=U[n];try{i(L)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:c,dependencyId:L[n],error:t}),e.ignoreErrored||M||(M=t)}}}for(n=0;n<j.length;n++){var _=j[n];c=_.module,a=[c];try{S(c)}catch(t){if("function"==typeof _.errorHandler)try{_.errorHandler(t)}catch(i){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:i,originalError:t}),e.ignoreErrored||M||(M=i),M||(M=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:c,error:t}),e.ignoreErrored||M||(M=t)}}return M?(d("fail"),Promise.reject(M)):(d("idle"),new Promise(function(t){t(y)}))}var O={};function S(e){if(O[e])return O[e].exports;var n=O[e]={i:e,l:!1,exports:{},hot:function(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(t,i){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var n=0;n<t.length;n++)e._acceptedDependencies[t[n]]=i||function(){};else e._acceptedDependencies[t]=i||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var i=0;i<t.length;i++)e._declinedDependencies[t[i]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var i=e._disposeHandlers.indexOf(t);i>=0&&e._disposeHandlers.splice(i,1)},check:A,apply:I,status:function(t){if(!t)return h;u.push(t)},addStatusHandler:function(t){u.push(t)},removeStatusHandler:function(t){var e=u.indexOf(t);e>=0&&u.splice(e,1)},data:s[t]};return i=void 0,e}(e),parents:(l=a,a=[],l),children:[]};return t[e].call(n.exports,n,n.exports,c(e)),n.l=!0,n.exports}return S.m=t,S.c=O,S.d=function(t,e,i){S.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},S.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},S.t=function(t,e){if(1&e&&(t=S(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(S.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)S.d(i,n,function(e){return t[e]}.bind(null,n));return i},S.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return S.d(e,"a",e),e},S.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},S.p="",S.h=function(){return o},c("./src/app.modules.js")(S.s="./src/app.modules.js")}({"./node_modules/@babel/runtime/helpers/typeof.js":function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(e){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?t.exports=n=function(t){return i(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},n(e)}t.exports=n},"./node_modules/buckets-js/dist/buckets.min.js":function(t,e,i){var n,o,r;/*! buckets - version: 1.98.2 - (c) 2013 - 2016 Mauricio Santos - https://github.com/mauriciosantos/Buckets-JS*/o=[],void 0===(r="function"==typeof(n=function(){"use strict";var t={defaultCompare:function(t,e){return t<e?-1:t===e?0:1},defaultEquals:function(t,e){return t===e},defaultToString:function(e){return null===e?"BUCKETS_NULL":t.isUndefined(e)?"BUCKETS_UNDEFINED":t.isString(e)?e:e.toString()},isFunction:function(t){return"function"==typeof t},isUndefined:function(t){return void 0===t},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},reverseCompareFunction:function(e){return t.isFunction(e)?function(t,i){return-1*e(t,i)}:function(t,e){return t<e?1:t===e?0:-1}},compareToEquals:function(t){return function(e,i){return 0===t(e,i)}},arrays:{}};return t.arrays.indexOf=function(e,i,n){var o,r=n||t.defaultEquals,s=e.length;for(o=0;o<s;o+=1)if(r(e[o],i))return o;return-1},t.arrays.lastIndexOf=function(e,i,n){var o,r=n||t.defaultEquals,s=e.length;for(o=s-1;o>=0;o-=1)if(r(e[o],i))return o;return-1},t.arrays.contains=function(e,i,n){return t.arrays.indexOf(e,i,n)>=0},t.arrays.remove=function(e,i,n){var o=t.arrays.indexOf(e,i,n);return!(o<0||(e.splice(o,1),0))},t.arrays.frequency=function(e,i,n){var o,r=n||t.defaultEquals,s=e.length,a=0;for(o=0;o<s;o+=1)r(e[o],i)&&(a+=1);return a},t.arrays.equals=function(e,i,n){var o,r=n||t.defaultEquals,s=e.length;if(e.length!==i.length)return!1;for(o=0;o<s;o+=1)if(!r(e[o],i[o]))return!1;return!0},t.arrays.copy=function(t){return t.concat()},t.arrays.swap=function(t,e,i){var n;return!(e<0||e>=t.length||i<0||i>=t.length||(n=t[e],t[e]=t[i],t[i]=n,0))},t.arrays.forEach=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)if(!1===e(t[i]))return},t.Bag=function(e){var i={},n=e||t.defaultToString,o=new t.Dictionary(n),r=0;return i.add=function(e,n){var s;return(isNaN(n)||t.isUndefined(n))&&(n=1),!(t.isUndefined(e)||n<=0||(i.contains(e)?o.get(e).copies+=n:(s={value:e,copies:n},o.set(e,s)),r+=n,0))},i.count=function(t){return i.contains(t)?o.get(t).copies:0},i.contains=function(t){return o.containsKey(t)},i.remove=function(e,n){var s;return(isNaN(n)||t.isUndefined(n))&&(n=1),!(t.isUndefined(e)||n<=0||!i.contains(e)||(s=o.get(e),r-=n>s.copies?s.copies:n,s.copies-=n,s.copies<=0&&o.remove(e),0))},i.toArray=function(){var t,e,i,n,r,s=[],a=o.values(),l=a.length;for(n=0;n<l;n+=1)for(t=a[n],e=t.value,i=t.copies,r=0;r<i;r+=1)s.push(e);return s},i.toSet=function(){var e,i=new t.Set(n),r=o.values(),s=r.length;for(e=0;e<s;e+=1)i.add(r[e].value);return i},i.forEach=function(t){o.forEach(function(e,i){var n,o=i.value,r=i.copies;for(n=0;n<r;n+=1)if(!1===t(o))return!1;return!0})},i.size=function(){return r},i.isEmpty=function(){return 0===r},i.clear=function(){r=0,o.clear()},i.equals=function(e){var n;return!t.isUndefined(e)&&"function"==typeof e.toSet&&i.size()===e.size()&&(n=!0,e.forEach(function(t){return n=i.count(t)===e.count(t)}),n)},i},t.BSTree=function(e){function i(t,e){for(var i,n=t;void 0!==n&&0!==i;)(i=s(e,n.element))<0?n=n.leftCh:i>0&&(n=n.rightCh);return n}function n(t){for(var e=t;void 0!==e.leftCh;)e=e.leftCh;return e}var o,r={},s=e||t.defaultCompare,a=0;return r.add=function(e){if(t.isUndefined(e))return!1;var i={element:e,leftCh:void 0,rightCh:void 0,parent:void 0};return void 0!==function(t){for(var e,i,n=o;void 0!==n;){if(0===(i=s(t.element,n.element)))return;i<0?(e=n,n=n.leftCh):(e=n,n=n.rightCh)}return t.parent=e,void 0===e?o=t:s(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t}(i)&&(a+=1,!0)},r.clear=function(){o=void 0,a=0},r.isEmpty=function(){return 0===a},r.size=function(){return a},r.contains=function(e){return!t.isUndefined(e)&&void 0!==i(o,e)},r.remove=function(t){function e(t,e){void 0===t.parent?o=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,void 0!==e&&(e.parent=t.parent)}var r;return void 0!==(r=i(o,t))&&(function(t){if(void 0===t.leftCh)e(t,t.rightCh);else if(void 0===t.rightCh)e(t,t.leftCh);else{var i=n(t.rightCh);i.parent!==t&&(e(i,i.rightCh),i.rightCh=t.rightCh,i.rightCh.parent=i),e(t,i),i.leftCh=t.leftCh,i.leftCh.parent=i}}(r),a-=1,!0)},r.inorderTraversal=function(t){!function t(e,i,n){void 0===e||n.stop||(t(e.leftCh,i,n),n.stop||(n.stop=!1===i(e.element),n.stop||t(e.rightCh,i,n)))}(o,t,{stop:!1})},r.preorderTraversal=function(t){!function t(e,i,n){void 0===e||n.stop||(n.stop=!1===i(e.element),n.stop||(t(e.leftCh,i,n),n.stop||t(e.rightCh,i,n)))}(o,t,{stop:!1})},r.postorderTraversal=function(t){!function t(e,i,n){void 0===e||n.stop||(t(e.leftCh,i,n),n.stop||(t(e.rightCh,i,n),n.stop||(n.stop=!1===i(e.element))))}(o,t,{stop:!1})},r.levelTraversal=function(e){!function(e,i){var n=t.Queue();for(void 0!==e&&n.enqueue(e);!n.isEmpty();){if(e=n.dequeue(),!1===i(e.element))return;void 0!==e.leftCh&&n.enqueue(e.leftCh),void 0!==e.rightCh&&n.enqueue(e.rightCh)}}(o,e)},r.minimum=function(){if(!r.isEmpty())return n(o).element},r.maximum=function(){if(!r.isEmpty())return function(t){for(;void 0!==t.rightCh;)t=t.rightCh;return t}(o).element},r.forEach=function(t){r.inorderTraversal(t)},r.toArray=function(){var t=[];return r.inorderTraversal(function(e){t.push(e)}),t},r.height=function(){function t(e){return void 0===e?-1:Math.max(t(e.leftCh),t(e.rightCh))+1}return function(e){return void 0===e?-1:Math.max(t(e.leftCh),t(e.rightCh))+1}(o)},r.equals=function(e){var i;return!t.isUndefined(e)&&"function"==typeof e.levelTraversal&&r.size()===e.size()&&(i=!0,e.forEach(function(t){return i=r.contains(t)}),i)},r},t.Dictionary=function(e){var i={},n={},o=0,r=e||t.defaultToString,s="/$ ";return i.get=function(e){var i=n[s+r(e)];if(!t.isUndefined(i))return i.value},i.set=function(e,i){var a,l,c;if(!t.isUndefined(e)&&!t.isUndefined(i))return l=s+r(e),c=n[l],t.isUndefined(c)?(o+=1,a=void 0):a=c.value,n[l]={key:e,value:i},a},i.remove=function(e){var i=s+r(e),a=n[i];if(!t.isUndefined(a))return delete n[i],o-=1,a.value},i.keys=function(){var t,e=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(n[t].key);return e},i.values=function(){var t,e=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(n[t].value);return e},i.forEach=function(t){var e,i;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(i=n[e],!1===t(i.key,i.value)))return},i.containsKey=function(e){return!t.isUndefined(i.get(e))},i.clear=function(){n={},o=0},i.size=function(){return o},i.isEmpty=function(){return o<=0},i.equals=function(e,n){var o,r;return!t.isUndefined(e)&&"function"==typeof e.keys&&i.size()===e.size()&&(o=n||t.defaultEquals,r=!0,e.forEach(function(t,e){return r=o(i.get(t),e)}),r)},i},t.Heap=function(e){function i(e){function i(t){return 2*t+1}function n(t){return 2*t+2}function s(t,e){return e>=o.length?t>=o.length?-1:t:r(o[t],o[e])<=0?t:e}var a;for(a=s(i(e),n(e));a>=0&&r(o[e],o[a])>0;)t.arrays.swap(o,a,e),a=s(i(e=a),n(e))}var n={},o=[],r=e||t.defaultCompare;return n.peek=function(){if(o.length>0)return o[0]},n.add=function(e){if(!t.isUndefined(e))return o.push(e),function(e){function i(t){return Math.floor((t-1)/2)}var n;for(n=i(e);e>0&&r(o[n],o[e])>0;)t.arrays.swap(o,n,e),n=i(e=n)}(o.length-1),!0},n.removeRoot=function(){var t;if(o.length>0)return t=o[0],o[0]=o[o.length-1],o.splice(o.length-1,1),o.length>0&&i(0),t},n.contains=function(e){var i=t.compareToEquals(r);return t.arrays.contains(o,e,i)},n.size=function(){return o.length},n.isEmpty=function(){return o.length<=0},n.clear=function(){o.length=0},n.forEach=function(e){t.arrays.forEach(o,e)},n.toArray=function(){return t.arrays.copy(o)},n.equals=function(e){var i,o,s;return!t.isUndefined(e)&&"function"==typeof e.removeRoot&&n.size()===e.size()&&(i=n.toArray(),o=e.toArray(),s=t.compareToEquals(r),i.sort(r),o.sort(r),t.arrays.equals(i,o,s))},n},t.LinkedList=function(){function e(t){var e,o;if(!(t<0||t>=r)){if(t===r-1)return n;for(e=i,o=0;o<t;o+=1)e=e.next;return e}}var i,n,o={},r=0;return o.add=function(o,s){var a,l;return t.isUndefined(s)&&(s=r),!(s<0||s>r||t.isUndefined(o)||(a={element:o,next:void 0},0===r?(i=a,n=a):s===r?(n.next=a,n=a):0===s?(a.next=i,i=a):(l=e(s-1),a.next=l.next,l.next=a),r+=1,0))},o.first=function(){if(void 0!==i)return i.element},o.last=function(){if(void 0!==n)return n.element},o.elementAtIndex=function(t){var i=e(t);if(void 0!==i)return i.element},o.indexOf=function(e,n){var o=n||t.defaultEquals,r=i,s=0;if(t.isUndefined(e))return-1;for(;void 0!==r;){if(o(r.element,e))return s;s+=1,r=r.next}return-1},o.contains=function(t,e){return o.indexOf(t,e)>=0},o.remove=function(e,o){var s,a=o||t.defaultEquals,l=i;if(r<1||t.isUndefined(e))return!1;for(;void 0!==l;){if(a(l.element,e))return l===i?(i=i.next,l===n&&(n=void 0)):l===n?(n=s,s.next=l.next,l.next=void 0):(s.next=l.next,l.next=void 0),r-=1,!0;s=l,l=l.next}return!1},o.clear=function(){i=void 0,n=void 0,r=0},o.equals=function(e,n){var r=n||t.defaultEquals,s=!0,a=i;return!t.isUndefined(e)&&"function"==typeof e.elementAtIndex&&o.size()===e.size()&&(e.forEach(function(t){return s=r(t,a.element),a=a.next,s}),s)},o.removeElementAtIndex=function(t){var o,s;if(!(t<0||t>=r))return 1===r?(o=i.element,i=void 0,n=void 0):(void 0===(s=e(t-1))?(o=i.element,i=i.next):s.next===n&&(o=n.element,n=s),void 0!==s&&(o=s.next.element,s.next=s.next.next)),r-=1,o},o.forEach=function(t){for(var e=i;void 0!==e&&!1!==t(e.element);)e=e.next},o.reverse=function(){for(var t,e,o=i;void 0!==o;)e=o.next,o.next=t,t=o,o=e;e=i,i=n,n=e},o.toArray=function(){var t=[];return o.forEach(function(e){t.push(e)}),t},o.size=function(){return r},o.isEmpty=function(){return r<=0},o},t.MultiDictionary=function(e,i){var n={},o=new t.Dictionary(e),r=i||t.defaultEquals;return n.get=function(e){var i=o.get(e);return t.isUndefined(i)?[]:t.arrays.copy(i)},n.set=function(e,i){var s;return!(t.isUndefined(e)||t.isUndefined(i)||(n.containsKey(e)?(s=o.get(e),t.arrays.contains(s,i,r)||(s.push(i),0)):(o.set(e,[i]),0)))},n.remove=function(e,i){var n,s;return t.isUndefined(i)?(n=o.remove(e),!t.isUndefined(n)):(s=o.get(e),!!t.arrays.remove(s,i,r)&&(0===s.length&&o.remove(e),!0))},n.keys=function(){return o.keys()},n.values=function(){var t,e,i,n=o.values(),r=[];for(t=0;t<n.length;t+=1)for(i=n[t],e=0;e<i.length;e+=1)r.push(i[e]);return r},n.containsKey=function(t){return o.containsKey(t)},n.clear=function(){return o.clear()},n.size=function(){return o.size()},n.isEmpty=function(){return o.isEmpty()},n.forEach=function(t){return o.forEach(t)},n.equals=function(e){var i,o=!0;return!t.isUndefined(e)&&"function"==typeof e.values&&n.size()===e.size()&&(e.forEach(function(e,s){return(i=n.get(e)||[]).length!==s.length?o=!1:t.arrays.forEach(i,function(e){return o=t.arrays.contains(s,e,r)}),o}),o)},n},t.PriorityQueue=function(e){var i={},n=t.reverseCompareFunction(e),o=new t.Heap(n);return i.enqueue=function(t){return o.add(t)},i.add=function(t){return o.add(t)},i.dequeue=function(){var t;if(0!==o.size())return t=o.peek(),o.removeRoot(),t},i.peek=function(){return o.peek()},i.contains=function(t){return o.contains(t)},i.isEmpty=function(){return o.isEmpty()},i.size=function(){return o.size()},i.clear=function(){o.clear()},i.forEach=function(t){o.forEach(t)},i.toArray=function(){return o.toArray()},i.equals=function(e){var o,r,s;return!t.isUndefined(e)&&"function"==typeof e.dequeue&&i.size()===e.size()&&(o=i.toArray(),r=e.toArray(),s=t.compareToEquals(n),o.sort(n),r.sort(n),t.arrays.equals(o,r,s))},i},t.Queue=function(){var e={},i=new t.LinkedList;return e.enqueue=function(t){return i.add(t)},e.add=function(t){return i.add(t)},e.dequeue=function(){var t;if(0!==i.size())return t=i.first(),i.removeElementAtIndex(0),t},e.peek=function(){if(0!==i.size())return i.first()},e.size=function(){return i.size()},e.contains=function(t,e){return i.contains(t,e)},e.isEmpty=function(){return i.size()<=0},e.clear=function(){i.clear()},e.forEach=function(t){i.forEach(t)},e.toArray=function(){return i.toArray()},e.equals=function(i,n){var o,r,s;return!t.isUndefined(i)&&"function"==typeof i.dequeue&&e.size()===i.size()&&(o=n||t.defaultEquals,r=!0,i.forEach(function(t){return s=e.dequeue(),e.enqueue(s),r=o(s,t)}),r)},e},t.Set=function(e){var i={},n=new t.Dictionary(e);return i.contains=function(t){return n.containsKey(t)},i.add=function(e){return!i.contains(e)&&!t.isUndefined(e)&&(n.set(e,e),!0)},i.intersection=function(t){i.forEach(function(e){t.contains(e)||i.remove(e)})},i.union=function(t){t.forEach(function(t){i.add(t)})},i.difference=function(t){t.forEach(function(t){i.remove(t)})},i.isSubsetOf=function(t){var e=!0;return!(i.size()>t.size())&&(i.forEach(function(i){if(!t.contains(i))return e=!1,!1}),e)},i.remove=function(t){return!!i.contains(t)&&(n.remove(t),!0)},i.forEach=function(t){n.forEach(function(e,i){return t(i)})},i.toArray=function(){return n.values()},i.isEmpty=function(){return n.isEmpty()},i.size=function(){return n.size()},i.clear=function(){n.clear()},i.equals=function(e){var n;return!t.isUndefined(e)&&"function"==typeof e.isSubsetOf&&i.size()===e.size()&&(n=!0,e.forEach(function(t){return n=i.contains(t)}),n)},i},t.Stack=function(){var e={},i=new t.LinkedList;return e.push=function(t){return i.add(t,0)},e.add=function(t){return i.add(t,0)},e.pop=function(){return i.removeElementAtIndex(0)},e.peek=function(){return i.first()},e.size=function(){return i.size()},e.contains=function(t,e){return i.contains(t,e)},e.isEmpty=function(){return i.isEmpty()},e.clear=function(){i.clear()},e.forEach=function(t){i.forEach(t)},e.toArray=function(){return i.toArray()},e.equals=function(n,o){var r,s,a;return!t.isUndefined(n)&&"function"==typeof n.peek&&e.size()===n.size()&&(r=o||t.defaultEquals,s=!0,n.forEach(function(t){return a=e.pop(),i.add(a),s=r(a,t)}),s)},e},t})?n.apply(e,o):n)||(t.exports=r)},"./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/dialog-cl/src/_dialog.scss":function(t,e,i){(t.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,'div.dialog-cl {\n  box-sizing: border-box;\n  position: fixed;\n  border: 1px solid #444444;\n  background-color: white;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  cursor: default;\n  top: 0;\n  width: 350px;\n  min-width: 150px;\n  max-width: 500px;\n  height: auto;\n  min-height: 150px;\n  max-height: 600px;\n}\n\ndiv.cl-dialog-bottom {\n  box-sizing: border-box;\n  flex: 0 0 44px;\n  width: 100%;\n  background-color: white;\n  margin: 0;\n  padding: 0;\n  text-align: right;\n  border-top: 1px solid #cccccc;\n  cursor: default;\n}\n\ndiv.dialog-cl-body {\n  flex: 0 1 auto;\n  width: 100%;\n  overflow-y: auto;\n  background-color: white;\n  padding: 0;\n}\n\ndiv.dialog-cl-body p:first-child,\ndiv.dialog-cl-body h1:first-child,\ndiv.dialog-cl-body h2:first-child {\n  margin-top: 0;\n}\n\ndiv.dialog-cl-body p:last-child {\n  margin-bottom: 0;\n}\n\ndiv.cl-dialog-bottom button {\n  display: inline-block;\n  min-width: 7em;\n  margin: 10px 10px 10px 0;\n  padding: 3px 10px;\n  font-family: "Trebuchet MS", Helvetica, sans-serif;\n  font-size: 0.8em;\n  font-weight: bold;\n  border: 1px solid #999;\n  border-radius: 1px;\n  box-shadow: inset 0 -1px 0 1px rgba(0, 0, 0, 0.1), inset 0 -10px 20px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n  text-align: center;\n  outline: none;\n  color: #444;\n  background: #fff;\n}\n\ndiv.cl-dialog-bottom button:active {\n  box-shadow: inset 0 -1px 0 1px rgba(0, 0, 0, 0.1), inset 0 10px 20px rgba(0, 0, 0, 0.1);\n}\n\ndiv.cl-dialog-bottom button:disabled,\ndiv.cl-dialog-bottom button[disabled] {\n  color: #ccc;\n}\n\ndiv.dialog-cl-top {\n  box-sizing: border-box;\n  background-color: #009688;\n  margin: 0;\n  padding: 0;\n  flex: 0 0 25px;\n  cursor: default;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n\ndiv.dialog-cl-top h1 {\n  flex-grow: 1;\n  margin: 0;\n  padding: 4px 4px 0 10px;\n  font-family: "Trebuchet MS", Helvetica, sans-serif;\n  font-size: 16px;\n  line-height: 16px;\n  user-select: none;\n}\n\ndiv.dialog-cl-top button.dialog-cl-tb-button {\n  flex: 0 0 25px;\n  position: relative;\n  box-sizing: border-box;\n  height: 25px;\n  width: 25px;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  outline: none;\n}\n\ndiv.dialog-cl-top button.dialog-cl-tb-button span {\n  position: absolute;\n  left: 4px;\n  top: 4px;\n}\n\ndiv.dialog-cl-top .dialog-cl-tb-button:hover {\n  background-color: #e81123;\n  cursor: pointer;\n}\n\ndiv.dialog-cl div.message-cl {\n  font-size: 1.25em;\n  padding: 1em;\n}\n\ndiv.dialog-cl-column {\n  text-align: center;\n}\n\ndiv.dialog-cl-column > div {\n  display: inline-block;\n  padding: 1.5em 0 2.0em 0;\n}\n\ndiv.dialog-cl-column select {\n  width: 100%;\n}\n\n',""])},"./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/_cirsim.scss":function(t,e,i){var n=i("./node_modules/css-loader/lib/url/escape.js");(t.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,'div.cirsim div.toast {\n  position: absolute;\n  bottom: 0;\n  visibility: hidden;\n  transform: translateY(2.3em);\n  z-index: 400;\n  transition: all 0.4s ease-in-out 0s, visibility 0s linear 0.4s, z-index 0s linear 0.01s;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 1.1em;\n  left: calc(50% - 30em/2);\n  width: 30em;\n  background-color: #151515;\n  color: white;\n  text-align: center;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  padding: 0.5em;\n}\n\ndiv.cirsim div.toast.toast-active {\n  visibility: visible;\n  transform: translateY(0%);\n  transition-delay: 0s, 0s, 0.4s;\n  z-index: 400;\n}\n\ndiv.cirsim nav.menubar {\n  position: relative;\n  z-index: 100;\n  margin: 0;\n  border: 0;\n  padding: 0;\n  background-color: #f0f3f0;\n  border-bottom: thin solid #808080;\n  font-size: 0.9rem;\n}\n\ndiv.cirsim nav.menubar li:hover {\n  background: #00796B;\n}\n\ndiv.cirsim nav.menubar li {\n  user-select: none;\n  cursor: pointer;\n}\n\ndiv.cirsim nav.menubar li a,\ndiv.cirsim nav.menubar li a:link,\ndiv.cirsim nav.menubar li a:visited {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 0.9rem;\n  color: black;\n  text-decoration: none;\n}\n\ndiv.cirsim nav.menubar > ul {\n  list-style-type: none;\n  margin: 0;\n  border: 0;\n  padding: 0;\n}\n\ndiv.cirsim nav.menubar > ul img.check {\n  vertical-align: baseline;\n  width: 19px;\n  height: 16px;\n  content: url('+n(i("./src/img/menu-check.png"))+');\n}\n\ndiv.cirsim nav.menubar > ul > li {\n  display: inline-block;\n  margin: 0;\n  border: 0;\n  padding: 0.25em 2em 0.25em 0.5em;\n  position: relative;\n}\n\ndiv.cirsim nav.menubar > ul > li a,\ndiv.cirsim nav.menubar > ul > li a:link,\ndiv.cirsim nav.menubar > ul > li a:visited {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 0.9rem;\n  color: black;\n  text-decoration: none;\n}\n\ndiv.cirsim nav.menubar > ul ul {\n  visibility: hidden;\n  opacity: 0;\n  transform: translateY(-2em);\n  z-index: -1;\n  transition: all 0.2s ease-in-out 0s, visibility 0s linear 0.2s, z-index 0s linear 0.01s;\n  list-style-type: none;\n  position: absolute;\n  overflow: hidden;\n  left: 0;\n  top: 100%;\n  margin: 1px 0 0 0;\n  background-color: #f0f3f0;\n  padding: 0;\n  border: 1px solid #808080;\n  border-top-width: 0;\n}\n\ndiv.cirsim nav.menubar > ul ul > li {\n  padding: 0 5px;\n  margin: 0;\n  overflow: hidden;\n}\n\ndiv.cirsim nav.menubar > ul ul > li a {\n  display: inline-block;\n  width: 8em;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\ndiv.cirsim nav.menubar > ul ul > li.menu-disabled a {\n  opacity: 0.3;\n}\n\ndiv.cirsim nav.menubar > ul ul.menu-open {\n  visibility: visible;\n  opacity: 1;\n  z-index: 100;\n  transform: translateY(0%);\n  transition-delay: 0s, 0s, 0.2s;\n}\n\ndiv.cirsim nav.menubar > ul ul.edit-menu a {\n  width: 6em;\n}\n\ndiv.cirsim nav.menubar > ul ul.option-menu a {\n  width: 11em;\n}\n\ndiv.cirsim nav.menubar > ul ul.help-menu a {\n  width: 7.5em;\n}\n\ndiv.cirsim nav.menubar > ul .ul-state-active {\n  color: red;\n}\n\ndiv.cirsim nav.menubar > ul li.menu-divider {\n  height: 1px;\n  border: 0 solid black;\n  border-top-width: 1px;\n}\n\ndiv.cirsim div.cs-palette {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  box-sizing: border-box;\n  width: 83px;\n  background: white;\n  border-right: 1px solid black;\n  padding: 1em 5px;\n  z-index: 5;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  cursor: pointer;\n  -moz-user-select: -moz-none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.cirsim div.cs-palette div.cs-item {\n  position: relative;\n  min-height: 60px;\n  border-bottom: thin solid #dddddd;\n  align-items: center;\n  display: flex;\n}\n\ndiv.cirsim div.cs-palette div.cs-item div.cs-box {\n  vertical-align: middle;\n  margin: 0;\n  padding: 0;\n  -moz-box-shadow: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\ndiv.cirsim div.cs-palette div.cs-item div.cs-box div.cs-img {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  line-height: 0;\n}\n\ndiv.cirsim div.cs-palette div.cs-item div.cs-box img {\n  -moz-box-shadow: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: 0;\n  margin: 0;\n}\n\ndiv.cirsim div.cs-palette div.cs-item div.cs-box div.cs-desc {\n  display: block;\n  font-style: normal;\n  font-weight: bold;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  font-size: 0.80em;\n}\n\ndiv.cirsim div.cs-palette div.cs-item div.cs-box div.long {\n  font-size: 0.65em;\n}\n\ndiv.cirsim div.cs-palette figure {\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n  margin: 0;\n  padding: 0;\n  -moz-box-shadow: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border-bottom: thin solid #dddddd;\n}\n\ndiv.cirsim div.cs-palette figure img {\n  -moz-box-shadow: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: 0;\n  margin: 0;\n}\n\ndiv.cirsim div.cs-palette figure figcaption {\n  font-style: normal;\n  font-weight: bold;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n}\n\ndiv.cirsim div.cs-palette figure figcaption.long {\n  font-size: 0.65em;\n}\n\n.cirsim-dialog-titlebar {\n  position: absolute;\n  top: 50%;\n  width: 20px;\n  margin: -10px 0 0 0;\n  padding: 1px;\n  height: 20px;\n}\n\n.cirsim-home {\n  right: calc(0.6em + 20px);\n}\n\n.cirsim-back {\n  right: calc(0.9em + 40px);\n}\n\n.cirsim-help {\n  position: relative;\n  width: 100%;\n  max-width: 100%;\n  padding: 0.5em;\n}\n\n.cirsim-help p:first-child {\n  margin-top: 0;\n}\n\n.cirsim-help figure {\n  text-align: center;\n  overflow-x: auto;\n  margin: 1em 0;\n}\n\n.cirsim-help figure img {\n  box-shadow: none;\n  border: 0;\n  padding: 0;\n  margin: 0;\n}\n\n.cirsim .help-div {\n  padding: 0;\n  border-left: 1px solid #aaaaaa;\n  border-right: 1px solid #aaaaaa;\n  background-color: white;\n}\n\n.cirsim .help-div div.header {\n  box-sizing: border-box;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  background-color: #009688;\n  color: black;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  z-index: 20;\n  height: 25px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n\n.cirsim .help-div div.header h1 {\n  flex-grow: 1;\n  margin: 0;\n  padding: 4px 4px 0 10px;\n  font-family: "Trebuchet MS", Helvetica, sans-serif;\n  font-size: 16px;\n  line-height: 16px;\n  user-select: none;\n}\n\n.cirsim .help-div div.header button {\n  box-size: border-box;\n  flex: 0 0 25px;\n  width: 25px;\n  height: 25px;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  background: none;\n  outline: none;\n}\n\n.cirsim .help-div div.header button:hover {\n  background-color: #e81123;\n  cursor: pointer;\n}\n\ndiv.cirsim div.work {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 1.53em;\n  right: 0;\n  bottom: 0;\n  background: black;\n}\n\ndiv.cirsim .cirsim-overlay {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: #a00;\n  opacity: 0.05;\n  z-index: 2000;\n  display: none;\n}\n\ndiv.cirsim div.main {\n  line-height: normal;\n  font-size: 1rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n}\n\ndiv.cirsim div.help-div {\n  line-height: normal;\n  font-size: 1rem;\n  display: none;\n}\n\ndiv.cirsim.docked-help .main {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 325px;\n  bottom: 0;\n}\n\ndiv.cirsim.docked-help .help-div {\n  display: block;\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 325px;\n  overflow: auto;\n}\n\ndiv.cirsim-full {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: white;\n}\n\ndiv.cirsim-inline {\n  position: relative;\n  margin: 0;\n  border: 0;\n  padding: 0;\n  background: white;\n  overflow: hidden;\n}\n\ndiv.cirsim-inline div {\n  text-align: center;\n}\n\ndiv.cirsim-inline canvas {\n  margin: 0 auto;\n}\n\ndiv.cirsim-window {\n  position: relative;\n  width: 100%;\n  height: 600px;\n  margin: 0;\n  border-left: 0;\n  border-right: 0;\n  padding: 0;\n  border-top: thin solid #aaaaaa;\n  background: white;\n  min-height: 100px;\n  min-width: 800px;\n}\n\ndiv.cirsim.height300 {\n  height: 300px;\n}\n\ndiv.cirsim div.dialog-content {\n  position: relative;\n  padding: 0.5em;\n  font-size: 0.95em;\n}\n\ndiv.cirsim div.dialog-content input {\n  padding: 3px;\n  box-sizing: border-box;\n  font-size: 1.1em;\n}\n\ndiv.cirsim div.dialog-content h2 {\n  margin: 0.75em 0;\n}\n\ndiv.cirsim div.dialog-content form {\n  position: relative;\n  height: 100%;\n}\n\ndiv.cirsim div.dialog-content .large {\n  font-size: 1.2em;\n}\n\ndiv.cirsim div.dialog-content fieldset {\n  position: relative;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  min-width: 0;\n  max-width: 100%;\n}\n\ndiv.cirsim div.dialog-content p.error {\n  margin: 1em 0 0 0;\n  text-align: center;\n  color: red;\n  font-size: 0.9em;\n  font-style: italic;\n}\n\ndiv.cirsim div.dialog-content div.control {\n  position: relative;\n  margin: 0 0 1em 0;\n}\n\ndiv.cirsim div.dialog-content div.control label {\n  display: block;\n  font-style: italic;\n  margin: 0.2em 0 0.1em 0;\n}\n\ndiv.cirsim div.dialog-content div.control input {\n  display: block;\n}\n\ndiv.cirsim div.dialog-content div.control input[type=text],\ndiv.cirsim div.dialog-content div.control input[type=file] {\n  width: 100%;\n}\n\ndiv.cirsim div.dialog-content div.control input[type=radio] {\n  display: inline-block;\n}\n\ndiv.cirsim div.dialog-content div.control input[type=range] {\n  width: 100%;\n}\n\ndiv.cirsim div.dialog-content div.control p.selector {\n  text-align: center;\n}\n\ndiv.cirsim div.dialog-content div.control select {\n  width: 6em;\n}\n\ndiv.cirsim div.dialog-content div.control select.files {\n  width: 100%;\n}\n\ndiv.cirsim div.dialog-content div.control div.notice {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 45%;\n  text-align: center;\n  font-style: italic;\n  color: saddlebrown;\n}\n\ndiv.cirsim div.dialog-content div.control textarea {\n  width: 100%;\n}\n\ndiv.cirsim div.dialog-content div.control1 {\n  margin: 0 0 1em 0;\n}\n\ndiv.cirsim div.dialog-content div.control1 label {\n  display: inline-block;\n  font-style: italic;\n  padding-right: 0.5em;\n}\n\ndiv.cirsim div.dialog-content div.control1 select {\n  width: 6em;\n}\n\ndiv.cirsim div.dialog-content div.control1 input.number {\n  width: 2em;\n  text-align: center;\n}\n\ndiv.cirsim div.dialog-content div.control1 input.compname {\n  width: 4em;\n}\n\ndiv.cirsim div.dialog-content div.control1 input.tabname {\n  width: 6em;\n}\n\ndiv.cirsim div.dialog-content div.center {\n  text-align: center;\n}\n\ndiv.cirsim div.dialog-content div.indent {\n  margin-left: 20px;\n  margin-right: 20px;\n}\n\ndiv.cirsim div.dialog-content h1 {\n  margin: 0 0 0.5em 0;\n}\n\ndiv.cirsim div.dialog-content p {\n  color: #606060;\n}\n\ndiv.cirsim div.dialog-content .gap {\n  margin-top: 1em;\n}\n\ndiv.cirsim.about {\n  width: 400px;\n  text-align: center;\n}\n\ndiv.cirsim.about img {\n  width: 171px;\n  height: 75px;\n}\n\ndiv.cirsim.about div.dialog-content {\n  padding: 1em;\n}\n\ndiv.cirsim.about figure img {\n  box-shadow: none;\n}\n\ndiv.cirsim.help {\n  width: 500px;\n  height: 600px;\n}\n\ndiv.cirsim.component a.helper {\n  display: block;\n  position: absolute;\n  right: 0.5em;\n  top: 0.5em;\n  float: right;\n  color: #606060;\n  font-style: italic;\n  text-decoration: underline;\n  cursor: pointer;\n  font-size: 0.85em;\n  padding: 0;\n}\n\ndiv.cirsim .cirsim-error {\n  color: red;\n}\n\ndiv.cirsim-dialog {\n  padding: 1em;\n  font-size: 0.95em;\n}\n\n.ui-dialog-buttonset button {\n  width: 6em;\n}\n\n.ui-dialog .ui-dialog-buttonpane {\n  padding: 0;\n}\n\ndiv.cirsim table {\n  margin-left: auto;\n  margin-right: auto;\n  border-collapse: separate;\n  border-spacing: 0;\n  font-size: 0.9em;\n}\n\ndiv.cirsim table th {\n  color: white;\n  background: #18453B;\n  /* #3e9c45; */\n  background: linear-gradient(#18453B, #73d189);\n  text-shadow: rgba(0, 0, 0, 0.4) 0 1px 0;\n  border-right: 1px solid #C1DAD7;\n  border-bottom: 1px solid #C1DAD7;\n  border-top: 1px solid #C1DAD7;\n  letter-spacing: 1px;\n  text-align: left;\n  padding: 2px 6px;\n  font-family: Helvetica, Arial, sans-serif;\n  text-decoration: none;\n  vertical-align: bottom;\n}\n\ndiv.cirsim table th a:link {\n  color: #F5F3EB;\n}\n\ndiv.cirsim table th a:visited {\n  color: #E3DCC5;\n}\n\ndiv.cirsim table th a:hover {\n  color: #ffffff;\n}\n\ndiv.cirsim table th.width40 {\n  width: 20%;\n}\n\ndiv.cirsim table th.width40em {\n  width: 40em;\n}\n\ndiv.cirsim table th.width20em {\n  width: 20em;\n}\n\ndiv.cirsim table td {\n  border-right: 1px solid #C1DAD7;\n  border-bottom: 1px solid #C1DAD7;\n  background: #ffffff;\n  padding: 0.25em 0.75em;\n  color: #4f6b72;\n}\n\ndiv.cirsim table td a:link {\n  color: #8A8A8A;\n  text-decoration: underline;\n}\n\ndiv.cirsim table td a:visited {\n  color: #B09D5B;\n  text-decoration: underline;\n}\n\ndiv.cirsim table td a:hover {\n  color: #3366cc;\n  text-decoration: underline;\n}\n\ndiv.cirsim table.center td,\ndiv.cirsim table.center th {\n  text-align: center;\n}\n\ndiv.cirsim table.truth-table th {\n  color: black;\n  background: white;\n  text-shadow: none;\n  border: none;\n  border-bottom: 1px solid black;\n  text-align: center;\n}\n\ndiv.cirsim table.truth-table td {\n  border: 0;\n}\n\ndiv.cirsim table.truth-table th:last-child,\ndiv.cirsim table.truth-table td:last-child {\n  border-left: thin solid black;\n}\n\ndiv.cirsim div.tabs {\n  position: absolute;\n  left: 83px;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  font-size: 0.8rem;\n  padding: 0;\n  background: #ddd;\n  border: 0;\n}\n\ndiv.cirsim div.tabs > ul {\n  margin: 0;\n  padding: 3px 0 0 2px;\n  background: transparent;\n  border: 0;\n  list-style: none;\n}\n\ndiv.cirsim div.tabs > ul > li {\n  position: relative;\n  display: inline-block;\n  font-size: 0.8rem;\n  padding: 0.25em 1em 0.45em 1em;\n  min-width: 6em;\n  text-align: center;\n  cursor: pointer;\n  background: #ccc;\n  border: 1px solid black;\n  border-bottom: none;\n  border-radius: 5px 5px 0 0;\n  margin: 1px 3px -1px 0;\n  white-space: nowrap;\n  z-index: 18;\n}\n\ndiv.cirsim div.tabs > ul > li a {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  text-decoration: none;\n  color: black;\n  outline: 0;\n  user-select: none;\n}\n\ndiv.cirsim div.tabs > ul > li.selected {\n  background: white;\n  z-index: 22;\n}\n\ndiv.cirsim div.tabs > ul > li.selected a {\n  color: black;\n}\n\ndiv.cirsim div.tabs div.tab {\n  position: absolute;\n  display: none;\n  left: 0;\n  top: 29px;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  overflow: auto;\n}\n\ndiv.cirsim div.tabs div.tab canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 500px;\n  height: 500px;\n  cursor: pointer;\n}\n\ndiv.cirsim div.tabs div.tab.selected {\n  display: block;\n  background: white;\n  border-top: 1px solid black;\n}\n\n',""])},"./node_modules/css-loader/lib/css-base.js":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(r).concat([o]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},"./node_modules/css-loader/lib/url/escape.js":function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},"./node_modules/dialog-cl/src/_dialog.scss":function(t,e,i){var n=i("./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/dialog-cl/src/_dialog.scss");"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},r=i("./node_modules/style-loader/lib/addStyles.js")(n,o);n.locals&&(t.exports=n.locals),t.hot.accept("./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/dialog-cl/src/_dialog.scss",function(){var e=i("./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/dialog-cl/src/_dialog.scss");if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var i,n=0;for(i in t){if(!e||t[i]!==e[i])return!1;n++}for(i in e)n--;return 0===n}(n.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(e)}),t.hot.dispose(function(){r()})},"./node_modules/dialog-cl/src/polyfills/all.js":function(t,e){},"./node_modules/dompurify/dist/purify.js":function(t,e,i){t.exports=function(){"use strict";var t=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],e=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],i=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],n=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],o=["#text"],r=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],s=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],a=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],l=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function c(t,e){for(var i=e.length;i--;)"string"==typeof e[i]&&(e[i]=e[i].toLowerCase()),t[e[i]]=!0;return t}function u(t){var e={},i=void 0;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}var h=/\{\{[\s\S]*|[\s\S]*\}\}/gm,d=/<%[\s\S]*|[\s\S]*%>/gm,p=/^data-[\-\w.\u00B7-\uFFFF]/,f=/^aria-[\-\w]+$/,v=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,m=/^(?:\w+script|data):/i,y=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function b(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var w=function(){return"undefined"==typeof window?null:window};return function x(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),k=function(t){return x(t)};if(k.version="1.0.8",k.removed=[],!A||!A.document||9!==A.document.nodeType)return k.isSupported=!1,k;var T=A.document,I=!1,O=!1,S=A.document,C=A.DocumentFragment,E=A.HTMLTemplateElement,B=A.Node,j=A.NodeFilter,z=A.NamedNodeMap,L=void 0===z?A.NamedNodeMap||A.MozNamedAttrMap:z,D=A.Text,R=A.Comment,N=A.DOMParser;if("function"==typeof E){var P=S.createElement("template");P.content&&P.content.ownerDocument&&(S=P.content.ownerDocument)}var M=S,U=M.implementation,_=M.createNodeIterator,F=M.getElementsByTagName,H=M.createDocumentFragment,q=T.importNode,X={};k.isSupported=U&&void 0!==U.createHTMLDocument&&9!==S.documentMode;var W=h,Y=d,Q=p,J=f,V=m,G=y,K=v,Z=null,$=c({},[].concat(b(t),b(e),b(i),b(n),b(o))),tt=null,et=c({},[].concat(b(r),b(s),b(a),b(l))),it=null,nt=null,ot=!0,rt=!0,st=!1,at=!1,lt=!1,ct=!1,ut=!1,ht=!1,dt=!1,pt=!1,ft=!1,vt=!0,mt=!0,yt=!1,gt={},bt=c({},["audio","head","math","script","style","template","svg","video"]),wt=c({},["audio","video","img","source","image"]),xt=c({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),At=null,kt=S.createElement("form"),Tt=function(h){"object"!==(void 0===h?"undefined":g(h))&&(h={}),Z="ALLOWED_TAGS"in h?c({},h.ALLOWED_TAGS):$,tt="ALLOWED_ATTR"in h?c({},h.ALLOWED_ATTR):et,it="FORBID_TAGS"in h?c({},h.FORBID_TAGS):{},nt="FORBID_ATTR"in h?c({},h.FORBID_ATTR):{},gt="USE_PROFILES"in h&&h.USE_PROFILES,ot=!1!==h.ALLOW_ARIA_ATTR,rt=!1!==h.ALLOW_DATA_ATTR,st=h.ALLOW_UNKNOWN_PROTOCOLS||!1,at=h.SAFE_FOR_JQUERY||!1,lt=h.SAFE_FOR_TEMPLATES||!1,ct=h.WHOLE_DOCUMENT||!1,dt=h.RETURN_DOM||!1,pt=h.RETURN_DOM_FRAGMENT||!1,ft=h.RETURN_DOM_IMPORT||!1,ht=h.FORCE_BODY||!1,vt=!1!==h.SANITIZE_DOM,mt=!1!==h.KEEP_CONTENT,yt=h.IN_PLACE||!1,K=h.ALLOWED_URI_REGEXP||K,lt&&(rt=!1),pt&&(dt=!0),gt&&(Z=c({},[].concat(b(o))),tt=[],!0===gt.html&&(c(Z,t),c(tt,r)),!0===gt.svg&&(c(Z,e),c(tt,s),c(tt,l)),!0===gt.svgFilters&&(c(Z,i),c(tt,s),c(tt,l)),!0===gt.mathMl&&(c(Z,n),c(tt,a),c(tt,l))),h.ADD_TAGS&&(Z===$&&(Z=u(Z)),c(Z,h.ADD_TAGS)),h.ADD_ATTR&&(tt===et&&(tt=u(tt)),c(tt,h.ADD_ATTR)),h.ADD_URI_SAFE_ATTR&&c(xt,h.ADD_URI_SAFE_ATTR),mt&&(Z["#text"]=!0),ct&&c(Z,["html","head","body"]),Z.table&&c(Z,["tbody"]),Object&&"freeze"in Object&&Object.freeze(h),At=h},It=function(t){k.removed.push({element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=""}},Ot=function(t,e){try{k.removed.push({attribute:e.getAttributeNode(t),from:e})}catch(t){k.removed.push({attribute:null,from:e})}e.removeAttribute(t)},St=function(t){var e=void 0;if(ht&&(t="<remove></remove>"+t),I)try{e=(new N).parseFromString(t,"text/html")}catch(t){}if(O&&c(it,["title"]),!e||!e.documentElement){var i=e=U.createHTMLDocument(""),n=i.body;n.parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=t}return F.call(e,ct?"html":"body")[0]};k.isSupported&&(function(){try{var t=St('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">');t.querySelector("svg img")&&(I=!0)}catch(t){}}(),function(){try{var t=St("<x/><title>&lt;/title&gt;&lt;img&gt;");t.querySelector("title").textContent.match(/<\/title/)&&(O=!0)}catch(t){}}());var Ct=function(t){return _.call(t.ownerDocument||t,t,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT,function(){return j.FILTER_ACCEPT},!1)},Et=function(t){return"object"===(void 0===B?"undefined":g(B))?t instanceof B:t&&"object"===(void 0===t?"undefined":g(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Bt=function(t,e,i){X[t]&&X[t].forEach(function(t){t.call(k,e,i,At)})},jt=function(t){var e=void 0;if(Bt("beforeSanitizeElements",t,null),function(t){return!(t instanceof D||t instanceof R)&&!("string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof L&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute)}(t))return It(t),!0;var i=t.nodeName.toLowerCase();if(Bt("uponSanitizeElement",t,{tagName:i,allowedTags:Z}),!Z[i]||it[i]){if(mt&&!bt[i]&&"function"==typeof t.insertAdjacentHTML)try{t.insertAdjacentHTML("AfterEnd",t.innerHTML)}catch(t){}return It(t),!0}return!at||t.firstElementChild||t.content&&t.content.firstElementChild||!/</g.test(t.textContent)||(k.removed.push({element:t.cloneNode()}),t.innerHTML?t.innerHTML=t.innerHTML.replace(/</g,"&lt;"):t.innerHTML=t.textContent.replace(/</g,"&lt;")),lt&&3===t.nodeType&&(e=(e=(e=t.textContent).replace(W," ")).replace(Y," "),t.textContent!==e&&(k.removed.push({element:t.cloneNode()}),t.textContent=e)),Bt("afterSanitizeElements",t,null),!1},zt=function(t,e,i){if(vt&&("id"===e||"name"===e)&&(i in S||i in kt))return!1;if(lt&&(i=(i=i.replace(W," ")).replace(Y," ")),rt&&Q.test(e));else if(ot&&J.test(e));else{if(!tt[e]||nt[e])return!1;if(xt[e]);else if(K.test(i.replace(G,"")));else if("src"!==e&&"xlink:href"!==e||"script"===t||0!==i.indexOf("data:")||!wt[t])if(st&&!V.test(i.replace(G,"")));else if(i)return!1}return!0},Lt=function(t){var e=void 0,i=void 0,n=void 0,o=void 0,r=void 0;Bt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tt};for(r=s.length;r--;){var l=e=s[r],c=l.name,u=l.namespaceURI;if(i=e.value.trim(),n=c.toLowerCase(),a.attrName=n,a.attrValue=i,a.keepAttr=!0,Bt("uponSanitizeAttribute",t,a),i=a.attrValue,"name"===n&&"IMG"===t.nodeName&&s.id)o=s.id,s=Array.prototype.slice.apply(s),Ot("id",t),Ot(c,t),s.indexOf(o)>r&&t.setAttribute("id",o.value);else{if("INPUT"===t.nodeName&&"type"===n&&"file"===i&&(tt[n]||!nt[n]))continue;"id"===c&&t.setAttribute(c,""),Ot(c,t)}if(a.keepAttr){var h=t.nodeName.toLowerCase();if(zt(h,n,i))try{u?t.setAttributeNS(u,c,i):t.setAttribute(c,i),k.removed.pop()}catch(t){}}}Bt("afterSanitizeAttributes",t,null)}},Dt=function t(e){var i=void 0,n=Ct(e);for(Bt("beforeSanitizeShadowDOM",e,null);i=n.nextNode();)Bt("uponSanitizeShadowNode",i,null),jt(i)||(i.content instanceof C&&t(i.content),Lt(i));Bt("afterSanitizeShadowDOM",e,null)};return k.sanitize=function(t,e){var i=void 0,n=void 0,o=void 0,r=void 0,s=void 0;if(t||(t="\x3c!--\x3e"),"string"!=typeof t&&!Et(t)){if("function"!=typeof t.toString)throw new TypeError("toString is not a function");if("string"!=typeof(t=t.toString()))throw new TypeError("dirty is not a string, aborting")}if(!k.isSupported){if("object"===g(A.toStaticHTML)||"function"==typeof A.toStaticHTML){if("string"==typeof t)return A.toStaticHTML(t);if(Et(t))return A.toStaticHTML(t.outerHTML)}return t}if(ut||Tt(e),k.removed=[],yt);else if(t instanceof B)i=St("\x3c!--\x3e"),1===(n=i.ownerDocument.importNode(t,!0)).nodeType&&"BODY"===n.nodeName?i=n:i.appendChild(n);else{if(!dt&&!ct&&-1===t.indexOf("<"))return t;if(!(i=St(t)))return dt?null:""}i&&ht&&It(i.firstChild);for(var a=Ct(yt?t:i);o=a.nextNode();)3===o.nodeType&&o===r||jt(o)||(o.content instanceof C&&Dt(o.content),Lt(o),r=o);if(yt)return t;if(dt){if(pt)for(s=H.call(i.ownerDocument);i.firstChild;)s.appendChild(i.firstChild);else s=i;return ft&&(s=q.call(T,s,!0)),s}return ct?i.outerHTML:i.innerHTML},k.setConfig=function(t){Tt(t),ut=!0},k.clearConfig=function(){At=null,ut=!1},k.isValidAttribute=function(t,e,i){At||Tt({});var n=t.toLowerCase(),o=e.toLowerCase();return zt(n,o,i)},k.addHook=function(t,e){"function"==typeof e&&(X[t]=X[t]||[],X[t].push(e))},k.removeHook=function(t){X[t]&&X[t].pop()},k.removeHooks=function(t){X[t]&&(X[t]=[])},k.removeAllHooks=function(){X={}},k}()}()},"./node_modules/icons-cl/dist/icons.js":function(t,e,i){!function(e,i){t.exports=i()}(window,function(){return function(t){var e=window.webpackHotUpdateIcons;window.webpackHotUpdateIcons=function(t,i){!function(t,e){if(!w[t]||!b[t])return;for(var i in b[t]=!1,e)Object.prototype.hasOwnProperty.call(e,i)&&(f[i]=e[i]);0==--m&&0===y&&T()}(t,i),e&&e(t,i)};var i,n=!0,o="bf1893c730a5c7033119",r=1e4,s={},a=[],l=[];function c(t){var e=O[t];if(!e)return S;var n=function(n){return e.hot.active?(O[n]?-1===O[n].parents.indexOf(t)&&O[n].parents.push(t):(a=[t],i=n),-1===e.children.indexOf(n)&&e.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+t),a=[]),S(n)},o=function(t){return{configurable:!0,enumerable:!0,get:function(){return S[t]},set:function(e){S[t]=e}}};for(var r in S)Object.prototype.hasOwnProperty.call(S,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(n,r,o(r));return n.e=function(t){return"ready"===h&&d("prepare"),y++,S.e(t).then(e,function(t){throw e(),t});function e(){y--,"prepare"===h&&(g[t]||k(t),0===y&&0===m&&T())}},n.t=function(t,e){return 1&e&&(t=n(t)),S.t(t,-2&e)},n}var u=[],h="idle";function d(t){h=t;for(var e=0;e<u.length;e++)u[e].call(null,t)}var p,f,v,m=0,y=0,g={},b={},w={};function x(t){return+t+""===t?+t:t}function A(t){if("idle"!==h)throw new Error("check() is only allowed in idle status");return n=t,d("check"),function(t){return t=t||1e4,new Promise(function(e,i){if("undefined"==typeof XMLHttpRequest)return i(new Error("No browser support"));try{var n=new XMLHttpRequest,r=S.p+""+o+".hot-update.json";n.open("GET",r,!0),n.timeout=t,n.send(null)}catch(t){return i(t)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)i(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)i(new Error("Manifest request to "+r+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(t){return void i(t)}e(t)}}})}(r).then(function(t){if(!t)return d("idle"),null;b={},g={},w=t.c,v=t.h,d("prepare");var e=new Promise(function(t,e){p={resolve:t,reject:e}});f={};return k("Dialog"),"prepare"===h&&0===y&&0===m&&T(),e})}function k(t){w[t]?(b[t]=!0,m++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=S.p+""+t+"."+o+".hot-update.js",document.head.appendChild(e)}(t)):g[t]=!0}function T(){d("ready");var t=p;if(p=null,t)if(n)Promise.resolve().then(function(){return I(n)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&e.push(x(i));t.resolve(e)}}function I(e){if("ready"!==h)throw new Error("apply() is only allowed in ready status");var i,n,r,l,c;function u(t){for(var e=[t],i={},n=e.slice().map(function(t){return{chain:[t],id:t}});n.length>0;){var o=n.pop(),r=o.id,s=o.chain;if((l=O[r])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:r};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:r};for(var a=0;a<l.parents.length;a++){var c=l.parents[a],u=O[c];if(u){if(u.hot._declinedDependencies[r])return{type:"declined",chain:s.concat([c]),moduleId:r,parentId:c};-1===e.indexOf(c)&&(u.hot._acceptedDependencies[r]?(i[c]||(i[c]=[]),p(i[c],[r])):(delete i[c],e.push(c),n.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:i}}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];-1===t.indexOf(n)&&t.push(n)}}e=e||{};var m={},y=[],g={},b=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var A in f)if(Object.prototype.hasOwnProperty.call(f,A)){var k;c=x(A);var T=!1,I=!1,C=!1,E="";switch((k=f[A]?u(c):{type:"disposed",moduleId:A}).chain&&(E="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":e.onDeclined&&e.onDeclined(k),e.ignoreDeclined||(T=new Error("Aborted because of self decline: "+k.moduleId+E));break;case"declined":e.onDeclined&&e.onDeclined(k),e.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+E));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(k),e.ignoreUnaccepted||(T=new Error("Aborted because "+c+" is not accepted"+E));break;case"accepted":e.onAccepted&&e.onAccepted(k),I=!0;break;case"disposed":e.onDisposed&&e.onDisposed(k),C=!0;break;default:throw new Error("Unexception type "+k.type)}if(T)return d("abort"),Promise.reject(T);if(I)for(c in g[c]=f[c],p(y,k.outdatedModules),k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,c)&&(m[c]||(m[c]=[]),p(m[c],k.outdatedDependencies[c]));C&&(p(y,[k.moduleId]),g[c]=b)}var B,j=[];for(n=0;n<y.length;n++)c=y[n],O[c]&&O[c].hot._selfAccepted&&j.push({module:c,errorHandler:O[c].hot._selfAccepted});d("dispose"),Object.keys(w).forEach(function(t){!1===w[t]&&function(t){delete installedChunks[t]}(t)});for(var z,L,D=y.slice();D.length>0;)if(c=D.pop(),l=O[c]){var R={},N=l.hot._disposeHandlers;for(r=0;r<N.length;r++)(i=N[r])(R);for(s[c]=R,l.hot.active=!1,delete O[c],delete m[c],r=0;r<l.children.length;r++){var P=O[l.children[r]];P&&((B=P.parents.indexOf(c))>=0&&P.parents.splice(B,1))}}for(c in m)if(Object.prototype.hasOwnProperty.call(m,c)&&(l=O[c]))for(L=m[c],r=0;r<L.length;r++)z=L[r],(B=l.children.indexOf(z))>=0&&l.children.splice(B,1);for(c in d("apply"),o=v,g)Object.prototype.hasOwnProperty.call(g,c)&&(t[c]=g[c]);var M=null;for(c in m)if(Object.prototype.hasOwnProperty.call(m,c)&&(l=O[c])){L=m[c];var U=[];for(n=0;n<L.length;n++)if(z=L[n],i=l.hot._acceptedDependencies[z]){if(-1!==U.indexOf(i))continue;U.push(i)}for(n=0;n<U.length;n++){i=U[n];try{i(L)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:c,dependencyId:L[n],error:t}),e.ignoreErrored||M||(M=t)}}}for(n=0;n<j.length;n++){var _=j[n];c=_.module,a=[c];try{S(c)}catch(t){if("function"==typeof _.errorHandler)try{_.errorHandler(t)}catch(i){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:i,originalError:t}),e.ignoreErrored||M||(M=i),M||(M=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:c,error:t}),e.ignoreErrored||M||(M=t)}}return M?(d("fail"),Promise.reject(M)):(d("idle"),new Promise(function(t){t(y)}))}var O={};function S(e){if(O[e])return O[e].exports;var n=O[e]={i:e,l:!1,exports:{},hot:function(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(t,i){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var n=0;n<t.length;n++)e._acceptedDependencies[t[n]]=i||function(){};else e._acceptedDependencies[t]=i||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var i=0;i<t.length;i++)e._declinedDependencies[t[i]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var i=e._disposeHandlers.indexOf(t);i>=0&&e._disposeHandlers.splice(i,1)},check:A,apply:I,status:function(t){if(!t)return h;u.push(t)},addStatusHandler:function(t){u.push(t)},removeStatusHandler:function(t){var e=u.indexOf(t);e>=0&&u.splice(e,1)},data:s[t]};return i=void 0,e}(e),parents:(l=a,a=[],l),children:[]};return t[e].call(n.exports,n,n.exports,c(e)),n.l=!0,n.exports}return S.m=t,S.c=O,S.d=function(t,e,i){S.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},S.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},S.t=function(t,e){if(1&e&&(t=S(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(S.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)S.d(i,n,function(e){return t[e]}.bind(null,n));return i},S.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return S.d(e,"a",e),e},S.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},S.p="",S.h=function(){return o},c("./src/icons.js")(S.s="./src/icons.js")}({"./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/icons.scss":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/resolve-url-loader!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/icons.scss ***!
  \***************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){var n=i(/*! ../node_modules/css-loader/lib/url/escape.js */"./node_modules/css-loader/lib/url/escape.js");(t.exports=i(/*! ../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,".icons-cl {\n  display: inline-block;\n  background-image: url("+n(i(/*! ./images/icons.png */"./src/images/icons.png"))+");\n  width: 16px;\n  height: 16px;\n  overflow: hidden;\n  color: transparent;\n  padding: 0;\n}\n\n.icons-cl.icons-cl-caret-1-n {\n  background-position: 0 0;\n}\n\n.icons-cl.icons-cl-caret-1-ne {\n  background-position: -16px 0;\n}\n\n.icons-cl.icons-cl-caret-1-e {\n  background-position: -32px 0;\n}\n\n.icons-cl.icons-cl-caret-1-se {\n  background-position: -48px 0;\n}\n\n.icons-cl.icons-cl-caret-1-s {\n  background-position: -64px 0;\n}\n\n.icons-cl.icons-cl-caret-1-sw {\n  background-position: -80px 0;\n}\n\n.icons-cl.icons-cl-caret-1-w {\n  background-position: -96px 0;\n}\n\n.icons-cl.icons-cl-caret-1-nw {\n  background-position: -112px 0;\n}\n\n.icons-cl.icons-cl-caret-2-n-s {\n  background-position: -128px 0;\n}\n\n.icons-cl.icons-cl-caret-2-e-w {\n  background-position: -144px 0;\n}\n\n.icons-cl.icons-cl-triangle-1-n {\n  background-position: 0px -16px;\n}\n\n.icons-cl.icons-cl-triangle-1-e {\n  background-position: -32px -16px;\n}\n\n.icons-cl.icons-cl-arrow-1-n {\n  background-position: 0px -32px;\n}\n\n.icons-cl.icons-cl-arrow-1-w {\n  background-position: -96px -32px;\n}\n\n.icons-cl.icons-cl-arrowstop-1-n {\n  background-position: -192px -32px;\n}\n\n.icons-cl.icons-cl-arrowstop-1-s {\n  background-position: -224px -32px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-n {\n  background-position: 0px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-ne {\n  background-position: -16px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-e {\n  background-position: -32px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-se {\n  background-position: -48px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-s {\n  background-position: -64px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-sw {\n  background-position: -80px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-w {\n  background-position: -96px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-1-nw {\n  background-position: -112px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-2-n-s {\n  background-position: -128px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-2-ne-sw {\n  background-position: -144px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-2-e-w {\n  background-position: -160px -48px;\n}\n\n.icons-cl.icons-cl-arrowthick-2-se-nw {\n  background-position: -176px -48px;\n}\n\n.icons-cl.icons-cl-arrowthickstop-1-n {\n  background-position: -192px -48px;\n}\n\n.icons-cl.icons-cl-arrowthickstop-1-e {\n  background-position: -208px -48px;\n}\n\n.icons-cl.icons-cl-arrowthickstop-1-s {\n  background-position: -224px -48px;\n}\n\n.icons-cl.icons-cl-arrowthickstop-1-w {\n  background-position: -240px -48px;\n}\n\n.icons-cl.icons-cl-arrowreturnthick-1-w {\n  background-position: 0px -64px;\n}\n\n.icons-cl.icons-cl-arrowreturnthick-1-e {\n  background-position: -32px -64px;\n}\n\n.icons-cl.icons-cl-folder-collapsed {\n  background-position: 0px -96px;\n}\n\n.icons-cl.icons-cl-folder-open {\n  background-position: -16px -96px;\n}\n\n.icons-cl.icons-cl-document {\n  background-position: -32px -96px;\n}\n\n.icons-cl.icons-cl-document-b {\n  background-position: -48px -96px;\n}\n\n.icons-cl.icons-cl-note {\n  background-position: -64px -96px;\n}\n\n.icons-cl.icons-cl-mail-closed {\n  background-position: -80px -96px;\n}\n\n.icons-cl.icons-cl-mail-open {\n  background-position: -96px -96px;\n}\n\n.icons-cl.icons-cl-suitcase {\n  background-position: -112px -96px;\n}\n\n.icons-cl.icons-cl-comment {\n  background-position: -128px -96px;\n}\n\n.icons-cl.icons-cl-person {\n  background-position: -144px -96px;\n}\n\n.icons-cl.icons-cl-print {\n  background-position: -160px -96px;\n}\n\n.icons-cl.icons-cl-trash {\n  background-position: -176px -96px;\n}\n\n.icons-cl.icons-cl-locked {\n  background-position: -192px -96px;\n}\n\n.icons-cl.icons-cl-unlocked {\n  background-position: -208px -96px;\n}\n\n.icons-cl.icons-cl-bookmark {\n  background-position: -224px -96px;\n}\n\n.icons-cl.icons-cl-tag {\n  background-position: -240px -96px;\n}\n\n.icons-cl.icons-cl-home {\n  background-position: 0px -112px;\n}\n\n.icons-cl.icons-cl-flag {\n  background-position: -16px -112px;\n}\n\n.icons-cl.icons-cl-calculator {\n  background-position: -32px -112px;\n}\n\n.icons-cl.icons-cl-cart {\n  background-position: -48px -112px;\n}\n\n.icons-cl.icons-cl-pencil {\n  background-position: -64px -112px;\n}\n\n.icons-cl.icons-cl-clock {\n  background-position: -80px -112px;\n}\n\n.icons-cl.icons-cl-disk {\n  background-position: -96px -112px;\n}\n\n.icons-cl.icons-cl-calendar {\n  background-position: -112px -112px;\n}\n\n.icons-cl.icons-cl-zoomin {\n  background-position: -128px -112px;\n}\n\n.icons-cl.icons-cl-zoomout {\n  background-position: -144px -112px;\n}\n\n.icons-cl.icons-cl-search {\n  background-position: -160px -112px;\n}\n\n.icons-cl.icons-cl-wrench {\n  background-position: -176px -112px;\n}\n\n.icons-cl.icons-cl-gear {\n  background-position: -192px -112px;\n}\n\n.icons-cl.icons-cl-heart {\n  background-position: -208px -112px;\n}\n\n.icons-cl.icons-cl-star {\n  background-position: -224px -112px;\n}\n\n.icons-cl.icons-cl-link {\n  background-position: -240px -112px;\n}\n\n.icons-cl.icons-cl-close {\n  background-position: -80px -128px;\n}\n\n.icons-cl.icons-cl-closethick {\n  background-position: -96px -128px;\n}\n\n.icons-cl.icons-cl-alert {\n  background-position: 0px -144px;\n}\n\n.icons-cl.icons-cl-help {\n  background-position: -48px -144px;\n}\n\n.icons-cl.icons-cl-check {\n  background-position: -64px -144px;\n}\n\n.icons-cl.icons-cl-play {\n  background-position: 0px -160px;\n}\n\n.icons-cl.icons-cl-pause {\n  background-position: -16px -160px;\n}\n\n",""])},"./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(r).concat([o]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},"./node_modules/css-loader/lib/url/escape.js":
/*!***************************************************!*\
  !*** ./node_modules/css-loader/lib/url/escape.js ***!
  \***************************************************/
/*! no static exports found */function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},"./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */function(t,e,i){var n={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),s=null,a=0,l=[],c=i(/*! ./urls */"./node_modules/style-loader/lib/urls.js");function u(t,e){for(var i=0;i<t.length;i++){var o=t[i],r=n[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(m(o.parts[s],e))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(m(o.parts[s],e));n[o.id]={id:o.id,refs:1,parts:a}}}}function h(t,e){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(a):i.push(n[s]={id:s,parts:[a]})}return i}function d(t,e){var i=r(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),l.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,o)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function f(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),d(t,e),e}function v(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function m(t,e){var i,n,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var l=a++;i=s||(s=f(e)),n=g.bind(null,i,l,!1),o=g.bind(null,i,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),d(t,e),e}(e),n=function(t,e,i){var n=i.css,o=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(n=c(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,i,e),o=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=f(e),n=function(t,e){var i=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){p(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=h(t,e);return u(i,e),function(t){for(var o=[],r=0;r<i.length;r++){var s=i[r];(a=n[s.id]).refs--,o.push(a)}t&&u(h(t,e),e);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete n[a.id]}}}};var y=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function g(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},"./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"./src/icons.js":
/*!**********************!*\
  !*** ./src/icons.js ***!
  \**********************/
/*! no exports provided */function(t,e,i){"use strict";i.r(e);i(/*! ./icons.scss */"./src/icons.scss")},"./src/icons.scss":
/*!************************!*\
  !*** ./src/icons.scss ***!
  \************************/
/*! no static exports found */function(t,e,i){var n=i(/*! !../node_modules/css-loader!../node_modules/resolve-url-loader!../node_modules/sass-loader/lib/loader.js?sourceMap!./icons.scss */"./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/icons.scss");"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},r=i(/*! ../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(n,o);n.locals&&(t.exports=n.locals),t.hot.accept(/*! !../node_modules/css-loader!../node_modules/resolve-url-loader!../node_modules/sass-loader/lib/loader.js?sourceMap!./icons.scss */"./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/icons.scss",function(){var e=i(/*! !../node_modules/css-loader!../node_modules/resolve-url-loader!../node_modules/sass-loader/lib/loader.js?sourceMap!./icons.scss */"./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/icons.scss");if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var i,n=0;for(i in t){if(!e||t[i]!==e[i])return!1;n++}for(i in e)n--;return 0===n}(n.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(e)}),t.hot.dispose(function(){r()})},"./src/images/icons.png":
/*!******************************!*\
  !*** ./src/images/icons.png ***!
  \******************************/
/*! no static exports found */function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABDlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxUYW9AAAAWXRSTlMAL2ZKCEBgGRAzUBq/ImOeRY+UP22gnCApzA0xASwWVSeZwxNxgCM0R8+vaEgKhRw4U+8EHkt/H1pCgoyoov0kAlEDITJqtbjfYocGkW88sq18vsaryLyqpZmKC7AAAA7mSURBVHja7V0JY9u2DqZcy5QcJ26zrZnjrk1zrE3X1/b12H1vb+++T/z/P/JIyRIB8LJiR3Zifs4FUQfxCSQBkFKESEhI2AJIkDuuP2w5AytXT0JYf4kZ0Dv3SwizQNCgBPD6kHJdKvEWAFvFwAXY8dWfvZoEt0CbAMnrQ8r5HbQI4IfbF7B2lj0yYNXfrUKg3GZQBA0IQg1isbMM7rTeBs4t2K4iv8G2hQTvsG0BgQr0bwFuUgK3MGjBzh2sPiBkgv33AZseBXgT6n8USI5QQkJCQkJCQsLGPMEN+0HSitaAO+8yoBAAD/Blp3yAlRBSZ++VEkcFLAKsHfjuNFyU1gU4ATIYPPYaDFn1d9c4UOzIqMjA4SKSAoSKAOivgYMzBeSvsVwmHyCDfMbSB5sPhyVcZz5AxprgtoXDt30USEhISEhISEjYoKe1ujO/0vlhswrYoU9QoSsEStDt+jahEDkbhLfY6rFisHehh4OvzH2BYAUcpeHru84QIsgqt04GMQJJhYDtAY4T2vUBr4Lgul7o+na4DDECIBhvg4jw6zo8sAtVcLE3eAkCYZ0wyJ/biEMmFGxATgthjDsOD5to/Apd1Iu2cccaIgiXR87IbgdEb0jkAhDs90BEmnD/o8A1Hx8fJhMSEhISEhJ2FasvS13RzZCO1ej+U7r80OhUVeTy3Sqw1AXC8TwsUQFULvDk1BJend4ZAqGLa3o/liIIXt8R33IFIumHQEainlg0FNm1dSx2l0ECImvD3WYWYiDInwSImZcrIQQ8HAYczQYsyAqHHdG49ciGWKIC7lJ3dAwQiOfBYQP+wy0CrBrY1aPlvInFCXBXwHsLlyoGCMbP4S5CuGbogxZEmgBrItEm4G7l0ruHtJe82AoE2ojDwFgTF9YMfYQAGckHyHAfAO5+NXSPwsXhscTRhuPjLsDSwxxsfT5AQlohkZCQkJCQIDpEoGsdhsMDMzgj6LXqB50m8Nd8del62h1Hf84jJIQ9xy4ZFDZXBQ6FIVS+Ov2u5+eB6BJ6Ohxit9Q1G27xB/RYCPKzVgbAZkDw9xuIwPsBXPkMOl8tlph+FcCOBd/hayegCTd9BEiIhM/O6etguWt2GrwW4dwZ1kiBdNTQfiIE/Hc8Nt9sJ0RErA+wCOBNYu3hnenUdDLBis7o8/2Ocn8Td5hE8BGiJTrF6xgYaUZHhvIB8eg1tggoln8I54+Sn5OQkJCQkLBVKG74QOZwOyA0XcW94avov01TAc5pFup9FdHZQChER29PbqsFtPGWoaeAAgVDNL4roLYAwASGHzmArZqtAvfybVyu9CfRGdAAvm4DNNwTbDoc0OvitosAgEh1tDKFI9YDK5PhjQ3xNtk2MXlzLMDan67YqAnyWABfr9DQvVXzoeE+IHR7m+i8MFbC+wBwWtx2jYLBUcDZ5dMBAoLLxIIvp7ghfkD0BMXy+8pbGP130T8hISEhYbdQaj+hXH7/N0OFN33VbqwqNxmH9vgy4rnB49pVKkP64+IyzMcbkQFk4g07ATpiX4n7wiPzQvFoAXZAoxKc5/kYOXvV32PL1R34n6YeLTQcEX3bGnPZmtnaX5Q3tR5mMBxCNmRuGvijN3vqkjp2A9cV2yAtz/OiBiNkQghADIA20SFwCxi1nvSeQutKQ2MBvvnu+nTmhEMYnp39DJiA2WwWfgJDADgFJwH7hEDQqqMNihCJCakrSAk/1vBZAIwB/dIXXvQBgCpIanxcHX5sCDj7af8vhICHDx9ay+P9MtvACdD6f4EJoCYFSn+wKSpQ2g8eangtYE+rDuM9kwcoK/tvCdDnRym2+nTmhKoJPH+Om8BMqFugfrYHlNXnigRo/R+9+8JPgGQb1BYp9yQKYeDo6MjfB8CeYkDpjwmovloCqk4QEfBWH/32bbPhrO4Ez7xt3kGAsJ+noAR8jvMTg9Ej9TP3EWA9ovJxBXTBk5MTMCZqWUC5Nx6rH6YJVLKfgJMaiw0yg5+ybA6ZJASUqBf8dfXB+g45AUNGABALGBj9AwS0p/uoAjO54dBnAeVehRI8Mug+dgykTWZZOwpkzfUzrwXYBMSaAC6v+8BcWASU9HrMD4AvY37AksNgXZ8BzcGUZugGW+FIpzfCl7c3cAIqBvJ1OnrlqEJ59VMw12WpPO4KNd5fq/4JCQkJCVuOFy/C5QUE89r1f36KZj3aYfBJNUw9wRkHHGMPFvKAhWf7S8tC/IHVJw+OayraOmab1LCN9S9Lw8BEe5EX2RgFO6rKg8dg/GxP1gPpLxAD6mANNtNEPZtMu4JLy/X9aDXItTNXtGN7obkd4Ht6CnDK9NeO0pHRX/vmbfQr3Y4YCufhN+pzjitUqvtcov3J3KD1+Pu/xaX4J45vMyVkRBZUPh4eI1nXfzTyVRAWzj5Qg0MWpyo7KozrWGcs2ujKJoCFwyBevb378t3bMb7/Y1GKZQn4D/xWff6BFdSuP5Nx8KFi42HGfV9ALRivUGHXe9GIqB+YwPlIcVALj5uMzWMfAYteAFnAOfwdXgDWH6Xs4hbwL/GL+J9JKZ0wCzhhFnDCLGBEYg/VAupOqo1v2fW+qqWv2gpWwTyOHUD3AWi1fJSAV28//1h93PovPHVMQAFV1qmR/wtfq8/f0IoJ0sYr+Wcmo/Kq/Sp87CGgie4K2kSo/QR6eRiOxRGJFxkBJWOY6d+uiKAEIPmzXx5OHv71w4W8BzQpGpNH9O7ZTWAhY/H01Mja9tt8p5MAaxRU5ygCS9p5kvvJosJPMAHWegOTcFLNnZ0uLAumvx3AF2TN2t1vVfc3+PZuS4Bq/0XgeEvRgdWJskd8eJKf+QE87c1k1xtgQvKI68+HQVEv6jLF1YzAo1z4LIghu4muXt4hwCc+UEJCQkLCBjDGiWntysGJtc8D6qlcIzI8DeHzda5++gKm6ucUD80XeGriC/jhh+++gw9Rdc61/hXUH/N38OoVvJsTT7QUPN3Q5BtamW8YM8cH6T8Zj18TBjq97t8eaNW5MhRtgmJgyr3xI+N5/Urjj8YVnY7VCUZWcEOiU8c6VDqXa/ZRrmOpgh0zOVgXmOBKO8ZTeA1rI0C7WugIrXv1TQ3AEPD9jw8e/Pi9qc9YQD7CMzucALJkBKpkFFrwUIg6VVEYX7vU+RhEwEs9V4cvONWs+wiIrKe3p7IyoG1qWslTHry0Fapsfb89/J5enIHcVRiyBRn0+GoeFO0AOvBU8ZzAFjAY4PXq2Xyuw0tDgNJfjP0ZIEfGxRXuUxPH7uaU6V+S6cmvYV8B7iG/lhwPx2ECztSfZ/qrKb6oJl+PkAWw6PXly72Xc7hoT/ha126yPgK4BXxTyadUf6NgNq1wRA83hKlbenx8TAggbf5I4TP1xRY8TL19wHyuGwDuBF+Px5M1doKsD/hm0QecmgxcTsLRua7vkTl8eg4XiAF9ojPU7TXJm0a/jz5afDED8fYB43I+n8McAsPgukeBU52YNfXhodt0MPgKXSxXX4VhAKwwXf+532zgw2BlERU8fQCMNTAB7pmANfoBp1VquvCkD/gjZspaXhe6p3zQlP7+laSvdRFVr7GQhqVO6ZVDcVU/YPM4Ozw8wxZ0rrkqHhSehI+9cjIhISFhtegUr46+84HuYj64s0P6PwN41grvN73u+zuj/3Ot7vPm/kMz0wTGBmYwwwf8zrXQbn0rz2YV/7M+DUA5mo0J3DcE3Pc5Qi4/IjeUWFMPfAOXYabH9Fnw/NdrAPqaz3lsE3rdd8E35MYoIgs3tfx0+JTOzgYegOilB9Ah9DNycVqHAZ4Yq/WfENvP8epje+nuqBhh/Z6qH0/JDrMNEpA39zv3E5CzJg9wWeCynMwm2wQUxGSqheZDEk4TAkqYzWb9ebpGYT8B9jEFsX3SKa5sAf12gpUB1A/NVDocGgIOvRZgW1Dub/Kd+4B+ozXe6d014l1vJ0jEnA+KK48Cvb5fb2YUrmtw0IgHItAHeEbAtd2WTfpF7+m0LNx7b5N1SG9YTEhISEjYIeQQEq990J3kwvJzrtUVffzYcqcDYh/eMKWAEFCVFXiHfFLoH0D5a18wUIfOptyOrHLmO+dWMVQzZH3Gg4QCSkBd1ta5uj1KPb4DIQCX2wS4nvS1ReiXALwYmBNQpT8Wlax+Taz58QkhYBLM8Pg0JiL0TUCPFrAUAT1bQL99gCulsNE+oOdRwM53bHgU2Hk/ICEhISFhtwE7/RxV8WcBn35WEEflYofek6ufI4VPc/Q8Q5bfczxA0fgm/P0HXeWtwxT+pAgQaHWyZmViMWC9TL68mrx9BnApxKe5uMRPW0+PVERLn681igyPh+qrXb4Nx3Q9u5aBykP9GW6pe1su1s1fmDuUjUCvtj/3EFC9Gk3uyfZteyCl3tDIe/pj3r+ny9UWuQdbbAEKl/iO635hClT9loAPa7Qm3lHeOkyqMXCE1ryoYHQMR2MPAbeuE8wALi8ucbdfpyNyoOrf3gg1e6buz7NMJCQkJCTsIvjzATGZL6LqKne93qpyDPz5gJjMl9F1lbteb1U5ev/NOsE7y8h8IWVXuev1VpWj4M8H3DcnaOQD7RseLOTD9l1p9VLaQ7M/koW3/L4pv++9voBg+azO2uBywesv8PMOwWwYWxzNl85Wvw4O8OxwbH+73NrfTJG7yvHsmfs3kPqITz75RND6VE8kL0sA+cMh69Z7wCosILC/sBQK788IiNYHvz7eJc9r/ddHwAi9g85BgOt3F4Wi13dYSMgC9NtG5tCBgHgT0G/f6mLisSYCMQKDTUq4LArvP6/1X44A/nyAo1NrOsFDbycFXPZ3qs5Okl+fd7K0vOHHJ+s2QJ93CKHvYWzVYbSrHEffjsyqjlRXOY6+XdlVXemuckJCQkJCQkIsHAC4Nnn7CaBva4vLt5AACBNQfUgEHSZAgLhZBFT/ni0gM4JAkMXUtgwiWUDqA24SAbs+CiQkJCQkJCSsG/LmeALRVZBQdl/oKtn/B9rqeyXkygTw+32T9F+HBXB9b5T+1AKq5e3Vx0OA6/8N6P25/re2DygbUP2lpb/cGQuo97+5+q9qATde/1VHAY/+u+oHGP1vkR/QiU1pvhMSthz/B/h1OWiyMpswAAAAAElFTkSuQmCC"}}).default})},"./node_modules/process/browser.js":function(t,e){var i,n,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=a(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new f(t,e)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/promise-polyfill/src/finally.js":function(t,e,i){"use strict";e.a=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})}},"./node_modules/promise-polyfill/src/index.js":function(t,e,i){"use strict";(function(t){var n=i("./node_modules/promise-polyfill/src/finally.js"),o=setTimeout;function r(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var n;try{n=i(t._value)}catch(t){return void c(e.promise,t)}l(e.promise,n)}else(1===t._state?l:c)(e.promise,t._value)})):t._deferreds.push(e)}function l(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof s)return t._state=3,t._value=e,void u(t);if("function"==typeof i)return void h(function(t,e){return function(){t.apply(e,arguments)}}(i,e),t)}t._state=1,t._value=e,u(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)a(t,t._deferreds[e]);t._deferreds=null}function h(t,e){var i=!1;try{t(function(t){i||(i=!0,l(e,t))},function(t){i||(i=!0,c(e,t))})}catch(t){if(i)return;i=!0,c(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var i=new this.constructor(r);return a(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(t,e,i)),i},s.prototype.finally=n.a,s.all=function(t){return new s(function(e,i){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function r(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){r(t,e)},i)}n[t]=s,0==--o&&e(n)}catch(t){i(t)}}for(var s=0;s<n.length;s++)r(s,n[s])})},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s(function(e){e(t)})},s.reject=function(t){return new s(function(e,i){i(t)})},s.race=function(t){return new s(function(e,i){for(var n=0,o=t.length;n<o;n++)t[n].then(e,i)})},s._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){o(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=s}).call(this,i("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/promise-polyfill/src/polyfill.js":function(t,e,i){"use strict";(function(t){var e=i("./node_modules/promise-polyfill/src/index.js"),n=i("./node_modules/promise-polyfill/src/finally.js"),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in o?o.Promise.prototype.finally||(o.Promise.prototype.finally=n.a):o.Promise=e.a}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/setimmediate/setImmediate.js":function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,o=1,r={},s=!1,a=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){u(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?function(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&u(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),n=function(i){t.postMessage(e+i,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},n=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;n=function(e){var i=a.createElement("script");i.onreadystatechange=function(){u(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}():n=function(t){setTimeout(u,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var s={callback:t,args:e};return r[o]=s,n(o),o++},l.clearImmediate=c}function c(t){delete r[t]}function u(t){if(s)setTimeout(u,0,t);else{var e=r[t];if(e){s=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}(e)}finally{c(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i("./node_modules/webpack/buildin/global.js"),i("./node_modules/process/browser.js"))},"./node_modules/style-loader/lib/addStyles.js":function(t,e,i){var n={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),s=null,a=0,l=[],c=i("./node_modules/style-loader/lib/urls.js");function u(t,e){for(var i=0;i<t.length;i++){var o=t[i],r=n[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(m(o.parts[s],e))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(m(o.parts[s],e));n[o.id]={id:o.id,refs:1,parts:a}}}}function h(t,e){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(a):i.push(n[s]={id:s,parts:[a]})}return i}function d(t,e){var i=r(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),l.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,o)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function f(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),d(t,e),e}function v(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function m(t,e){var i,n,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var l=a++;i=s||(s=f(e)),n=g.bind(null,i,l,!1),o=g.bind(null,i,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),d(t,e),e}(e),n=function(t,e,i){var n=i.css,o=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(n=c(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,i,e),o=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=f(e),n=function(t,e){var i=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){p(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=h(t,e);return u(i,e),function(t){for(var o=[],r=0;r<i.length;r++){var s=i[r];(a=n[s.id]).refs--,o.push(a)}t&&u(h(t,e),e);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete n[a.id]}}}};var y=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function g(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},"./node_modules/style-loader/lib/urls.js":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"./node_modules/timers-browserify/main.js":function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i("./node_modules/setimmediate/setImmediate.js"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":function(t,e){(function(e){t.exports=e}).call(this,{})},"./node_modules/webpack/buildin/global.js":function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},"./node_modules/webpack/buildin/harmony-module.js":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"./package.json":function(t){t.exports={name:"cirsim",version:"2.1.1",description:"Cirsim Circuit Simulator",main:"dist/cirsim.js",module:"src/app.modules.js",private:!1,scripts:{"build:dev":"npx webpack --config webpack.dev.js","build:prod":"npx webpack --config webpack.prod.js","build:all":"npm run build:dev && npm run build:prod",test:"karma start karma.conf.js",serve:"webpack-dev-server  --config webpack.dev.js --open","build:docs":"documentation build src/Cirsim/**/*.js --sort-order source -f html -o doc/js"},keywords:["Education","Circuits","Computer Architecture"],author:"Charles B. Owen",license:"MIT",devDependencies:{"@babel/core":"^7.2.2","@babel/plugin-transform-runtime":"^7.2.0","@babel/preset-env":"^7.2.3","@babel/runtime":"^7.2.0","babel-loader":"^8.0.5","clean-webpack-plugin":"^0.1.19","copy-webpack-plugin":"^4.6.0","css-loader":"^0.28.11","file-loader":"^1.1.11",hoek:"^6.1.2","html-webpack-include-assets-plugin":"^1.0.6","html-webpack-plugin":"^3.2.0","jasmine-core":"^3.3.0",karma:"^3.1.4","karma-chrome-launcher":"^2.2.0","karma-jasmine":"^2.0.1","karma-jasmine-html-reporter":"^1.4.0","karma-sourcemap-loader":"^0.3.7","karma-webpack-with-fast-source-maps":"^1.10.2","node-sass":"^4.11.0","optimize-css-assets-webpack-plugin":"^4.0.3","resolve-url-loader":"^2.3.1","sass-loader":"^7.1.0","style-loader":"^0.21.0","uglifyjs-webpack-plugin":"^1.3.0",webpack:"^4.28.4","webpack-cli":"^3.2.1","webpack-dev-server":"^3.1.14","webpack-merge":"^4.2.1"},dependencies:{"buckets-js":"^1.98.2","dialog-cl":"^1.0.2",dompurify:"^1.0.8","icons-cl":"~1.0.5","promise-polyfill":"^8.1.0","resizer-cl":"~2.3.4"}}},"./src/Cirsim/Vendor/Blob.js":function(t,e){
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
!function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},n=function(t,e,i){this.data=t,this.size=t.length,this.type=e,this.encoding=i},o=i.prototype,r=n.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=t.URL||t.webkitURL||t,h=u.createObjectURL,d=u.revokeObjectURL,p=u,f=t.btoa,v=t.atob,m=t.ArrayBuffer,y=t.Uint8Array,g=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=r.fake=!0;c--;)a.prototype[l[c]]=c+1;return u.createObjectURL||(p=t.URL=function(t){var e,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");return i.href=t,"origin"in i||("data:"===i.protocol.toLowerCase()?i.origin=null:(e=t.match(g),i.origin=e&&e[1])),i}),p.createObjectURL=function(t){var e,i=t.type;return null===i&&(i="application/octet-stream"),t instanceof n?(e="data:"+i,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):f?e+";base64,"+f(t.data):e+","+encodeURIComponent(t.data)):h?h.call(u,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(u,t)},o.append=function(t){var i=this.data;if(y&&(t instanceof m||t instanceof y)){for(var o="",r=new y(t),l=0,c=r.length;l<c;l++)o+=String.fromCharCode(r[l]);i.push(o)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var u=new s;i.push(u.readAsBinaryString(t))}else t instanceof n?"base64"===t.encoding&&v?i.push(v(t.data)):"URI"===t.encoding?i.push(decodeURIComponent(t.data)):"raw"===t.encoding&&i.push(t.data):("string"!=typeof t&&(t+=""),i.push(unescape(encodeURIComponent(t))))},o.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(""),t,"raw")},o.toString=function(){return"[object BlobBuilder]"},r.slice=function(t,e,i){var o=arguments.length;return o<3&&(i=null),new n(this.data.slice(t,o>1?e:this.data.length),i,this.encoding)},r.toString=function(){return"[object Blob]"},r.close=function(){this.size=0,delete this.data},i}(t);t.Blob=function(t,i){var n=i&&i.type||"",o=new e;if(t)for(var r=0,s=t.length;r<s;r++)Uint8Array&&t[r]instanceof Uint8Array?o.append(t[r].buffer):o.append(t[r]);var a=o.getBlob(n);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},"./src/Cirsim/Vendor/FileSaver.js":function(t,e,i){"use strict";(function(t){
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var n=n||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in i,o=/constructor/i.test(t.HTMLElement),r=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},a=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(c,u,h){h||(c=l(c));var d,p=this,f="application/octet-stream"===c.type,v=function(){!function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var o=t["on"+e[n]];if("function"==typeof o)try{o.call(t,i||t)}catch(t){s(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return d=e().createObjectURL(c),void setTimeout(function(){i.href=d,i.download=u,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(i),v(),a(d),p.readyState=p.DONE});!function(){if((r||f&&o)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=r?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,v()},i.readAsDataURL(c),void(p.readyState=p.INIT)}d||(d=e().createObjectURL(c)),f?t.location.href=d:t.open(d,"_blank")||(t.location.href=d);p.readyState=p.DONE,v(),a(d)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(t,e,i){return new c(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);t.exports?t.exports.saveAs=n:"undefined"!=typeof define&&null!==define&&null!==i("./node_modules/webpack/buildin/amd-options.js")&&define([],function(){return n}),e.a=n}).call(this,i("./node_modules/webpack/buildin/harmony-module.js")(t))},"./src/_cirsim.scss":function(t,e,i){var n=i("./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/_cirsim.scss");"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},r=i("./node_modules/style-loader/lib/addStyles.js")(n,o);n.locals&&(t.exports=n.locals),t.hot.accept("./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/_cirsim.scss",function(){var e=i("./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./src/_cirsim.scss");if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var i,n=0;for(i in t){if(!e||t[i]!==e[i])return!1;n++}for(i in e)n--;return 0===n}(n.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(e)}),t.hot.dispose(function(){r()})},"./src/app.modules.js":function(t,e,i){"use strict";i.r(e);i("./src/public-path.js"),i("./node_modules/promise-polyfill/src/polyfill.js"),i("./src/polyfills/endsWith.js"),i("./src/polyfills/assign.js");var n=function(t,e){t.classList.add("resizer");let i=e.grabSize,n=e.handle;"bar"===n?(t.style.resize="none",t.style.borderBottom=i+"px solid #18453B"):"handle"===n?t.style.resize="vertical":"none"===n||(t.style.resize="none",t.style.borderBottom=n);let o=null,r=null;var s=t.getBoundingClientRect();s.height,s.width;let a=getComputedStyle(t).minHeight;a=a.substr(0,a.length-2);let l,c,u,h,d=getComputedStyle(t).minWidth;d=d.substr(0,d.length-2);let p=null;function f(e){if(null!==(p=w(e.pageX,e.pageY))){l=e.pageX,c=e.pageY;let i=t.getBoundingClientRect();u=i.width,h=i.height,g(),o=v,document.addEventListener("mousemove",o),document.addEventListener("mouseup",m),function(){b();let t=document.querySelector("body");(r=document.createElement("div")).style.position="fixed",r.style.left=0,r.style.top=0,r.style.width="100%",r.style.height="100%",r.style.backgroundColor="transparent",r.style.zIndex=1e4,r.style.opacity=.5,t.appendChild(r)}()}}function v(e){if(1!==e.buttons)return void y();let i=e.pageX-l,n=e.pageY-c;if("horizontal"===p||"both"===p){let e=u+i;e<d&&(e=d),t.style.width=e+"px"}if("vertical"===p||"both"===p){let e=h+n;e<a&&(e=a),t.style.height=e+"px"}}function m(t){y()}function y(){g(),b()}function g(){null!==o&&(document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",m),o=null)}function b(){null!==r&&(document.querySelector("body").removeChild(r),r=null)}function w(n,o){let r=t.getBoundingClientRect(),s=o>=r.bottom+window.pageYOffset-i,a=n>=r.right+window.pageXOffset-i;if("both"===e.resize){if(s&&a)return"both";if(s)return"vertical";if(a)return"horizontal"}return"both"!==e.resize&&"vertical"!==e.resize||!s?"both"!==e.resize&&"horizontal"!==e.resize||!a?null:"horizontal":"vertical"}let x=0;function A(e){null!==w(e.pageX,e.pageY)?2!==x&&(t.style.cursor="pointer",x=2):1!==x&&(t.style.cursor="text",x=1)}t.addEventListener("mousedown",f),t.addEventListener("mousemove",A)},o=function(t){for(var e in t=t||{},this.resize="vertical",this.handle="bar",this.grabSize=10,t)if(t.hasOwnProperty(e)){if(!this.hasOwnProperty(e))throw new Error("Invalid option "+e);this[e]=t[e]}};var r=function(t,e){if(e=new o(e),"string"==typeof t)for(var i=document.querySelectorAll(t),r=0;r<i.length;r++)new n(i[r],e);else t.nodeType&&new n(t,e)},s=function(){this.circuit=null,this.x=0,this.y=0,this.moveX=0,this.moveY=0,this.selectedStyle="#ff0000",this.unselectedStyle="#000000"};s.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.moveX=t.moveX,this.moveY=t.moveY},s.prototype.single=function(){return!1},s.prototype.selectStyle=function(t,e){return e.selection.isSelected(this)?(t.strokeStyle=this.selectedStyle,t.fillStyle=this.selectedStyle,!0):(t.strokeStyle=this.unselectedStyle,t.fillStyle=this.unselectedStyle,!1)},s.prototype.grab=function(){this.moveX=this.x,this.moveY=this.y},s.prototype.move=function(t,e){this.moveX+=t,this.moveY+=e,this.x=this.moveX,this.y=this.moveY,null!==this.circuit&&this.circuit.snapIt(this)},s.prototype.place=function(t,e){this.moveX=t,this.moveY=e,this.x=this.moveX,this.y=this.moveY,null!==this.circuit&&this.circuit.snapIt(this)},s.prototype.delete=function(){},s.prototype.drop=function(){},s.prototype.spawn=function(t,e){return null};var a=function(){};a.toHex=function(t,e){for(var i=Number(t).toString(16);i.length<e;)i="0"+i;return i},a.inArray=function(t,e){for(var i=0;i<e.length;i++)if(e[i].toLowerCase()===t.toLowerCase())return!0;return!1};var l=function(t,e){this.x=t,this.y=e};l.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);this.x/=t,this.y/=t},l.normalize=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return new l(t.x/e,t.y/e)},l.rotate=function(t,e){var i=Math.sin(e),n=Math.cos(e);return new l(n*t.x-i*t.y,i*t.x+n*t.y)},l.distanceToLine=function(t,e,i,n){return 0==e?Math.abs((i*t.y+n)/i):0==i?Math.abs((e*t.x+n)/e):Math.abs(e*t.x+i*t.y+n)/Math.sqrt(e*e+i*i)},l.distanceToLineP2=function(t,e,i){return l.distanceToLine(t,e.y-i.y,i.x-e.x,e.x*i.y-i.x*e.y)},l.nearestOnLine=function(t,e,i,n){return 0==e?{x:t.x,y:-n/i}:0==i?{x:-n/e,y:t.y}:{x:(i*(i*t.x-e*t.y)-e*n)/(e*e+i*i),y:(e*(-i*t.x+e*t.y)-i*n)/(e*e+i*i)}},l.nearestOnLineP2=function(t,e,i){return l.nearestOnLine(t,e.y-i.y,i.x-e.x,e.x*i.y-i.x*e.y)},l.computeT=function(t,e,i){var n=i.x-e.x,o=i.y-e.y;return Math.abs(n)>Math.abs(o)?(t.x-e.x)/n:(t.y-e.y)/o},l.distance=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},l.distanceToLineSegment=function(t,e,i){var n=l.nearestOnLineP2(t,e,i),o=l.computeT(n,e,i);if(o>=0&&o<=1)return{d:l.distance(t,n),p:n};var r=l.distance(t,e),s=l.distance(t,i);return r<s?{d:r,p:e}:{d:s,p:i}};var c=function(t,e,i,n,o,r){this.component=t,this.x=e,this.y=i,this.len=void 0!==n?n:16,this.index=void 0,this.name=o,this.inv=r,this.value=void 0,this.touchRange=8,this.bus=!1,this.reference=null};c.prototype.orientation="w",c.clock=!1,c.prototype.single=function(){return!0},c.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.len=t.len,this.index=t.index,this.name=t.name,this.inv=t.inv,this.value=t.value,this.touchRange=t.touchRange,this.bus=t.bus,this.reference=t.reference},c.prototype.get=function(){return this.value},c.prototype.getAsString=function(){return function t(e){if(Array.isArray(e)){var i="";return e.forEach(function(e){i=t(e)+i}),i}return void 0===e?"?":e?"1":"0"}(this.value)},c.parseBusValue=function(t){for(var e=[],i=t.length-1;i>=0;i--){switch(t.substr(i,1)){case"0":e.push(!1);break;case"1":e.push(!0);break;case"?":e.push(void 0);break;default:return null}}return e},c.busValueToDecimal=function(t){if(void 0===t)return null;var e=0,i=1;for(var n in t){if(void 0===t[n])return null;t[n]&&(e+=i),i*=2}return e},c.prototype.touch=function(t,e){var i=this.getLoc(),n=this.touchRange;return t>=i.x-n&&t<=i.x+n&&e>=i.y-n&&e<=i.y+n},c.prototype.getLoc=function(){switch(this.orientation){case"w":return new l(this.component.x+this.x-this.len,this.component.y+this.y);case"n":return new l(this.component.x+this.x,this.component.y+this.y-this.len);case"s":return new l(this.component.x+this.x,this.component.y+this.y+this.len);case"e":return new l(this.component.x+this.x+this.len,this.component.y+this.y)}},c.prototype.draw=function(t,e){var i=this.component.x+this.x,n=this.component.y+this.y;switch(this.component.naming,this.bus?t.lineWidth=2:t.lineWidth=1,this.orientation){case"e":if(t.beginPath(),t.moveTo(i,n+.5),t.lineTo(i+this.len,n+.5),t.fillRect(i+this.len-1,n-1,3,3),this.component.circuit.circuits.model.main.options.showOutputStates){t.font="11px Times",t.textAlign="left";var o=this.getAsString();o.length>8&&(o=parseInt(o,2),o=isNaN(o)?"?":a.toHex(o,4)),t.fillText(o,i+5,n-2)}void 0!==this.name&&(t.font="12px Times",t.textAlign="right",t.fillText(this.name,i-3,n+3)),t.stroke();break;case"w":if(t.beginPath(),t.moveTo(i,n+.5),t.lineTo(i-this.len,n+.5),t.fillRect(i-this.len-1,n-1,3,3),this.clock){var r=7;t.moveTo(i,n-r),t.lineTo(i+r,n),t.lineTo(i,n+r)}void 0!==this.name&&(t.font="12px Times",t.textAlign="left",t.fillText(this.name,i+2,n+3)),t.stroke();break;case"n":if(t.beginPath(),t.moveTo(i+.5,n),t.lineTo(i+.5,n-this.len),t.fillRect(i-1,n-this.len-1,3,3),this.clock){r=7;t.moveTo(i-r,n),t.lineTo(i,n+r),t.lineTo(i+r,n)}t.stroke(),void 0!==this.name&&(n+=this.clock?12+r:12,t.font="12px Times",t.textAlign="center",t.fillText(this.name,i,n));break;case"s":if(t.beginPath(),t.moveTo(i+.5,n),t.lineTo(i+.5,n+this.len),t.fillRect(i-1,n+this.len-1,3,3),this.clock){r=7;t.moveTo(i-r,n),t.lineTo(i,n-r),t.lineTo(i+r,n)}t.stroke(),void 0!==this.name&&(n-=this.clock?6+r:6,t.font="12px Times",t.textAlign="center",t.fillText(this.name,i,n))}t.lineWidth=1};var u=function(t,e,i,n,o,r){c.call(this,t,e,i,n,o,r),this.from=[],this.orientation="w"};(u.prototype=Object.create(c.prototype)).constructor=u,u.prototype.clone=function(){var t=new u(this.component,this.x,this.y,this.len,this.name,this.inv);return t.orientation=this.orientation,t.copyFrom(this),t},u.prototype.set=function(){var t=this.from.length>0&&null!==this.from[0].from?this.from[0].from.value:void 0;this.value!==t&&(this.value=t,this.component.pending())},u.prototype.setConnection=function(t){this.from.forEach(function(t){t.delete(this)}),t.to=this,this.from=[t],this.set()},u.prototype.clear=function(){this.from.forEach(function(t){t.delete(this)}),this.from=[]},u.prototype.add=function(t){this.from.push(t)},u.prototype.remove=function(t){var e=[];this.from.forEach(function(i){i!==t&&e.push(i)}),this.from=e},u.prototype.draw=function(t,e){c.prototype.draw.call(this,t,e);for(var i=0;i<this.from.length;i++)null===this.from[i].from&&this.from[i].draw(t,e)};var h=function(t,e,i,n,o,r){c.call(this,t,e,i,n,o,r),this.to=[],this.orientation="e"};(h.prototype=Object.create(c.prototype)).constructor=h,h.prototype.clone=function(){var t=new h(this.component,this.x,this.y,this.len,this.name,this.inv);return t.orientation=this.orientation,t.copyFrom(this),t},h.prototype.set=function(t){var e=!0;if(Array.isArray(t)){if(Array.isArray(this.value)&&t.length===this.value.length)for(var i in e=!1,t)if(t[i]!==this.value[i]){e=!0;break}}else e=this.value!==t;if(e){this.value=t;for(var n=0;n<this.to.length;n++){var o=this.to[n].to;null!==o&&o.set()}}},h.prototype.setAsString=function(t){if(this.bus)this.set(c.parseBusValue(t));else switch(t){default:this.set(!1);break;case"1":this.set(!0);break;case"?":this.set(void 0)}},h.prototype.get=function(){return this.value},h.prototype.draw=function(t,e){c.prototype.draw.call(this,t,e),this.bus?t.lineWidth=2:t.lineWidth=1;for(var i=0;i<this.to.length;i++)this.to[i].draw(t,e);t.lineWidth=1},h.prototype.add=function(t){this.to.push(t)},h.prototype.remove=function(t){var e=[];this.to.forEach(function(i){i!==t&&e.push(i)}),this.to=e},h.prototype.clear=function(){this.to.forEach(function(t){t.delete(this)}),this.to=[]},h.prototype.touchConnections=function(t,e){for(var i=0;i<this.to.length;i++){var n=this.to[i].touch(t,e);if(null!=n)return n}return null},h.prototype.selectRect=function(t,e){for(var i=0;i<this.to.length;i++)this.to[i].selectRect(t,e)};var d=function(t,e,i,n,o,r){h.call(this,t,e,i,n,o,r)};(d.prototype=Object.create(h.prototype)).constructor=d,d.prototype.draw=function(t,e){var i=this.component.x+this.x,n=this.component.y+this.y;t.beginPath(),t.arc(i+4+.5,n,4,0,2*Math.PI),t.moveTo(i+8,n+.5),t.lineTo(i+this.len,n+.5),t.fillRect(i+this.len-1,n-1,3,3),this.component.circuit.circuits.model.main.options.showOutputStates&&(t.font="11px Times",t.fillText(void 0===this.value?"?":this.value?"1":"0",i+7+8,n-2)),t.stroke(),void 0!==this.name&&(t.font="12px Times",t.textAlign="right",t.fillText(this.name,i-3,n+3),this.inv&&(n-=8,t.beginPath(),t.moveTo(i-3,n),t.lineTo(i-13,n),t.stroke()));for(var o=0;o<this.to.length;o++)this.to[o].draw(t,e)},d.prototype.set=function(t){void 0===t?h.prototype.set.call(this,t):h.prototype.set.call(this,!t)};var p=function(t,e){s.call(this),this.connection=null,void 0!==t&&(this.x=t,this.moveX=t),void 0!==e&&(this.y=e,this.moveY=e)};(p.prototype=Object.create(s.prototype)).constructor=p,p.prototype.touchRange=12,p.prototype.size=4,p.prototype.clone=function(){var t=new p;return t.copyFrom(this),t},p.prototype.draw=function(t,e){e.selection.isSelected(this)&&(this.selectStyle(t,e),t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fill())},p.prototype.touch=function(t,e){return Math.abs(t-this.x)+Math.abs(e-this.y)<=this.touchRange},p.prototype.delete=function(t){this.connection.removeBend(this)},p.prototype.save=function(){return{x:this.x,y:this.y}};var f=function(t,e,i){if(s.call(this),this.touchRange=8,this.bends=[],null!==t){if(this.circuit=t.component.circuit,this.from=t,this.from.add(this),null===e){var n=t.getLoc();this.x=n.x,this.y=n.y}}else this.from=null;if(null!==e){if(this.circuit=e.component.circuit,this.to=e,this.to.add(this),null===t){n=e.getLoc();this.x=n.x,this.y=n.y}!0!==i&&e.set()}else this.to=null};(f.prototype=Object.create(s.prototype)).constructor=f,f.prototype.clone=function(){if(null===this.from||null===this.to)return null;for(var t=this.from.component.prev,e=this.to.component.prev,i=this.from.index,n=this.to.index,o=new f(t.outs[i],e.ins[n],!0),r=0;r<this.bends.length;r++){var s=this.bends[r].clone();o.addBend(s)}return o},f.prototype.delete=function(t){var e=this.to;null!==this.to&&this.to!==t&&this.to.remove(this),null!==this.from&&this.from!==t&&this.from.remove(this),null!==e&&e.set()},f.prototype.removeBend=function(t){var e=[];this.bends.forEach(function(i){i!==t&&e.push(i)}),this.bends=e},f.prototype.getCircuit=function(){return null!==this.from?this.from.component.circuit:null!==this.to?this.to.component.circuit:null},f.prototype.drop=function(){if(null!==this.from&&null===this.to){var t=this.from.component.circuit.touchIn(this.x,this.y);null!==t&&this.from.bus===t.bus?t.setConnection(this):this.from.remove(this)}else if(null===this.from&&null!==this.to){var e=this.to.component.circuit.touchOut(this.x,this.y);null!==e&&this.to.bus===e.bus?(this.from=e,e.add(this),this.to.set()):this.to.remove(this)}},f.prototype.draw=function(t,e){if(this.selectStyle(t,e),t.beginPath(),null!==this.from){var i=this.from.getLoc();t.moveTo(i.x+.5,i.y+.5)}else t.moveTo(this.x+.5,this.y+.5);for(var n=0;n<this.bends.length;n++){var o=this.bends[n];t.lineTo(o.x+.5,o.y+.5)}if(null!==this.to){i=this.to.getLoc();t.lineTo(i.x+.5,i.y+.5)}else t.lineTo(this.x+.5,this.y+.5);t.stroke();for(n=0;n<this.bends.length;n++)this.bends[n].draw(t,e)},f.prototype.touch=function(t,e){for(var i=null!==this.from?this.from:new l(t,e),n=null!==this.to?this.to:new l(t,e),o=0;o<this.bends.length;o++){var r=this.bends[o];if(r.touch(t,e))return r}var s=i.getLoc();for(o=0;o<this.bends.length;o++){var a=this.bends[o];if(l.distanceToLineSegment({x:t,y:e},s,a).d<=this.touchRange)return this;s=a}return l.distanceToLineSegment({x:t,y:e},s,n.getLoc()).d<=this.touchRange?this:null},f.prototype.selectRect=function(t,e){for(var i=0;i<this.bends.length;i++){var n=this.bends[i];t.contains(n.x,n.y)&&e.push(n)}},f.prototype.spawn=function(t,e){if(null!==this.to&&null!==this.from){for(var i=0,n=1e10,o=this.from.getLoc(),r=0;r<this.bends.length;r++){var s=this.bends[r];(a=l.distanceToLineSegment({x:t,y:e},o,s)).d<=n&&(i=r,n=a.d),o=s}var a;(a=l.distanceToLineSegment({x:t,y:e},o,this.to.getLoc())).d<=n&&(i=r,n=a.d);var c=new p;return i<this.bends.length?this.insertBend(i,c):this.addBend(c),c.place(t,e),c}return null},f.prototype.insertBend=function(t,e){e.connection=this,e.circuit=this.circuit,this.bends.splice(t,0,e)},f.prototype.addBend=function(t){t.connection=this,t.circuit=this.circuit,this.bends.push(t)},f.prototype.save=function(){if(null===this.from||null===this.to)return null;for(var t=this.from.component,e=this.to.component,i=this.from.index,n=this.to.index,o=[],r=0;r<this.bends.length;r++){var s=this.bends[r];o.push(s.save())}return{from:t.id,out:i,to:e.id,in:n,bends:o}},f.prototype.load=function(t){var e=this;t.bends.forEach(function(t){var i=new p(t.x,t.y);e.addBend(i)})};var v=function(){};v.unique=1,v.uniqueId=function(){return v.unique++},v.uniqueName=function(){return"cirsim-id-"+v.unique++};var m=v,y=i("./node_modules/@babel/runtime/helpers/typeof.js"),g=i.n(y),b=function(){};b.isVisible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},b.addClasses=function(t,e){void 0!==e&&null!==e&&e.split(" ").forEach(function(e){b.addClass(t,e)})},b.removeClass=function(t,e){var i=new RegExp("\\b"+e+"\\b","g");t.className=t.className.replace(i,"")},b.createClassedDiv=function(t,e){var i=document.createElement("div");return b.addClass(i,t),void 0!==e&&b.addContent(i,e),i},b.addContent=function(t,e){b.isString(e)?t.innerHTML+=e:b.isElement(e)&&t.appendChild(e)},b.isString=function(t){return"string"==typeof t||!!t&&"object"===g()(t)&&"[object String]"===Object.prototype.toString.call(t)},b.isElement=function(t){return void 0!==t&&null!==t&&void 0!==t.nodeValue},b.offset=function(t){var e=t.getBoundingClientRect();return{left:e.left+t.scrollLeft+window.pageXOffset,top:e.top+t.scrollTop+window.pageYOffset}},b.child=function(t,e){var i=!0,n=!1,o=void 0;try{for(var r,s=t.childNodes[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var a=r.value;if(a.tagName===e)return a}}catch(t){n=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return null};var w=i("./node_modules/dompurify/dist/purify.js"),x=i.n(w),A=(i("./node_modules/dialog-cl/src/polyfills/all.js"),function(t){for(var e in t=t||{},this.title="Dialog Box",this.addClass=null,this.resize="none",this.grabSize=4,this.titleBarButtons=null,this.titleBarAddClass=null,this.buttons=null,this.content=null,this.modal=!0,t)if(t.hasOwnProperty(e)){if(!this.hasOwnProperty(e))throw new Error("Invalid option "+e);this[e]=t[e]}});let k=function(){};k.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},k.addClasses=function(t,e){void 0!==e&&null!==e&&e.split(" ").forEach(e=>{k.addClass(t,e)})},k.createClassedDiv=function(t,e){let i=document.createElement("div");return k.addClass(i,t),k.addContent(i,e),i},k.addContent=function(t,e){k.isString(e)?t.innerHTML+=e:k.isElement(e)&&t.appendChild(e)},k.isString=function(t){return"string"==typeof t||!!t&&"object"==typeof t&&"[object String]"===Object.prototype.toString.call(t)},k.isElement=function(t){return void 0!==t&&null!==t&&void 0!==t.nodeValue};var T=k;var I=function(t,e){let i,n,o,r,s=t.options,a=null;function l(e,i){let n=document.createElement("button");e.appendChild(n),T.addClass(n,"dialog-cl-tb-button"),n.innerHTML='<span class="icons-cl icons-cl-close">',n.onclick=(e=>{e.preventDefault(),void 0!==i&&void 0!==i.click?i.click():t.close()})}function c(e){if(1!==e.buttons)return void h();let s=e.pageX-i,a=e.pageY-n,l=o+s,c=r+a;t.div.style.left=l+"px",t.div.style.top=c+"px"}function u(t){h()}function h(){null!==a&&(document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",u),a=null)}(()=>{let d=`<h1>${s.title}</h1>`,p=T.createClassedDiv("dialog-cl-top",d);T.addClasses(p,s.titleBarAddClass),e.appendChild(p),null===s.titleBarButtons?l(p):s.titleBarButtons.forEach(e=>{"close"===e.type?l(p,e):"custom"===e.type&&function(e,i){let n=document.createElement("button");e.appendChild(n),T.addClass(n,"dialog-cl-tb-button"),n.innerHTML=i.contents,n.onclick=(e=>{e.preventDefault(),void 0!==i&&void 0!==i.click?i.click():t.close()})}(p,e)}),p.querySelector("h1").addEventListener("mousedown",e=>{i=e.pageX,n=e.pageY;let s=t.div.getBoundingClientRect();o=s.left,r=s.top,h(),a=c,document.addEventListener("mousemove",a),document.addEventListener("mouseup",u)})})()};var O=function(t,e){let i=t.options,n=T.createClassedDiv("dialog-cl-body",i.content);e.appendChild(n),this.div=n};var S=function(t,e){let i=t.options;(()=>{let n=T.createClassedDiv("cl-dialog-bottom");e.appendChild(n),null===i.buttons?function(e,i){let n=document.createElement("button");n.type="submit",e.appendChild(n),n.innerHTML="Ok",n.onclick=(e=>{e.preventDefault(),void 0!==i&&void 0!==i.click?i.click(t):t.close()}),n.focus()}(n):i.buttons.forEach(e=>{!function(e,i){let n=document.createElement("button");n.type="submit",e.appendChild(n),n.innerHTML=i.contents,n.onclick=(e=>{e.preventDefault(),void 0!==i&&void 0!==i.click&&i.click(t)}),void 0!==i.class&&n.classList.add(i.class),!0===i.focus&&n.focus()}(n,e)})})(),this.default=function(){i.buttons.forEach(e=>{!0===e.default&&void 0!==e.click&&e.click(t)})}};var C=function(t){let e=null;if(t.options.modal){let i=document.querySelector("body");(e=T.createClassedDiv("mask")).style.position="fixed",e.style.left=0,e.style.top=0,e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style.zIndex=t.zIndex-1,i.appendChild(e)}this.remove=function(){null!==e&&(document.querySelector("body").removeChild(e),e=null)}};let E=function(t){t=new A(t),this.options=t;let e=null,i=null,n=null,o=e=>{if("none"!==t.resize){let i={resize:t.resize,handle:"none",grabSize:t.grabSize};new r(e,i)}};function s(t){return t+"px"}let a=(t,e)=>{let i=window.innerWidth,n=window.innerHeight,o=t.offsetHeight,r=t.offsetWidth,a=n/2-o/2;a<10&&(a=10);let l=i/2-r/2;l<0&&(l=0),t.style.left=s(l),t.style.top=s(a)};(()=>{E.zIndex+=2,this.zIndex=E.zIndex;let r=T.createClassedDiv("dialog-cl");T.addClasses(r,t.addClass),this.div=r,r.style.zIndex=this.zIndex;let s=document.querySelector("body");s.appendChild(r),o(r),new I(this,r),e=new O(this,r),!1!==t.buttons&&(n=new S(this,r)),i=new C(this),a(r,s),r.addEventListener("keydown",t=>{27===t.keyCode&&(t.preventDefault(),this.close())})})(),this.addContent=function(t){T.addContent(e.div,t)},this.close=function(){i.remove(),this.div.parentNode.removeChild(this.div)},this.default=function(){null!==n&&n.default()}};E.zIndex=1e4;var B=E;let j=function(t,e,i,n,o){let r=[{contents:"Ok",click:function(t){void 0!==n&&n(),t.close()},focus:!0}];i===j.OKCANCEL&&(r=[{contents:"Ok",click:function(t){void 0!==n&&n(),t.close()},focus:!0},{contents:"Cancel",click:function(t){void 0!==o&&o(),t.close()}}]);new B({title:t,content:'<div class="message-cl"><p>'+e+"</p></div>",buttons:r})};j.OK=0,j.OKCANCEL=1;var z=j;i("./node_modules/dialog-cl/src/_dialog.scss"),i("./node_modules/icons-cl/dist/icons.js");B.MessageBox=z;var L=B,D=function(t){this.classes=void 0!==t?"cirsim "+t:"cirsim",this.buttonOk="Ok",this.buttonCancel="Cancel",this.resize="none;",this.titleBarButtons=null};D.prototype.contents=function(t,e){this.html=t,this.title=e},D.prototype.open=function(){var t=this,e=document.createElement("form"),i=b.createClassedDiv("dialog-content");e.appendChild(i);var n="".concat(this.html,'<p class="error"></p>\n<input type="submit" tabindex="-1" style="position:absolute; top:-1000px">');i.innerHTML=n,this.element=i;var o=[];null!==this.buttonOk&&o.push({contents:"Ok",click:function(e){t.ok()},focus:!0,class:"cs-ok"}),null!==this.buttonCancel&&o.push({contents:"Cancel",click:function(t){t.close()},class:"cs-cancel"});var r=new L({addClass:this.classes,title:this.title,content:e,buttons:o,resize:this.resize,titleBarButtons:this.titleBarButtons});this.dialog=r,this.onOpen(),this.close=function(){r.close()},e.addEventListener("submit",function(e){e.preventDefault(),t.ok()}),this.buttonOk=function(){return this.dialog.div.querySelector("button.cs-ok")}},D.prototype.ok=function(){this.close()},D.prototype.error=function(t){void 0!==t&&(this.element.querySelector(".error").innerHTML=t)},D.prototype.cancel=function(){},D.prototype.onOpen=function(){},D.prototype.sanitize=function(t){return x.a.sanitize(t)},D.prototype.uniqueId=function(){return v.uniqueName()};var R=function(t,e){var i=this;D.call(this,"component"),this.resize="both";var n=null,o="",r=function(){},s=function(){return null},a=function(){return null};this.open=function(){var s="";"help"in t.constructor&&(s+='<a class="helper">help</a>'),"description"in t.constructor&&(s+='<div class="description">',s+=t.constructor.description+"</div>");var a="";if(null!==t.naming)a=t.naming;else if(null!==t.prefix)for(var l=1;;l++){if(a=t.prefix+l,null===t.circuit.getComponentByNaming(a))break}var c="";null!==t.prefix&&(c+='<div class="control1 center gap"><label for="'+(n=v.uniqueName())+'">Name: </label><input type="text" name="'+n+'" id="'+n+'" value="'+a+'" spellcheck="false" class="compname text ui-widget-content ui-corner-all"></div>'),c+=o+s,i.contents(c,"Cirsim Component Properties"),D.prototype.open.call(i),r(),null!==n&&document.getElementById(n).select();var u=i.element.querySelector("a.helper");null!==u&&u.addEventListener("click",function(i){i.preventDefault();var n=t.constructor.help;e.menu.helpMenu.componentHelp(n)})},this.ok=function(){var o="";if(null!==t.prefix){var r=document.getElementById(n);if(0!==(o=r.value.replace(/^\s+|\s+$/gm,"")).length){var l=t.circuit.getComponentByNaming(o);if(null!==l&&l!==t)return b.addClass(r,"cirsim-error"),void i.error("Name already exists")}b.removeClass(r,"cirsim-error"),o=i.sanitize(o)}var c=s();null===c?(e.backup(),null!==t.prefix&&(t.naming=o.length>0?o:null),a(),i.close(),e.currentView().draw()):i.error(c)},this.extra=function(t,e,i){o=t,s=e,a=i},this.extraCreate=function(t){r=t}};(R.prototype=Object.create(D.prototype)).constructor=R;var N=function(){s.call(this),this.height=10,this.width=10,this.prev=null,this.id="",this.circuit=null,this.naming=null,this.ins=[],this.outs=[]};(N.prototype=Object.create(s.prototype)).constructor=N,N.prototype.prefix="U",N.prototype.nameRequired=!1,N.prototype.delay=11,N.prototype.brand=function(){this.id="c"+ ++N.maxId},N.maxId=1e3,N.prototype.copyFrom=function(t){this.height=t.height,this.width=t.width,this.prev=t.prev,this.naming=t.naming,this.id=t.id,t.prev=this,s.prototype.copyFrom.call(this,t);for(var e=0;e<this.ins.length;e++)this.ins[e].copyFrom(t.ins[e]);for(e=0;e<this.outs.length;e++)this.outs[e].copyFrom(t.outs[e])},N.prototype.drop=function(){this.x<this.width/2&&(this.x=this.width/2),this.y<this.height/2&&(this.y=this.height/2)},N.prototype.grab=function(){s.prototype.grab.call(this),this.circuit.moveToFront(this)},N.prototype.mouseUp=function(){},N.prototype.added=function(t){if(this.circuit=t,null===this.naming&&this.nameRequired)for(var e=1;;e++){var i=void 0;if(i="*"===this.prefix.charAt(0)?e<=26?"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(e-1):this.prefix.charAt(1)+(e-26):this.prefix+e,null===this.circuit.getComponentByNaming(i)){this.naming=i;break}}},N.prototype.addIn=function(t,e,i,n){var o=new u(this,t,e,i,n);return o.index=this.ins.length,this.ins.push(o),o},N.prototype.addOut=function(t,e,i,n,o){var r=new h(this,t,e,i,n,o);return r.index=this.outs.length,this.outs.push(r),r},N.prototype.addOutInv=function(t,e,i,n,o){var r=new d(this,t,e,i,n,o);return r.index=this.outs.length,this.outs.push(r),r},N.prototype.touch=function(t,e){var i=this.touchOut(t,e);if(null!==i)return new f(i,null);if(null!==(i=this.touchIn(t,e)))return new f(null,i);if(t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y-this.height/2&&e<=this.y+this.height/2)return this;for(var n=0;n<this.outs.length;n++){var o=this.outs[n].touchConnections(t,e);if(null!==o)return o}return null},N.prototype.touchOut=function(t,e){for(var i=0;i<this.outs.length;i++)if(this.outs[i].touch(t,e))return this.outs[i];return null},N.prototype.touchIn=function(t,e){for(var i=0;i<this.ins.length;i++)if(this.ins[i].touch(t,e))return this.ins[i];return null},N.prototype.inRect=function(t,e){t.contains(this.x,this.y)&&e.push(this),this.outs.forEach(function(i){i.selectRect(t,e)})},N.prototype.delete=function(){for(var t=0;t<this.ins.length;t++)this.ins[t].clear();for(t=0;t<this.outs.length;t++)this.outs[t].clear();this.circuit.delete(this)},N.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawName(t,0,3),this.drawIO(t,e)},N.prototype.drawIO=function(t,e){for(var i=0;i<this.ins.length;i++)this.selectStyle(t,e),this.ins[i].draw(t,e);for(i=0;i<this.outs.length;i++)this.selectStyle(t,e),this.outs[i].draw(t,e)},N.prototype.save=function(){var t=this.constructor.type,e=this.naming;return null!==e&&(e=e.replace(/'/g,"`")),{id:this.id,x:this.x,y:this.y,name:e,type:t}},N.prototype.load=function(t){this.id=this.sanitize(t.id);var e=+this.id.substr(1);e>N.maxId&&(N.maxId=e),this.x=+t.x,this.y=+t.y,this.moveX=this.x,this.moveY=this.y;var i=t.name;this.naming=null!==i?this.sanitize(i).replace(/`/g,"'"):null},N.prototype.saveConnections=function(){for(var t=[],e=0;e<this.outs.length;e++)for(var i=this.outs[e],n=0;n<i.to.length;n++){var o=i.to[n].save();null!==o&&t.push(o)}return t},N.prototype.properties=function(t){new R(this,t).open()},N.prototype.advance=function(t){return!1},N.prototype.pending=function(){for(var t=.1*this.delay,e=[],i=0;i<this.ins.length;i++)e.push(this.ins[i].value);null!==this.circuit.circuits&&this.circuit.circuits.simulation.queue(this,t,e)},N.prototype.getDelay=function(){return this.delay},N.prototype.compute=function(t){},N.prototype.newTab=function(){},N.prototype.drawName=function(t,e,i,n){null!==this.naming&&(t.beginPath(),t.font=void 0!==n?n:"14px Times",t.textAlign="center",t.fillText(this.naming,this.x+e,this.y+i),t.stroke())},N.prototype.drawText=function(t,e,i,n,o){t.beginPath(),t.font=void 0!==o?o:"14px Times",t.textAlign="center",t.fillText(e,this.x+i,this.y+n),t.stroke()},N.prototype.drawBox=function(t,e){if("none"!==e){var i=t.fillStyle;t.fillStyle=void 0!==e?e:"#ffffff",t.fillRect(this.x-this.width/2-.5,this.y-this.height/2-.5,this.width,this.height),t.fillStyle=i}t.beginPath(),t.rect(this.x-this.width/2-.5,this.y-this.height/2-.5,this.width,this.height),t.stroke()},N.prototype.drawTrap=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=20);var n=this.x-this.width/2-.5,o=this.x+this.width/2+.5,r=this.y-this.height/2-.5,s=this.y+this.height/2+.5;t.fillStyle="#ffffff",t.beginPath(),t.moveTo(n,r+e),t.lineTo(n,s-e),t.lineTo(o,s-i),t.lineTo(o,r+i),t.lineTo(n,r+e),t.fill(),t.beginPath(),t.moveTo(n,r+e),t.lineTo(n,s-e),t.lineTo(o,s-i),t.lineTo(o,r+i),t.lineTo(n,r+e),t.stroke()},N.prototype.command=function(t){if(!("string"==typeof t||t instanceof String)||"type:"!==t.substr(0,5))return null;var e=t.substr(5);if(e!==this.constructor.type){var i=getComponent(e);return i=null!==i?i.label:e,{ok:!1,msg:"Component "+this.naming+" should be type <strong>"+i+"</strong> but is <strong>"+this.constructor.label+"</strong>"}}return{ok:!0}},N.prototype.setAsString=function(t){},N.prototype.jaggedLine=function(t,e,i,n,o,r){var s=Math.round(e+(n-e)*r)+.5;i+=.5,o+=.5,t.moveTo(e,i),t.lineTo(s,i),t.lineTo(s,o),t.lineTo(n,o),t.stroke()},N.prototype.sanitize=function(t){return x.a.sanitize(t)};var P=function(t){D.call(this);var e;this.open=function(){e=this.uniqueId();var t='<div class="control1 center"><label for="'.concat(e,'">New tab name: </label>\n<input class="tabname" type="text" id="').concat(e,'" spellcheck="false"></div>\n<p>Enter the name for the new tab.</p>');this.contents(t,"New Tab"),D.prototype.open.call(this),document.getElementById(e).select()},this.ok=function(){var i=document.getElementById(e).value;if(i=i.replace(/^\s+|\s+$/gm,""),(i=this.sanitize(i)).length<1)return this.error("Must provide a tab name"),void document.getElementById(e).select();if(i.length>8)return this.error("Name must be no longer than 8 characters"),void document.getElementById(e).select();var n=t.validateName(i);if(null!==n)return this.error(n),void document.getElementById(e).select();t.add(i),this.close()}};(P.prototype=Object.create(D.prototype)).constructor=P;var M=function(t,e,i){D.call(this),this.open=function(i,n){this.contents(e,t),!0!==n&&(this.buttonCancel=null),this.ok=function(){void 0!==i&&i(),this.close()},D.prototype.open.call(this)}};(M.prototype=Object.create(D.prototype)).constructor=M;var U=function(t){D.call(this);var e;this.open=function(){var i=t.currentCircuit(),n=i.getName(),o=i.stats();e=this.uniqueId();var r='\n<div class="control1 center"><label for="'.concat(e,'">Tab name: </label>\n<input class="tabname" type="text" id="').concat(e,'" value="').concat(n,'" spellcheck="false" ').concat("main"===n?"disabled":"","></div>");r+="main"===n?'<p class="center"><em>The main tab cannot be renamed.</em></p>':"<p>This page presents information for the currently selected tab. Enter a new name to rename the tab.</p>",r+="<table>\n<tr><th>Property</th><th>Value</th></tr>\n<tr><td>Components</td><td>".concat(o.numComponents,"</td></tr>\n<tr><td>Connections</td><td>").concat(o.numConnections,"</td></tr>\n<tr><td>Width</td><td>").concat(o.width," pixels</td></tr>\n<tr><td>Height</td><td>").concat(o.height," pixels</td></tr>\n</table>"),this.contents(r,"New Tab"),D.prototype.open.call(this),document.getElementById(e).select()},this.ok=function(){var i=t.currentCircuit();if("main"!==i.getName()){var n=document.getElementById(e).value;if(n=n.replace(/^\s+|\s+$/gm,""),(n=this.sanitize(n)).length<1)return this.error("Must provide a tab name"),void document.getElementById(e).select();if(n.length>8)return this.error("Name must be no longer than 8 characters"),void document.getElementById(e).select();var o=t.validateName(n,i);if(null!==o)return this.error(o),void document.getElementById(e).select();n!==i.getName()&&t.rename(n),this.close()}else this.close()}};(U.prototype=Object.create(D.prototype)).constructor=U;var _=function(t,e){this.html=function(){return'<li><a>Tabs</a>\n<ul class="tabs-menu">\n<li><a class="tabs-properties"><span class="icons-cl icons-cl-wrench"></span>Properties...</a></li>\n<li><a class="tabs-add"><span class="icons-cl icons-cl-play"></span>Add...</a></li>\n<li><a class="tabs-delete"><span class="icons-cl icons-cl-close"></span>Delete...</a></li>\n</ul>\n</li>'};this.activate=function(){t.click(".tabs-add",function(t){new P(e.tabs).open()}),t.click(".tabs-delete",function(t){!function(){var t=e.tabs.currentCircuit();null!==t&&new M("Are you sure?",'<p class="large">Are you sure you want to delete the tab <em>'+t.getName()+"</em>?</p>",200).open(function(){e.tabs.delActive()},!0)}()}),t.click(".tabs-properties",function(t){new U(e.tabs).open()})},this.opening=function(){t.enable(".tabs-delete",e.tabs.active>0)}},F=function(t){D.call(this,"about"),this.open=function(){this.buttonCancel=null;var e=t.cirsim.root,i='<figure><img src="'.concat(e,'/cirsim/img/logo-icon.png" alt="Cirsim Logo"></figure>\n<h1>Cirsim Circuit Simulator</h1>\n<p>Version: ').concat(t.cirsim.version,"</p>\n<p>Written by: Charles B. Owen</p>");t.cirsim.root.indexOf("cirsim-dev")>=0&&(i+='<p class="gap">Running from the development site.</p>'),this.contents(i,"About Cirsim"),D.prototype.open.call(this)}};(F.prototype=Object.create(D.prototype)).constructor=F;var H=function(){};H.do=function(t){var e=new XMLHttpRequest;if("GET"===t.method){var i=[];for(var n in t.data)t.data.hasOwnProperty(n)&&i.push(encodeURIComponent(n)+"="+encodeURIComponent(t.data[n]));e.open("GET",t.url+"?"+i.join("&"),!0)}else e.open(t.method,t.url,!0);if(e.onload=function(){if(e.status>=200&&e.status<400)if("json"===t.dataType)try{t.success(JSON.parse(e.responseText))}catch(t){console.log(t),console.log(e.responseText)}else t.success(e.responseText);else t.error(e.xhr,e.statusText,"invalid URL")},e.onerror=function(){t.error(e.xhr,e.statusText,"server not found")},"POST"===t.method)if("application/json"===t.contentType)e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(t.data));else{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var o=[];for(var r in t.data)t.data.hasOwnProperty(r)&&o.push(encodeURIComponent(r)+"="+encodeURIComponent(t.data[r]));e.send(o.join("&"))}else e.send()};var q=function(t,e){var i=this,n=[];this.html=function(){return'<div class="cirsim-help">Fetching...</div>'},this.present=function(e){""===e&&(e="cirsim/help/index.html"),e=t.cirsim.root+"/"+e,this.presentAbsolute(e)},this.presentAbsolute=function(e){n.push(e),H.do({url:e,data:{},method:"GET",success:function(t){o(t)},error:function(e,i,n){t.toast.message("Unable to communicate with server: "+n)}})};var o=function(n){if(n.indexOf("{{components}}")>0){t.cirsim.root;var o="<ul>";t.palette.palette.forEach(function(t){if(void 0!==t.help){var e=t.label;switch(e){case"0":e="Zero";break;case"1":e="One"}o+='<li><a href="'.concat(t.help,'.html">').concat(e,"</a> <em>").concat(t.desc,"</em></li>")}}),o+="</ul>",n=n.replace("{{components}}",o)}var r=t.cirsim.root;n=(n=n.replace(/src="img\//g,'src="'+r+"/cirsim/help/img/")).replace(/href="/g,'href="'+r+"/cirsim/help/");var s=e.element.querySelector(".cirsim-help");if(null!==s){s.innerHTML=n;var a=!0,l=!1,c=void 0;try{for(var u,h=s.querySelectorAll("a")[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){u.value.addEventListener("click",function(t){t.preventDefault(),i.presentAbsolute(t.target.href)})}}catch(t){l=!0,c=t}finally{try{a||null==h.return||h.return()}finally{if(l)throw c}}}};this.home=function(){this.present("")},this.back=function(){if(!(n.length<2)){n.pop();var t=n[n.length-1];n.pop(),this.presentAbsolute(t)}}},X=function(t){D.call(this,"help"),this.open=function(e){this.buttonCancel=null,this.resize="both";var i=new q(t,this),n=i.html();this.contents(n,"Cirsim Help"),this.titleBarButtons=[{type:"custom",contents:'<span class="icons-cl icons-cl-arrowthick-1-w">',click:function(){i.back()}},{type:"custom",contents:'<span class="icons-cl icons-cl-home">',click:function(){i.home()}},{type:"close"}],D.prototype.open.call(this),i.present(e)}};(X.prototype=Object.create(D.prototype)).constructor=X;var W=function(t){var e=this,i=new function(t,e){var i=e.options;this.html=function(){var t="",e=i.getAPI("save"),o=i.getAPI("open");return null!==o&&void 0===o.name&&(t+='<li><a class="file-open"><span class="icons-cl icons-cl-folder-open"></span>Open...</a></li>'),null!==e&&(t+='<li><a class="file-save"><span class="icons-cl icons-cl-disk"></span>Save</a></li>'),null!==e&&void 0===e.name&&(t+='<li><a class="file-saveas"><span class="icons-cl icons-cl-disk"></span>Save As...</a></li>'),"none"!==i.export&&(t.length>0&&(t+='<li class="menu-divider">&nbsp;</li>'),"both"!==i.export&&"import"!==i.export||(t+='<li><a class="cs-file-import"><span class="icons-cl icons-cl-arrowthickstop-1-n"></span>Import</a></li>'),"both"!==i.export&&"export"!==i.export||(t+='<li><a class="cs-file-export"><span class="icons-cl icons-cl-arrowthickstop-1-s"></span>Export</a></li>')),i.imports.length>0&&(t+=n(t)+'<li><a class="cs-file-import-tab"><span class="icons-cl icons-cl-arrowthickstop-1-s"></span>Import Tab</a></li>'),null!==i.exit&&(t.length>0&&(t+='<li class="menu-divider">&nbsp;</li>'),t+='<li><a class="file-exit">Exit</a></li>'),""!==t?'<li><a>File</a><ul class="file-menu">'+t+"</ul></li>":""};var n=function(t){return t.length>0?'<li class="menu-divider">&nbsp;</li>':""};this.activate=function(){t.click(".cs-file-import",function(t){e.import()}),t.click(".cs-file-export",function(t){e.export()}),t.click(".file-saveas",function(t){e.saveAs()}),t.click(".file-save",function(t){e.save()}),t.click(".file-open",function(t){e.open()}),t.click(".cs-file-import-tab",function(t){e.importTab()}),t.click(".file-exit",function(t){null!==i.exit&&(window.location.href=i.exit)})},this.opening=function(){var i=!1,n=e.currentView().circuit;if(null!==n)for(var o=n.name,r=0;r<e.options.imports.length;r++)if(e.options.imports[r].into===o){i=!0;break}t.enable(".cs-file-import-tab",i)}}(this,t),n=new function(t,e){this.html=function(){return'<li><a>Edit</a><ul class="edit-menu"><li><a class="edit-undo"><span class="icons-cl icons-cl-arrowreturnthick-1-w"></span>Undo</a></li><li><a class="edit-delete"><span class="icons-cl icons-cl-trash"></span>Delete</a></li><li class="menu-divider">&nbsp;</li><li><a class="edit-properties">Properties</a></li></ul></li>'},this.activate=function(){t.click(".edit-delete",function(t){console.log("delete"),e.backup(),e.currentView().delete()}),t.click(".edit-undo",function(t){e.undo()}),t.click(".edit-properties",function(t){1===e.currentView().selection.selection.length&&e.currentView().selection.selection[0]instanceof N&&e.currentView().selection.selection[0].properties(e)}),document.addEventListener("keydown",function(i){"Delete"===i.key?(t.closeAll(),e.backup(),e.currentView().delete()):"z"!==i.key||!i.ctrlKey||i.altKey||i.shiftKey||(t.closeAll(),e.undo())})}}(this,t),o=new _(this,t),r=new function(t,e){this.html=function(){return'<li><a>Options</a>\n<ul class="option-menu">\n<li><a class="option-showoutputstates">Show Output States<img></a></li>\n</ul></li>'},this.activate=function(){t.click(".option-showoutputstates",function(t){e.options.showOutputStates=!e.options.showOutputStates,e.currentView().draw()})},this.opening=function(){e.options.showOutputStates?b.addClass(t.find(".option-showoutputstates img"),"check"):b.removeClass(t.find(".option-showoutputstates img"),"check")}}(this,t),s=new function(t,e){this.html=function(){return'<li><a>Help</a><ul class="help-menu"><li><a class="help-help">Help</a></li><li><a class="help-docked-help">Docked Help<img></a></li><li><a class="help-about">About...</a></li></ul></li>'},this.componentHelp=function(t){t="cirsim/help/"+t+".html",e.isHelpDocked()?e.help.url(t):new X(e).open(t)},this.activate=function(){t.click(".help-about",function(t){new F(e).open()}),t.click(".help-help",function(t){e.isHelpDocked()?e.help.home():new X(e).open("")}),t.click(".help-docked-help",function(t){e.dockedHelp(!e.isHelpDocked())})},this.opening=function(){e.isHelpDocked()?b.addClass(t.find(".help-docked-help img"),"check"):b.removeClass(t.find(".help-docked-help img"),"check")}}(this,t);this.helpMenu=s,this.nav=null,this.ul=null;var a=function(t){for(var i=t.target.parentNode;null!==i;i=i.parentNode)if(i===e.nav)return;e.closeAll()},l=function(t){var n=!0,l=!1,h=void 0;try{for(var d,p=e.ul.childNodes[Symbol.iterator]();!(n=(d=p.next()).done);n=!0){var f=d.value;if("LI"===f.tagName){var v=b.child(f,"UL");null!==v&&b.removeClass(v,"menu-open")}}}catch(t){l=!0,h=t}finally{try{n||null==p.return||p.return()}finally{if(l)throw h}}c(".edit-delete"),u(".edit-properties"),i.opening(),o.opening(),r.opening(),s.opening();var m=b.child(t,"UL");null!==m&&b.addClass(m,"menu-open"),document.addEventListener("click",a),document.addEventListener("mousedown",a)};this.closeAll=function(){var t=!0,i=!1,n=void 0;try{for(var o,r=e.ul.childNodes[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var s=o.value;if("LI"===s.tagName){var l=b.child(s,"UL");null!==l&&b.removeClass(l,"menu-open")}}}catch(t){i=!0,n=t}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}document.removeEventListener("click",a),document.removeEventListener("mousedown",a)},this.enable=function(t,i){var n=e.ul.querySelector(t);null!==n&&(i?b.removeClass(n.parentNode,"menu-disabled"):b.addClass(n.parentNode,"menu-disabled"))};var c=function(i){e.enable(i,t.currentView().selection.selection.length>0)},u=function(i){1===t.currentView().selection.selection.length&&t.currentView().selection.selection[0]instanceof N?e.enable(i,!0):e.enable(i,!1)};this.find=function(t){return e.ul.querySelector(t)},this.click=function(t,i){var n=e.find(t);null!==n&&n.addEventListener("click",function(t){t.preventDefault(),e.closeAll(),i(t)})},function(){e.nav=document.createElement("nav"),b.addClass(e.nav,"menubar"),t.div.appendChild(e.nav);var a=document.createElement("ul");e.nav.appendChild(a),e.ul=a;var c="";c+=i.html(),c+=n.html(),t.options.tabsMenu&&(c+=o.html()),c+=r.html(),c+=s.html();var u=0,h=!0,d=!1,p=void 0;try{for(var f,v=t.test.tests[Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var m=f.value;c+='<li><a class="cirsim-test-'+u+'">'+m.name+"</a></li>",u++}}catch(t){d=!0,p=t}finally{try{h||null==v.return||v.return()}finally{if(d)throw p}}a.innerHTML=c;var y=!0,g=!1,w=void 0;try{for(var x,A=function(){var t=x.value;"LI"===t.tagName&&t.addEventListener("click",function(i){i.preventDefault();var n=b.child(t,"UL");null!==n&&("hidden"===getComputedStyle(n).getPropertyValue("visibility")?l(t):e.closeAll())})},k=a.childNodes[Symbol.iterator]();!(y=(x=k.next()).done);y=!0)A()}catch(t){g=!0,w=t}finally{try{y||null==k.return||k.return()}finally{if(g)throw w}}u=0;var T=!0,I=!1,O=void 0;try{for(var S,C=function(){var i=S.value,n=".cirsim-test-"+u;e.click(n,function(e){e.preventDefault(),t.test.runTestDlg(i)}),u++},E=t.test.tests[Symbol.iterator]();!(T=(S=E.next()).done);T=!0)C()}catch(t){I=!0,O=t}finally{try{T||null==E.return||E.return()}finally{if(I)throw O}}i.activate(),n.activate(),o.activate(),r.activate(),s.activate()}()},Y=function(t,e){this.width=t,this.height=e,this.scale=t/60;var i=e/this.scale;this.element=document.createElement("canvas"),this.element.style.width="60px",this.element.style.height=i+"px",this.element.style.backgroundColor="transparent",this.canvas=this.element,this.canvas.height=this.height,this.canvas.width=this.width,this.context=this.canvas.getContext("2d"),this.context.lineWidth=this.scale};Y.prototype.box=function(t,e){var i=this.width/2,n=this.height/2,o=i-t/2-.5,r=i+t/2+.5,s=n-e/2-.5,a=n+e/2+.5;this.context.beginPath(),this.context.moveTo(o,s),this.context.lineTo(r,s),this.context.lineTo(r,a),this.context.lineTo(o,a),this.context.lineTo(o,s),this.fillStroke()},Y.prototype.circle=function(t,e,i){t+=this.width/2,e+=this.height/2;var n=this.context.fillStyle;this.context.fillStyle="#ffffff",this.context.beginPath(),this.context.arc(t,e,i,0,2*Math.PI),this.context.fill(),this.context.fillStyle=n,this.context.beginPath(),this.context.arc(t,e,i,0,2*Math.PI),this.context.stroke()},Y.prototype.io=function(t,e,i,n,o){n=void 0!==n?n:1,o=void 0!==o?o:1,t+=this.width/2,e+=this.height/2;for(var r=0;r<n;r++){this.context.beginPath(),this.context.moveTo(t,e);var s=6*this.scale;switch(i){case"w":case"W":this.context.lineTo(t-s,e);break;case"e":case"E":this.context.lineTo(t+s,e);break;case"n":case"N":this.context.lineTo(t,e-s);break;case"s":case"S":this.context.lineTo(t,e+s)}this.context.stroke(),e+=o}},Y.prototype.drawText=function(t,e,i,n){var o=this.context;o.beginPath(),o.font=void 0!==n?n:"14px Times",o.textAlign="center",o.fillText(t,e+this.width/2,i+this.height/2),o.stroke()},Y.prototype.drawTextBar=function(t,e,i,n){var o=this.context,r=o.lineWidth;this.drawText(t,e,i,n),o.lineWidth=1;var s=o.measureText(t);o.beginPath(),i+=this.height/2-16,o.moveTo(e+this.width/2-s.width/2,i),o.lineTo(e+this.width/2+s.width/2,i),o.stroke(),o.lineWidth=r},Y.prototype.fillStroke=function(t){void 0===t&&(t="white");var e=this.context.fillStyle;this.context.fillStyle=t,this.context.fill(),this.context.fillStyle=e,this.context.stroke()},Y.prototype.lineWidth=function(t){var e=this.context.lineWidth;return this.context.lineWidth=t,e};var Q=function(t,e,i){this.palette=t,this.obj=e,this.circuit=void 0!==i?i.name:null;var n=this.paletteImage(e),o=b.createClassedDiv("cs-item"),r=b.createClassedDiv("cs-box");o.appendChild(r);var s=b.createClassedDiv("cs-img");r.appendChild(s),s.appendChild(n);var a=b.createClassedDiv("cs-desc");e.label.length>7&&b.addClass(a,"long"),a.innerText=void 0!==i?i.name:e.label,r.appendChild(a),this.element=o,t.main.dragAndDrop.draggable(this)};Q.prototype.paletteImage=function(){var t=this.obj;if(null!==t.img&&void 0!==t.img){var e=this.palette.cirsim.root,i=document.createElement("img");return i.setAttribute("src",e+"/cirsim/img/"+t.img),i.setAttribute("alt",t.desc),i.setAttribute("title",t.desc),i.setAttribute("draggable","false"),i}if(void 0!==t.paletteImage)return t.paletteImage().element;var n=new Y(60,60);return n.box(30,40),n.io(15,20,"w",2,20),n.io(45,20,"e",2,20),n.drawText(t.label,0,0,"6px Times"),n.element};var J=function(){};J.roundedRect=function(t,e,i,n,o,r){n<2*r&&(r=n/2),o<2*r&&(r=o/2),t.beginPath(),t.moveTo(e+r,i),t.arcTo(e+n,i,e+n,i+o,r),t.arcTo(e+n,i+o,e,i+o,r),t.arcTo(e,i+o,e,i,r),t.arcTo(e,i,e+n,i,r),t.closePath()},J.fillWith=function(t,e){var i=t.fillStyle;t.fillStyle=void 0!==e?e:"#ffffff",t.fill(),t.fillStyle=i},J.fillTextWith=function(t,e,i,n,o){var r=t.fillStyle;t.fillStyle=void 0!==o?o:"#ffffff",t.fillText(e,i,n),t.fillStyle=r};var V=function(t){N.call(this),this.height=160,this.width=80,this.circuitName=void 0!==t?t.circuit:void 0,this.circuitRef=null,this.circuitIns=[],this.circuitOuts=[]};(V.prototype=Object.create(N.prototype)).constructor=V,V.type="CircuitRef",V.label="REF",V.desc="Circuit Component",V.img="circuitref.png",V.order=99,V.description="<h2>Circuit Component</h2><p>A Circuit Component uses anotherCirsim circuit as a component in the current circuit</p>",V.prototype.compute=function(t){this.getCircuitRef();for(var e=0;e<this.ins.length&&e<this.circuitIns.length;e++)this.circuitIns[e].set(t[e]);for(var i=0;i<this.outs.length&&i<this.circuitOuts.length;i++)this.outs[i].set(this.circuitOuts[i].get())},V.prototype.advance=function(t){for(var e=0;e<this.ins.length&&e<this.circuitIns.length;e++)this.circuitIns[e].set(this.ins[e].get());null!==this.circuitRef&&this.circuitRef.advance(t);for(var i=0;i<this.outs.length&&i<this.circuitOuts.length;i++)this.outs[i].set(this.circuitOuts[i].get());return!0},V.prototype.getCircuitRef=function(){return null!==this.circuitRef?this.circuitRef:(this.circuitRef=this.circuit.circuits.getCircuit(this.circuitName).copy_clone(),this.circuitRef.circuits=this.circuit.circuits,this.circuitRef.pending(),this.ensureIO(),this.circuitRef)},V.prototype.newTab=function(){this.circuitRef=null,this.circuitIns=[],this.circuitOuts=[]},V.prototype.ensureIO=function(){var t=this.circuitRef;if(null!==t){var e=function(e,i){var n=t.getComponentsByType(e),o=t.getComponentsByType(i),r=!0,s=!1,a=void 0;try{for(var l,c=o[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;n.push(u)}}catch(t){s=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(s)throw a}}return n.sort(function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y}),n},i=function(t){var e={},i=!0,n=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var a=r.value;e[a.id]=a}}catch(t){n=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return e},n=e("InPin","InPinBus"),o=i(n);if(0===this.circuitIns.length)for(var r=0;r<n.length;r++)n[r].set(void 0);this.circuitIns=n;var s=e("OutPin","OutPinBus"),a=i(s);if(this.circuitOuts=s,n.length===this.ins.length&&s.length===this.outs.length){for(var l=!1,c=0;c<n.length;c++)if(this.ins[c].name!==n[c].naming||this.ins[c].bus!==("InPinBus"===n[c].constructor.type)){l=!0;break}for(var u=0;u<s.length;u++)if(this.outs[u].name!==s[u].naming||this.outs[u].bus!==("OutPinBus"===s[u].constructor.type)){l=!0;break}if(!l)return}var h=n.length>s.length?n.length:s.length;this.height=16*h+32,this.height<48&&(this.height=48);var d=this.width/2,p=-this.height/2+8,f=function(t,e){var i={},n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;null!==l.reference&&void 0!==e[l.reference]?i[e[l.reference].naming]=l:i[l.name]=l}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i},v=f(this.ins,o);this.ins=[];var m=0;for(m=0;m<n.length;m++){var y=void 0;void 0!==v[n[m].naming]?(y=v[n[m].naming],this.ins.push(y),y.name=n[m].naming,y.x=-d,y.y=p+16*m,y.len=16,v[n[m].naming]=null):y=this.addIn(-d,p+16*m,16,n[m].naming),y.bus="InPinBus"===n[m].constructor.type,y.index=m,y.reference=n[m].id}for(var g in v)null!==v[g]&&(console.log(v[g]),v[g].clear());var b=f(this.outs,a);for(this.outs=[],m=0;m<s.length;m++){var w=void 0;void 0!==b[s[m].naming]?(w=b[s[m].naming],this.outs.push(w),w.name=s[m].naming,w.x=d,w.y=p+16*m,w.len=16,b[s[m].naming]=null):w=this.addOut(d,p+16*m,16,s[m].naming),w.index=m,w.bus="OutPinBus"===s[m].constructor.type,w.reference=s[m].id}for(var x in b)null!==b[x]&&b[x].clear()}},V.prototype.clone=function(){var t=new V;t.circuitName=this.circuitName;for(var e=0;e<this.ins.length;e++){var i=this.ins[e].clone();i.component=t,t.ins.push(i)}for(var n=0;n<this.outs.length;n++){var o=this.outs[n].clone();o.component=t,t.outs.push(o)}return t.copyFrom(this),t},V.prototype.load=function(t){this.circuitName=t.circuitName,N.prototype.load.call(this,t),this.getCircuitRef()},V.prototype.save=function(){var t=N.prototype.save.call(this);return t.circuitName=this.circuitName,t},V.prototype.draw=function(t,e){this.getCircuitRef(),this.ensureIO(),this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=(this.x,this.width,this.y-this.height/2-.5);this.y,this.height;t.beginPath(),t.rect(i,n,this.width,this.height),J.fillWith(t),t.stroke(),t.font="14px Times",t.textAlign="center",null!==this.naming&&t.fillText(this.naming,this.x,this.y-10),t.fillText(this.circuitName,this.x,this.y+this.height/2-5),t.stroke(),this.drawIO(t,e)};var G=function(){};G.sanitize=function(t){return x.a.sanitize(t)},G.boolean=function(t){return!0===t},G.htmlentities=function(t){return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")};var K=function(t){this.circuits=null,this.components=[],this.name=t,this.width=this.defWidth,this.height=this.defHeight,this.prev=null,this.touch=function(t,e){for(var i=this.components.length-1;i>=0;i--){var n=this.components[i].touch(t,e);if(null!==n)return n}return null},this.advance=function(t){for(var e=!1,i=0;i<this.components.length;i++){this.components[i].advance(t)&&(e=!0)}return e}};K.prototype.defWidth=1920,K.prototype.defHeight=1080,K.prototype.clone=function(){var t=new K(this.name);t.width=this.width,t.height=this.height,t.prev=this.prev,this.prev=t;for(var e=0;e<this.components.length;e++){var i=(o=this.components[e]).clone();t.add(i)}for(var n=0;n<this.components.length;n++)for(var o=this.components[n],r=0;r<o.outs.length;r++)for(var s=o.outs[r],a=0;a<s.to.length;a++)s.to[a].clone();return t},K.prototype.copy_clone=function(){var t=new K(this.name);t.width=this.width,t.height=this.height;for(var e=0;e<this.components.length;e++){var i=(n=this.components[e]).clone();t.add(i)}for(e=0;e<this.components.length;e++)for(var n=this.components[e],o=0;o<n.outs.length;o++)for(var r=n.outs[o],s=0;s<r.to.length;s++)r.to[s].clone();return t},K.prototype.draw=function(t,e){this.components.forEach(function(i,n,o){i.draw(t,e)})},K.prototype.newTab=function(){for(var t=this.components.length-1;t>=0;t--)this.components[t].newTab()},K.prototype.inRect=function(t){for(var e=[],i=this.components.length-1;i>=0;i--)this.components[i].inRect(t,e);return e},K.prototype.snapIt=function(t){this.circuits.snap&&(t.x=this.circuits.grid*Math.round(t.x/this.circuits.grid),t.y=this.circuits.grid*Math.round(t.y/this.circuits.grid))},K.prototype.add=function(t){return this.components.push(t),t.added(this),t},K.prototype.delete=function(t){for(var e=0;e<this.components.length;e++)if(this.components[e]===t){this.components.splice(e,1);break}},K.prototype.touchIn=function(t,e){for(var i=this.components.length-1;i>=0;i--){var n=this.components[i].touchIn(t,e);if(null!==n)return n}return null},K.prototype.touchOut=function(t,e){for(var i=this.components.length-1;i>=0;i--){var n=this.components[i].touchOut(t,e);if(null!==n)return n}return null},K.prototype.save=function(){for(var t=[],e=0;e<this.components.length;e++){var i=this.components[e];t.push(i.save())}for(var n=[],o=0;o<this.components.length;o++){var r=this.components[o];n=n.concat(r.saveConnections())}return{name:this.name,width:this.width,height:this.height,components:t,connections:n}},K.prototype.load=function(t){this.name=G.sanitize(t.name),this.width=+t.width,this.height=+t.height;for(var e={},i=0;i<t.components.length;i++){var n=t.components[i],o=void 0;if(null!==(o="CircuitRef"===n.type?V:this.circuits.model.main.components.get(n.type))){var r=new o;r.circuit=this,r.load(n),e[r.id]=r,this.add(r)}else console.log(n)}for(var s=0;s<t.connections.length;s++){var a=t.connections[s],l=e[a.from];if(void 0!==l){var c=e[a.to];if(void 0!==c){var u=a.out,h=a.in;this.connect(l,u,c,h).load(a)}else console.log("To object undefined"),console.log(this),console.log(a)}else console.log("From object undefined"),console.log(this),console.log(a)}},K.prototype.getComponentByNaming=function(t){for(var e=0;e<this.components.length;e++){var i=this.components[e];if(i.naming===t)return i}return null},K.prototype.getComponentsByType=function(t){for(var e=[],i=0;i<this.components.length;i++){var n=this.components[i];n.constructor.type===t&&e.push(n)}return e},K.prototype.mouseUp=function(){for(var t=0;t<this.components.length;t++){this.components[t].mouseUp()}},K.prototype.connect=function(t,e,i,n){for(;t.outs.length<=e;)t.addOut(0,0,50,"T");for(;i.ins.length<=n;)i.addIn(0,0,50,"T");return new f(t.outs[e],i.ins[n])},K.prototype.getComponentsByType=function(t){for(var e=[],i=0;i<this.components.length;i++){var n=this.components[i];n.constructor.type===t&&e.push(n)}return e},K.prototype.maxXY=function(){for(var t=1,e=1,i=0;i<this.components.length;i++){var n=this.components[i];n.x+n.width/2>t&&(t=n.x+n.width/2),n.y+n.height/2>e&&(e=n.y+n.height/2)}return{x:t,y:e}},K.prototype.pending=function(){for(var t=0;t<this.components.length;t++){this.components[t].pending()}},K.prototype.getName=function(){return this.name},K.prototype.setName=function(t){this.name=t},K.prototype.stats=function(){var t=0;return this.components.forEach(function(e){e.outs.forEach(function(e){t+=e.to.length})}),{name:this.name,numComponents:this.components.length,numConnections:t,width:this.width,height:this.height}},K.prototype.moveToFront=function(t){for(var e=0;e<this.components.length;e++)if(this.components[e]===t){this.components.splice(e,1),this.components.push(t);break}};var Z=i("./node_modules/buckets-js/dist/buckets.min.js"),tt=i.n(Z),et=function(){var t=this;this.time=1,this.view=null,this.speed=1e-6,this.order=1,this.priorityQueue=new tt.a.PriorityQueue(function(t,e){return t.time===e.time?e.order-t.order:e.time-t.time}),this.setView=function(t){this.view=t,null===this.view||e||(e=!0,requestAnimationFrame(n))};var e=!1,i=null,n=function n(o){e=!1,null===i&&(i=o);var r=.001*(o-i);for(i=o,r>1&&(r=1);r>0;){var s=r;s>.03&&(s=.03),t.advance(s*t.speed)&&null!==t.view&&t.view.draw(),r-=s}null!==t.view&&(e=!0,requestAnimationFrame(n))}};et.prototype.queue=function(t,e,i){var n=1e-9*e;this.priorityQueue.add({time:this.time+n,order:this.order,component:t,state:i}),this.order++},et.prototype.advance=function(t){for(var e=!1;!this.priorityQueue.isEmpty()&&this.priorityQueue.peek().time<=this.time+t;){var i=this.priorityQueue.dequeue(),n=i.time-this.time;t-=n,this.time=i.time,n>0&&null!==this.view&&this.view.advance(n)&&(e=!0),i.component.compute(i.state),e=!0}return this.time+=t,t>0&&null!==this.view&&this.view.advance(t)&&(e=!0),e};var it=function(t,e){this.model=t,this.circuits=[],this.grid=8,this.snap=!0,this.id=null!==t?t.id:void 0,this.simulation=e||new et,this.prev=null};it.prototype.add=function(t){return this.circuits.push(t),t.circuits=this,t},it.prototype.insert=function(t){return this.circuits.unshift(t),t.circuits=this,t},it.prototype.getCircuits=function(){return this.circuits.slice()},it.prototype.getCircuit=function(t){for(var e=0;e<this.circuits.length;e++){var i=this.circuits[e];if(i.name===t)return i}return null},it.prototype.advance=function(t){for(var e=!1,i=0;i<this.circuits.length;i++){this.circuits[i].advance(t)&&(e=!0)}return e},it.prototype.newTab=function(){for(var t=0;t<this.circuits.length;t++)this.circuits[t].newTab()},it.prototype.clone=function(){var t=new it(this.model,this.simulation);t.grid=this.grid,t.snap=this.snap,t.prev=this.prev,this.prev=t;for(var e=0;e<this.circuits.length;e++){var i=this.circuits[e];t.add(i.clone())}return t},it.prototype.toJSON=function(){return JSON.stringify(this.save())},it.prototype.fmJSON=function(t){var e=JSON.parse(t);this.load(e)},it.prototype.save=function(){for(var t=[],e=0;e<this.circuits.length;e++){var i=this.circuits[e];t.push(i.save())}var n={grid:this.grid,circuits:t,id:this.id};return this.snap&&(n.snap=!0),n},it.prototype.load=function(t){this.grid=+t.grid,this.snap=G.boolean(t.snap),this.prev=null,this.circuits=[],void 0!==t.id&&(this.id=G.sanitize(t.id));for(var e=t.circuits.length-1;e>=0;e--){var i=t.circuits[e],n=new K(i.name);this.insert(n),n.load(i)}for(var o=this.circuits.length-1;o>=0;o--)this.circuits[o].pending()},it.prototype.addCircuit=function(t){var e=new K(t);this.add(e)},it.prototype.deleteCircuitByIndex=function(t){this.circuits.splice(t,1)},it.prototype.getComponentByNaming=function(t){for(var e=0;e<this.circuits.length;e++){var i=this.circuits[e].getComponentByNaming(t);if(null!==i)return i}return null},it.prototype.getComponentsByType=function(t){for(var e=[],i=0;i<this.circuits.length;i++){var n=this.circuits[i].getComponentsByType(t);e=e.concat(n)}return e},it.prototype.replaceCircuit=function(t){t.circuits=this;for(var e=0;e<this.circuits.length;e++)if(this.circuits[e].name===t.name){this.circuits[e]=t,t.components.forEach(function(t){t.pending()}),this.model.newTab();break}};var nt=function(t){this.main=t,this.circuits=new it(this),this.circuits.add(new K("main"))};nt.prototype.getCircuit=function(t){return this.circuits.getCircuit(t)},nt.prototype.undo=function(){null!==this.circuits.prev&&(this.circuits=this.circuits.prev)},nt.prototype.backup=function(){this.circuits.clone()},nt.prototype.toJSON=function(){return this.circuits.toJSON()},nt.prototype.fmJSON=function(t){this.circuits.simulation.setView(null),this.circuits=new it(this),this.circuits.fmJSON(t)},nt.prototype.getSimulation=function(){return this.circuits.simulation},nt.prototype.newTab=function(){this.circuits.newTab()},nt.prototype.addCircuit=function(t){this.backup(),this.circuits.addCircuit(t)},nt.prototype.deleteCircuitByIndex=function(t){this.backup(),this.circuits.deleteCircuitByIndex(t)},nt.prototype.getComponentByNaming=function(t){return this.circuits.getComponentByNaming(t)},nt.prototype.getComponentsByType=function(t){return this.circuits.getComponentsByType(t)},nt.prototype.replaceCircuit=function(t){this.circuits.replaceCircuit(t)};var ot=function(t,e,i,n){this.left=void 0!==t?t:0,this.top=void 0!==e?e:0,this.right=void 0!==i?i:this.left,this.bottom=void 0!==n?n:this.top};ot.prototype.setRightBottom=function(t,e){this.right=t,this.bottom=e},ot.prototype.normalize=function(){if(this.left>this.right){var t=this.left;this.left=this.right,this.right=t}this.top>this.bottom&&(t=this.top,this.top=this.bottom,this.bottom=t)},ot.prototype.isEmpty=function(){return this.left>=this.right||this.top>=this.bottom},ot.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom};var rt=function(t){var e=this;this.selection=[];var i=!1,n=!1,o=null;this.mouseDown=function(e,r,s){i=!0,n=!0;var a=t.circuit.touch(e,r);null!==a?a.single()?this.selection=[a]:this.isSelected(a)||(s.shiftKey||(this.selection=[]),this.selection.push(a)):(s.shiftKey||(this.selection=[]),o=new ot(e,r));for(var l=0;l<this.selection.length;l++)this.selection[l].grab()},this.mouseMove=function(e,r,s,a){if(i){if(n){if(null===o&&this.selection.length>0&&t.backup(),1===this.selection.length){var l=this.selection[0].spawn(e,r);null!==l&&(this.selection=[l])}n=!1}if(null!==o)o.setRightBottom(e,r);else for(var c=0;c<this.selection.length;c++)this.selection[c].move(s,a)}},this.mouseUp=function(n,r){if(i){for(var s=!1,a=0;a<this.selection.length;a++)this.selection[a].single()&&(s=!0),this.selection[a].drop();s&&(this.selection=[])}i=!1,null!==o&&(!function(){if(o.normalize(),!o.isEmpty()){var i=t.circuit.inRect(o);if(i.length>0){for(var n=e.selection.slice(),r=0;r<i.length;r++)e.isSelected(i[r])||n.push(i[r]);e.selection=n}}}(),o=null),t.circuit.mouseUp()},this.isSelected=function(t){for(var e=0;e<this.selection.length;e++)if(t===this.selection[e])return!0;return!1},this.draw=function(t){null!==o&&(t.setLineDash||(t.setLineDash=function(){}),t.strokeStyle="#888888",t.setLineDash([2,3]),t.beginPath(),t.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),t.stroke(),t.setLineDash([]))},this.getSelection=function(){return this.selection},this.clear=function(){this.selection=[]}};rt.prototype.delete=function(){this.selection.forEach(function(t){t.delete()}),this.clear()};var st=function(t){this.api=t};st.prototype.errors=function(){return void 0!==this.api.errors?this.api.errors:null},st.prototype.fetch=function(t){if(void 0===this.api.data)return[];var e=[];return this.api.data.forEach(function(i){i.type===t&&e.push(i)}),e},st.prototype.getData=function(t){if(void 0===this.api.data)return[];var e=!0,i=!1,n=void 0;try{for(var o,r=this.api.data[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;if(s.type===t)return s}}catch(t){i=!0,n=t}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}return null};var at=function(t,e,i){D.call(this),this.buttonOk=null,this.open=function(n){var o=this;this.contents("<p>Loading tab from server...</p>","Loading tab..."),D.prototype.open.call(this);var r=e.getAPI("import"),s=r.extra;Object.assign(s,t.extra),null!==r&&H.do({url:r.url,data:Object.assign({cmd:"open",name:t.name},s),method:"GET",dataType:"json",success:function(t){var e=new st(t);if(!i.jsonErrors(e)){var r=t.data[0].attributes.data;n(r)}o.close()},error:function(t,e,n){console.log(t.responseText),i.message("Unable to communicate with server: "+n),o.close()}})}};(at.prototype=Object.create(D.prototype)).constructor=at;var lt=function(t,e,i){var n=this;this.main=t,this.circuit=i,this.selection=new rt(this),this.element=e,this.tabnum=-1,e.addEventListener("dragover",function(t){t.preventDefault()}),e.addEventListener("drop",function(t){t.preventDefault();var e=t.dataTransfer.getData("text/plain");console.log(e),console.log(t)}),this.initialize=function(){n.setSize(),t.dragAndDrop.droppable(n,function(t,e,i){var o=t.obj;if(void 0!==o){n.backup();var r=new o(t);r.brand(),r.x=e,r.y=i,n.circuit.add(r),n.circuit.snapIt(r),n.draw()}});var o={x:0,y:0},r={x:0,y:0},s={x:0,y:0},a=function(i,a,h,d){var p=b.offset(e);s={x:i,y:a},r.x=i-p.left,r.y=a-p.top,o.x=r.x,o.y=r.y,"inline"!==t.options.display?(n.selection.mouseDown(r.x,r.y,d),n.draw(),h?e.addEventListener("touchmove",u):e.addEventListener("mousemove",c),e.parentNode.addEventListener("scroll",l)):n.circuit.touch(r.x,r.y)},l=function(t){var i=b.offset(e);r.x=s.x-i.left,r.y=s.y-i.top,n.selection.mouseMove(r.x,r.y,r.x-o.x,r.y-o.y),o.x=r.x,o.y=r.y,n.draw()},c=function(t){t.preventDefault(),h(t.pageX,t.pageY,!1)},u=function(t){t.preventDefault();var e=t.changedTouches[0];h(e.pageX,e.pageY,!0)},h=function(t,a,l){if(t!==s.x||a!==s.y){var c=b.offset(e);s={x:t,y:a},r.x=t-c.left,r.y=a-c.top,n.selection.mouseMove(r.x,r.y,r.x-o.x,r.y-o.y);var u=n.circuit.maxXY();u.x>e.offsetWidth&&(e.style.width=u.x+"px",e.setAttribute("width",u.x),i.width=u.x),u.y>e.offsetHeight&&(e.style.height=u.y+"px",e.setAttribute("height",u.y),i.height=u.y),o.x=r.x,o.y=r.y,n.draw()}},d=function(t,i,s){e.parentNode.removeEventListener("scroll",l);var a=b.offset(e);r.x=t-a.left,r.y=i-a.top,n.selection.mouseUp(r.x,r.y),o.x=r.x,o.y=r.y,n.draw()};e.addEventListener("mousedown",function(t){t.preventDefault(),a(t.pageX,t.pageY,!1,t)}),e.addEventListener("dblclick",function(e){e.preventDefault(),1===n.selection.selection.length&&n.selection.selection[0]instanceof N&&n.selection.selection[0].properties(t)}),document.querySelector("body").addEventListener("mouseup",function(t){t.preventDefault(),e.removeEventListener("mousemove",c),d(t.pageX,t.pageY,!1)}),e.addEventListener("touchstart",function(t){t.preventDefault();var e=t.changedTouches[0];a(e.pageX,e.pageY,!0,t)}),e.addEventListener("touchend",function(t){t.preventDefault();var e=t.changedTouches[0];d(e.pageX,e.pageY,!0)}),e.addEventListener("touchcancel",function(t){var e=t.changedTouches[0];d(e.pageX,e.pageY,!0)})},this.draw=function(){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.circuit.draw(t,this),this.selection.draw(t)},this.delete=function(){this.backup(),this.selection.delete(),this.draw()},this.backup=function(){this.circuit.circuits.model.backup()},this.advance=function(t){return this.circuit.circuits.advance(t)},this.setSize=function(){e.offsetWidth===this.circuit.width&&e.offsetHeight===this.circuit.height||(e.style.width=this.circuit.width+"px",e.style.height=this.circuit.height+"px",e.width=this.circuit.width,e.height=this.circuit.height)},this.initialize(),this.draw()};lt.prototype.undo=function(){null!==this.circuit.prev&&(this.selection.clear(),this.circuit=this.circuit.prev,this.draw())},lt.prototype.importTab=function(t){var e=this;this.selection.clear(),new at(t,this.main.options,this.main.toast).open(function(i){e.backup();var n=new nt(e.main);n.fmJSON(i);var o=n.getCircuit(t.from);null!==o&&(o.name=t.into,e.main.model.replaceCircuit(o),e.circuit=o,e.draw())})};var ct=function(t){var e=this;this.active=-1;var i=[],n=null,o=null,r=null;this.create=function(t){n=b.createClassedDiv("tabs"),o=document.createElement("ul"),n.appendChild(o),r=b.createClassedDiv("panes"),n.appendChild(r),t.appendChild(n),i=[],e.sync()},this.sync=function(){if(function(){var e=t.model.circuits.getCircuits();if(i.length!==e.length)return!0;for(var n=0;n<i.length;n++){if(i[n].circuit!==e[n])return!0;var o=i[n].li.querySelector("a").textContent;if(o!==e[n].getName())return!0}return!1}()){var e=this.active>=0?i[this.active].circuit:null,a=t.model.circuits.getCircuits();r=b.createClassedDiv("panes"),o=document.createElement("ul");var l=[];if(a.forEach(function(e){var n=document.createElement("li"),a=document.createElement("a");n.appendChild(a),a.innerText=e.getName(),n.addEventListener("click",function(t){t.preventDefault(),s(n)}),a.addEventListener("click",function(t){t.preventDefault(),s(n)}),o.appendChild(n);var c=null,u=null;for(var h in i)e===i[h].circuit&&(c=i[h].pane,u=i[h].view);if(null===c){c=b.createClassedDiv("tab");var d=document.createElement("canvas");c.appendChild(d),u=new lt(t,d,e)}r.appendChild(c),u.tabnum=l.length,l.push({li:n,pane:c,circuit:e,view:u})}),n.innerHTML="",n.appendChild(o),n.appendChild(r),i=l,null===e)this.selectTab(0,!0);else{var c=!1;for(var u in i)if(e===i[u].circuit){c=!0,this.selectTab(u,!0);break}c||(this.active>=i.length?this.selectTab(this.active-1):this.selectTab(this.active))}}};var s=function(t){for(var n=0;n<i.length;n++)i[n].li===t&&e.selectTab(n)};this.selectTab=function(n,o){if(!0===o||n!==e.active){i.forEach(function(t){b.removeClass(t.li,"selected"),b.removeClass(t.pane,"selected")}),e.active=n;var r=i[e.active];b.addClass(r.li,"selected"),b.addClass(r.pane,"selected"),r.view.draw(),t.model.getSimulation().setView(r.view),t.newTab()}},this.currentView=function(){return e.active<0?null:i[e.active].view},this.currentCircuit=function(){return e.active<0?null:i[e.active].circuit},this.undo=function(){i.forEach(function(t){t.view.undo()})},this.destroy=function(){this.active=-1,n.parentNode.removeChild(n),n=null,i=[]},this.validateName=function(e,i){for(var n=t.model.circuits.getCircuits(),o=0;o<n.length;o++){var r=n[o];if(r!==i&&e.toLowerCase()===r.getName().toLowerCase())return"Name "+e+" already in use by another tab"}return null},this.add=function(e){t.model.addCircuit(e),this.sync(),this.selectTab(i.length-1,!0)},this.delActive=function(i){e.active<0||(t.model.deleteCircuitByIndex(e.active),e.sync())},this.rename=function(t){this.currentCircuit().setName(t),this.sync()}},ut=(i("./src/Cirsim/Vendor/Blob.js"),i("./src/Cirsim/Vendor/FileSaver.js")),ht=function(t){D.call(this);var e=this.uniqueId();this.open=function(){var t='<div class="control"><label for="'.concat(e,'">Name</label>\n<input type="text" id="').concat(e,'" value="circuit" class="text ui-widget-content ui-corner-all">\n</div>\n<p>Enter a name for the exported .cirsim file.</p>');this.buttonOk="Export",this.contents(t,"Cirsim Export"),D.prototype.open.call(this),document.getElementById(e).select()},this.ok=function(){var i=this.sanitize(document.getElementById(e).value).replace(/^\s+|\s+$/gm,"").replace(/\.[^/.]+$/,"");if(0===i.length)this.error("You must supply a name");else{this.close(),i.endsWith(".cirsim")||(i+=".cirsim");var n=t.toJSON();Object(ut.a)(new Blob([n],{type:"application/json"}),i)}}};(ht.prototype=Object.create(D.prototype)).constructor=ht;var dt=function(t,e){D.call(this);var i=this,n=m.uniqueName(),o='<div class="control gap"><input class="file" type="file" id="'+n+'" /><br><span id="import-error" class="error"></span></div><p>Choose a file to import into Cirsim.</p>';this.ok=function(){var o=document.getElementById(n).files;if(!(o.length<1)){var r=o[0],s=new FileReader;s.onload=function(n){e.fmJSON(n.target.result),i.close(),t.reload()},s.onerror=function(t){i.error("Error reading circuits file")},s.onabort=function(t){i.error("Circuits file read aborted")},s.readAsText(r)}},this.buttonOk="Import",this.contents(o,"Cirsim Import")};(dt.prototype=Object.create(D.prototype)).constructor=dt;var pt=function t(e,i){this.value=void 0,this.type=void 0!==i?i:t.AUTO,void 0!==e&&this.set(e)};pt.AUTO=0,pt.BINARY=1,pt.HEX=2,pt.FLOAT16=3,pt.prototype.get=function(){return this.value},pt.prototype.set=function(t){if(t instanceof pt)throw"Invalid";Array.isArray(t)?this.value=t.slice():this.value=t},pt.prototype.setZero=function(t){this.value=[];for(var e=0;e<t;e++)this.value.push(!1)},pt.prototype.clone=function(){return new pt(this.value,this.type)},pt.prototype.save=function(t){t.value=this.value,this.type!==pt.AUTO&&(t.valuetype=this.type)},pt.prototype.load=function(t){this.set(t.value),void 0!==t.valuetype&&(this.type=t.valuetype)},pt.prototype.getAsString=function(){if(void 0===this.value)return"?";switch(this.type){default:return this.value.length>8?this.getAsHex():this.getAsBinary();case pt.BINARY:return this.getAsBinary();case pt.HEX:return this.getAsHex();case pt.FLOAT16:return this.getAsFloat16()}},pt.prototype.setAsString=function(t,e){if("string"==typeof(t=G.sanitize(t))||t instanceof String||(t=t.toString()),(t=(t=t.replace(/^\s+|\s+$/gm,"")).toLowerCase()).indexOf("inf")>=0||"nan"===t)return this.setAsFloat16(t,e);var i=t.substr(0,2);if("0x"===i)return this.setAsHex(t.substr(2),e);if("0b"===i)return this.setAsBinary(t.substr(2),e);if(t.indexOf(".")>=0||t.indexOf("e")>=0||t.indexOf("-")>=0)return this.setAsFloat16(t,e);switch(this.type){default:case pt.BINARY:return this.setAsBinary(t,e);case pt.HEX:return this.setAsHex(t,e);case pt.FLOAT16:return this.setAsFloat16(t,e)}},pt.prototype.draw=function(t,e,i,n,o){t.save(),t.translate(e,i),t.font="14px Times",t.textAlign="left";var r=0;void 0!==o&&null!==o&&(r=t.measureText(o+": ").width);var s=this.getAsString(),a=r+t.measureText(s).width,l=1;a>n&&(l=n/a,t.scale(l,l));r>0&&t.fillText(o+": ",-a/2,5),(this.type==pt.HEX||this.type==pt.AUTO&&Array.isArray(this.value)&&this.value.length>8)&&(t.font="bold 14px Times"),t.fillText(s,-a/2+r,5),t.restore()},pt.prototype.dialogContent=function(t,e){var i=this,n=t.uniqueId(),o=t.uniqueId(),r=function(t,e,n){return'<input type="radio" name="'.concat(o,'" value="').concat(n,'"').concat(i.type===n?" checked":"","> ").concat(e)},s="";if(e){var a;switch(this.type){default:case pt.BINARY:a="0b"+this.getAsBinary();break;case pt.HEX:a="0x"+this.getAsHex();break;case pt.FLOAT16:a=this.getAsFloat16()}s+='<div class="control"><label for="'+n+'">Value</label><input type="text" id="'+n+'" name="'+n+'" value="'+a+'" spellcheck="false" onfocus=" this.select()"></div>'}return{html:s+='<div class="control">'+r(0,"Auto",pt.AUTO)+"<br>"+r(0,"Hexadecimal",pt.HEX)+"<br>"+r(0,"Binary",pt.BINARY)+"<br>"+r(0,"Float-16",pt.FLOAT16)+"</div>",validate:function(){if(e){var t=i.type;i.type=parseInt(document.querySelector('input[name="'+o+'"]:checked').value);var r=document.getElementById(n).value,s=i.setAsString(r,!0);if(i.type=t,!s)return"Invalid value"}return null},accept:function(){if(i.type=parseInt(document.querySelector('input[name="'+o+'"]:checked').value),e){var t=document.getElementById(n).value;i.setAsString(t,!1)}}}},pt.prototype.dialogOptions=function(t,e,i){var n=this.dialogContent(t,e);t.extra(n.html,n.validate,function(){n.accept(),void 0!==i&&i()},e?170:130)},pt.prototype.getAsInteger=function(){if(!Array.isArray(this.value))return"?";for(var t=0,e=1,i=0;i<this.value.length;i++,e*=2){if(void 0===this.value[i])return"?";this.value[i]&&(t+=e)}return t},pt.prototype.setAsInteger=function(t,e){for(var i=[],n=0;n<e;n++)i.push(1==(1&t)),t>>=1;return this.value=i,!0},pt.prototype.getAsHex=function(){if(!Array.isArray(this.value))return"?";for(var t="",e=0;e<this.value.length;e+=4){for(var i=1,n=0,o=0;o<4&&e+o<this.value.length;o++,i*=2){if(void 0===this.value[e+o]){n=-1;break}this.value[e+o]&&(n+=i)}t=n<0?"?"+t:Number(n).toString(16)+t}return t},pt.prototype.setAsHex=function(t,e){for(var i=[],n=t.length-1;n>=0;n--){var o=t.substr(n,1);if(" "!==o)if("?"===o)i.push([void 0,void 0,void 0,void 0]);else{var r=parseInt(o,16);if(isNaN(r))return!1;i.push(1==(1&r),2==(2&r),4==(4&r),8==(8&r))}else if(i.length>0)break}return e||(this.value=i),!0},pt.prototype.getAsBinary=function(){return function t(e){if(Array.isArray(e)){var i="";return e.forEach(function(e){i=t(e)+i}),i}return void 0===e?"?":e?"1":"0"}(this.value)},pt.prototype.setAsBinary=function(t,e){for(var i=[],n=t.length-1;n>=0;n--){var o=t.substr(n,1);if(" "!==o)switch(o){case"0":i.push(!1);break;case"1":i.push(!0);break;case"?":i.push(void 0);break;default:return!1}else if(i.length>0)break}return e||(this.value=i),!0},pt.prototype.setInfinity16=function(t){this.value=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,t]},pt.prototype.getAsFloat16=function(){if(this.value.length<16)return"?";for(var t=this.value[15]?"-":"",e=0;e<15&&!this.value[e];e++);if(e>=15)return t+"0";var i=1,n=0;for(e=10;e<15;e++,i*=2)this.value[e]&&(n+=i);if(31==n){for(e=0;e<10;e++)if(this.value[e])return"NaN";return t+"inf"}n-=15;var o=1;i=.5;for(e=9;e>=0;e--,i/=2)this.value[e]&&(o+=i);return t+(o*=Math.pow(2,n)).toExponential(3)},pt.prototype.setAsFloat16=function(t,e){var i=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];if("inf"===t)return e||(this.value=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1]),!0;if("-inf"===t)return e||(this.value=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0]),!0;if("nan"===t)return e||(this.value=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1]),!0;var n=parseFloat(t);if(isNaN(n))return!1;if(0==n)return e||(this.value=i),!0;var o=n<0;o&&(n=-n);for(var r=0;n>1&&r<16;)n/=2,r++;if(r>=15)return e||this.setInfinity16(o),!0;for(;n<1&&r>-15;)n*=2,r--;if(r<=-15)return e||this.setZero(16),!0;n-=1,n*=2;for(var s=9;s>=0;s--,n*=2)n>=1?(i[s]=!0,n-=1):i[s]=!1;for(r+=15,s=10;s<15;s++,r>>=1)i[s]=!!(1&r);return i[15]=o,e||(this.value=i),!0};var ft=function(t){this.msg=t},vt=function(t){function e(t){return"string"==typeof t||t instanceof String}function i(t,e){if(void 0!==t.result){var i=document.querySelectorAll(t.result),n=!0,o=!1,r=void 0;try{for(var s,a=i[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){s.value.value=e}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}}}function n(t,e){if(void 0!==t.circuit){var i=document.querySelectorAll(t.circuit),n=!0,o=!1,r=void 0;try{for(var s,a=i[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){s.value.value=e}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}}}this.main=t,this.tests=[],this.addTest=function(t){t===Object(t)?this.tests.push(t):"{"===t.substr(0,1)?this.tests.push(JSON.parse(t)):(t=atob(t),this.tests.push(JSON.parse(t)))},this.findTest=function(t){for(var e=0;e<this.tests.length;e++)if(this.tests[e].tag===t)return this.tests[e];return null},this.runTestDlg=function(e){t.save(!0,!0),t.modal(!0),this.runTest(e).then(function(e){t.modal(!1);new M("Success","<h1>Circuit Success</h1><p>The test has passed.</p>").open(),i(e,void 0!==e.success?e.success:"success"),n(e,t.model.toJSON())},function(o){t.modal(!1),new M("Test Failure","<h1>Circuit Failure</h1>"+o,450).open(),i(e,"fail"),n(e,t.model.toJSON())})},this.runTest=function(i){return new Promise(function(n,o){var r=t.model;r.backup();var s=-1;try{var a=function(e){for(var i=t.model,n=[],o=0;o<e.input.length;o++){var r=e.input[o],s=i,a="";if("tab:"===r.substr(0,4)){var l=r.substr(4),c=l.indexOf(":");if(-1===c)throw new ft("<p>Invalid input tab definition: "+r+"</p>");var u=l.substr(0,c);if(null===(s=i.getCircuit(u)))throw new ft("<p>Invalid input tab: "+u+"</p>");a=" in tab <em>"+u+"</em>",r=l.substr(c+1)}if("type:"===r.substr(0,5)){var h=r.substr(5),d=s.getComponentsByType(h);if(0===d.length)throw new ft("<p>The test is not able to pass because you do not have a component of type "+h+a+".</p>");if(d.length>1)throw new ft("<p>The test is not able to pass because you have more than one  component of type "+h+a+".</p><p>You are only allowed one component of that type in this circuit.</p>");n.push(d[0])}else{var p=s.getComponentByNaming(r);if(null===p)throw new ft("<p>The test is not able to pass because you do not have a component named "+r+a+".</p><p>Typically, the tests are looking for an input pin or a bus input pin. Input pins are labeled IN in the palette. Double-click on an input pin to set the name. Names in Cirsim are case sensitive.</p>");n.push(p)}}return n}(i),l=function(e){for(var i=t.model,n=[],o=0;o<e.output.length;o++){var r=i,s="",a=e.output[o].split("-"),l=a[0];if("tab:"===l.substr(0,4)){var c=l.substr(4),u=c.indexOf(":");if(-1===u)throw new ft("<p>Invalid output tab definition: "+l+"</p>");var h=c.substr(0,u);if(null===(r=i.getCircuit(h)))throw new ft("<p>Invalid out tab: "+h+"</p>");s=" in tab <em>"+h+"</em>",l=c.substr(u+1)}var d=a.length>1?a[1]:0,p=r.getComponentByNaming(l);if(!(null!==p&&p.ins.length>d))throw new ft("<p>The test is not able to pass because you do not have a component named "+l+s+".</p><p>Output pins are labeled OUT in the palette. Double-click on an output pin to set the name. Pin names are case sensitive.</p>");n.push(p.ins[d])}return n}(i)}catch(t){if(t instanceof ft)return void o(t.msg);throw t}setTimeout(function c(){if(s>=0)for(var u=i.test[s],h=0;h<l.length&&h+a.length<u.length;h++){var d=u[h+a.length];if(null!==d&&"?"!==d){var p=!1,f=!1;do{f=!1,e(d)&&"bitslop:"===d.substr(0,8)&&(p=!0,d=d.substr(8),f=!0)}while(f);var v=new pt;v.type=pt.BINARY,v.setAsString(d);var m=l[h].getAsString(),y=!0;if(p)d=v.getAsInteger(),v.setAsBinary(m),"?"===(m=v.getAsInteger())?y=!1:(m<d-1||m>d+1)&&(y=!1);else if(e(d=v.getAsBinary())){for(var g=m.length-1,b=d.length-1;b>=0&&y;g--,b--)if("?"!==d.substr(b,1)){if(g<0){y=!1;break}m.substr(g,1)!=d.substr(b,1)&&(y=!1)}g>0&&(y=!1)}else null!==d&&"?"!==d&&(y=d==m);if(!y)return console.log("Test: "+s+" Actual: "+m+" Expected: "+d),void o("<p>This test is failing. Some output is not what is currently expected by the test. The circuit is left in the state it was in when the test failed. No additional detail will be provided about why the test is failed. It is your responsibility to create a circuit that works as expected.</p>")}}if(++s<i.test.length){for(u=i.test[s],h=0;h<a.length&&h<u.length;h++)if(null!==u[h]){var w=a[h].command(u[h]);if(null!==w){if(!w.ok)return void o("<p>This test is failing. "+w.msg+"</p>")}else try{a[h].setAsString(u[h])}catch(t){return void o("<p>This test is failing. "+t+"</p>")}}var x=r.getSimulation();for(h=0;h<100&&x.advance(.01);h++);setTimeout(c,t.options.testTime),null!==x.view&&x.view.draw()}else n(i)},t.options.testTime)})}},mt=function(t){var e=this;this.defaultDuration=2e3,this.interToastDelay=500;var i=[],n=!1,o=null;this.create=function(t){o=b.createClassedDiv("toast"),t.appendChild(o),o.innerHTML="testing"};this.message=function(t,r){void 0===r&&(r=this.defaultDuration),i.push({msg:t,time:r}),function t(){if(i.length>0&&!n){var r=i[0];i.splice(0,1),o.innerHTML=r.msg,o.classList.add("toast-active"),n=!0,setTimeout(function(){o.classList.remove("toast-active"),setTimeout(function(){n=!1,t()},e.interToastDelay)},r.time)}}()},this.jsonErrors=function(t){var e=this;return null!==t.errors()&&(t.errors().forEach(function(t){e.message("Server Error: "+t.title,5e3)}),!0)}},yt=function(t){D.call(this),this.open=function(e){this.done=e;var i="<p>File "+t+" exists. Are you sure you want to overwrite?";this.contents(i,"Overwrite?"),D.prototype.open.call(this)},this.ok=function(){this.close(),this.done(!0)},this.cancel=function(){this.done(!1)}};(yt.prototype=Object.create(D.prototype)).constructor=yt;var gt=function(t,e,i){var n=this;D.call(this);var o=this,r=e.getAPI("files"),s=null,a=null;this.filename="";var l=this.uniqueId(),c=this.uniqueId(),u="#"+l,h="#"+c;this.open=function(e){a=e;var i='<div class="control"><label for="'+c+'">'+(t?"Available":"Existing")+'</label><select class="files" id="'+c+'" name="'+c+'" size="5"></select><div class="notice">Querying Server...</div></div><div class="control"><label for="'+l+'">Name</label><input type="text" name="'+l+'" id="'+l+'" value="'+this.filename+'" spellcheck="false" class="text ui-widget-content ui-corner-all"></div>';t?this.contents(i,"File Open"):(i+="<p>Enter a name to save your circuit on the server as.</p>",this.contents(i,"File Save")),D.prototype.open.call(this);var n=document.getElementById(c),o=document.getElementById(l);n.addEventListener("click",function(t){o.value=n.value}),o.select(),d(h,u),t||this.buttonOk().setAttribute("disabled","true")},this.ok=function(){var e=this,i=(document.getElementById(c),document.getElementById(l));if(this.filename=this.sanitize(i.value).replace(/^\s+|\s+$/gm,""),0===this.filename.length)return i.focus(),void this.error("Must supply a file name");if(!/^[0-9a-zA-Z\.\-\+ ]+$/.test(this.filename))return i.focus(),void this.error("Names can contain a-z, A-Z, 0-9, ., -, +, and space");((this.filename.length<8||".cirsim"!==this.filename.substr(this.filename.length-7,7))&&(this.filename+=".cirsim"),t)?this.read(this.filename,a):s.indexOf(this.filename)>=0?new yt(this.filename).open(function(t){t&&e.write(e.filename,a)}):this.write(this.filename,a)};var d=function(){H.do({url:r.url,data:Object.assign({cmd:"files"},r.extra),method:"GET",dataType:"json",success:function(t){var e=new st(t);if(i.jsonErrors(e))o.close();else{var r=e.getData("files"),a=document.getElementById(c),u=(document.getElementById(l),a.parentNode.querySelector(".notice"));null!==u&&u.parentNode.removeChild(u),s=[],r.attributes.forEach(function(t){var e=document.createElement("option");e.value=t.name,e.innerText=t.name,a.appendChild(e),s.push(t.name)}),n.buttonOk().removeAttribute("disabled")}},error:function(t,e,n){console.log(t.responseText),i.message("Unable to communicate with server: "+n),o.close()}})}};(gt.prototype=Object.create(D.prototype)).constructor=gt;var bt=function(t,e,i,n){gt.call(this,!1,i,n);var o=i.getAPI("save");this.write=function(e,i){var r=this;H.do({url:o.url,data:Object.assign({cmd:"save",name:e,data:t},o.extra),method:"POST",dataType:"json",success:function(t){var o=new st(t);n.jsonErrors(o)||(r.close(),i(e))},error:function(t,e,i){console.log(t.responseText),n.message("Unable to communicate with server: "+i),r.close()}})}};(bt.prototype=Object.create(gt.prototype)).constructor=bt;var wt=function(t,e){gt.call(this,!0,t,e);var i=t.getAPI("open");this.read=function(t,n){var o=this;H.do({url:i.url,data:Object.assign({cmd:"open",name:t},i.extra),method:"GET",dataType:"json",success:function(i){var r=new st(i);if(!e.jsonErrors(r)){var s=i.data[0].attributes.data;n(t,s),o.close()}},error:function(t,i,n){console.log(t.responseText),e.message("Unable to communicate with server: "+n),o.close()}})}};(wt.prototype=Object.create(gt.prototype)).constructor=wt;var xt=function(t,e,i,n,o){D.call(this);var r=this;this.buttonOk=null,this.open=function(){var e=this;this.contents("<p>Saving to server...</p>","Saving..."),D.prototype.open.call(this);var s=n.getAPI("save");H.do({url:s.url,data:Object.assign({cmd:"save",name:i,data:t},s.extra),method:"POST",dataType:"json",success:function(t){var e=new st(t);o.jsonErrors(e)||r.close()},error:function(t,i,n){console.log(t.responseText),o.message("Unable to communicate with server: "+n),e.close()}})}};(xt.prototype=Object.create(D.prototype)).constructor=xt;var At=function(t,e,i){D.call(this),this.buttonOk=null,this.open=function(n){var o=this;this.contents("<p>Loading from server...</p>","Loading..."),D.prototype.open.call(this);var r=e.getAPI("open");null!==r&&H.do({url:r.url,data:Object.assign({cmd:"open",name:t},r.extra),method:"GET",dataType:"json",success:function(e){var r=new st(e);if(!i.jsonErrors(r)){var s=e.data[0].attributes.data;n(t,s)}o.close()},error:function(t,e,n){console.log(t.responseText),i.message("Unable to communicate with server: "+n),o.close()}})}};(At.prototype=Object.create(D.prototype)).constructor=At;var kt=function(t,e,i){var n=this;this.cirsim=t,this.element=e,this.options=t.options,this.components=t.components,this.test=new vt(this),this.div=null;var o=!0,s=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this.test.addTest(h)}}catch(t){s=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}var d=!0,p=!1,f=void 0;try{for(var v,m=this.options.tests[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var y=v.value;this.test.addTest(y)}}catch(t){p=!0,f=t}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}this.filename=null;var g=t.options,w=null,x=null,A=null,k=null,T=null,I=null;this.initialize=function(){var t=this;if("none"!==g.display){switch(b.addClass(e,"cirsim"),e.innerHTML="",g.display){case"full":b.addClass(e,"cirsim-full");break;case"inline":b.addClass(e,"cirsim-inline");break;default:b.addClass(e,"cirsim-window")}"window"===g.display&&(e.classList.contains("resizer")||new r(e,{handle:"10px solid #18453B"})),this.dragAndDrop=new function(t){var e=null,i=null,n=[];this.draggable=function(t){t.element.addEventListener("mousedown",function(e){e.preventDefault(),o(t),r(e.pageX,e.pageY)}),t.element.addEventListener("touchstart",function(e){e.preventDefault(),o(t);var i=e.changedTouches[0];r(i.pageX,i.pageY)})},this.droppable=function(t,e){n.push({view:t,callback:e})};var o=function(n){var o=n.paletteImage();t.element.appendChild(o),o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.zIndex=100,o.style.cursor="pointer",i=n,e=o},r=function(i,n){if(null!==e){var o=t.element.getBoundingClientRect(),r=o.left+t.element.scrollLeft+window.pageXOffset,s=o.top+t.element.scrollTop+window.pageYOffset;return e.style.left=i-r-e.clientWidth/2+"px",e.style.top=n-s-e.clientHeight/2+"px",!0}return!1},s=function(o,r){if(null!==e){for(var s=0;s<n.length;s++){var a=n[s],l=a.view.element;if("none"!==l.parentNode.style.display){var c=l.getBoundingClientRect(),u=c.left+l.scrollLeft+window.pageXOffset,h=c.top+l.scrollTop+window.pageYOffset;if(o>=u&&r>=h&&o<u+(c.right-c.left)&&r<h+(c.bottom-c.top)){a.callback(i,o-u,r-h);break}}}t.element.removeChild(e),e=null,i=null}};t.element.addEventListener("mousemove",function(t){0!==t.which?r(t.pageX,t.pageY):s(t.pageX,t.pageY)}),t.element.addEventListener("touchmove",function(t){var e=t.changedTouches[0];r(e.pageX,e.pageY)}),t.element.addEventListener("mouseup",function(t){s(t.pageX,t.pageY)}),t.element.addEventListener("touchend",function(t){var e=t.changedTouches[0];s(e.pageX,e.pageY)}),t.element.addEventListener("touchcancel",function(t){var e=t.changedTouches[0];s(e.pageX,e.pageY)})}(this)}for(var i in w=new nt(this),this.model=w,this.options.tabs)this.model.circuits.add(new K(this.options.tabs[i]));if(null!==this.options.load&&w.fmJSON(this.options.load),"inline"!==g.display&&"none"!==g.display&&(this.div=b.createClassedDiv("main"),this.element.appendChild(this.div),this.help=new function(t){var e,i=this;this.home=function(){e.home()},this.url=function(t){e.present(t)},function(){e=new q(t,i);var n=b.createClassedDiv("help-div");i.element=n,t.element.appendChild(n);var o='<div class="header"><h1>Cirsim Help</h1>\n<button type="button" class="help-back" title="Back">\n<span class="icons-cl icons-cl-arrowthick-1-w"></span></button>\n<button type="button" class="help-home" title="Home">\n<span class="icons-cl icons-cl-home"></span></button>\n<button type="button" class="help-close" title="Close">\n<span class="icons-cl icons-cl-closethick"></span></button>\n</div>\n'.concat(e.html());n.innerHTML=o,e.present("");var r=n.querySelector(".header");null!==r&&(r.querySelector("button.help-close").addEventListener("click",function(e){e.preventDefault(),t.dockedHelp(!1)}),r.querySelector("button.help-home").addEventListener("click",function(t){t.preventDefault(),e.home()}),r.querySelector("button.help-back").addEventListener("click",function(t){t.preventDefault(),e.back()}))}()}(this),k=new ct(this),this.tabs=k,x=new W(this),this.menu=x,I=b.createClassedDiv("work"),this.div.appendChild(I),A=new function(t,e){var i=this;this.main=t,this.cirsim=t.cirsim,this.palette=[];var n=null,o=[],r=function(e){var r=e.type;if(a.inArray(r,o)||a.inArray(r,t.options.always)){i.palette.push(e);var s=new Q(i,e);n.appendChild(s.element)}};this.refresh=function(){var e=!0,i=!1,o=void 0;try{for(var r,s=n.querySelectorAll(".cs-circuitref")[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var a=r.value;n.removeChild(a)}}catch(t){i=!0,o=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw o}}for(var l=t.currentView().tabnum+1;l<t.model.circuits.circuits.length;l++){var c=t.model.circuits.circuits[l],u=new Q(this,V,c);u.element.classList.add("cs-circuitref"),n.appendChild(u.element)}},function(){if(n=b.createClassedDiv("cs-palette"),e.appendChild(n),"string"==typeof t.options.components){if(null===(o=t.components.getPalette(t.options.components)))throw new Error("options.components invalid name "+t.options.components)}else t.options.components.forEach(function(e){var i=t.components.getPalette(e);null!==i?o=o.concat(i):("not"===e.toLowerCase()&&(e="Inverter"),o.push(e))});t.components.components.forEach(function(t){r(t)})}()}(this,I),this.palette=A,k.create(I),T=b.createClassedDiv("cirsim-overlay"),this.div.appendChild(T),this.toast=new mt(this),this.toast.create(this.div)),"inline"===g.display){var n=document.createElement("div");e.appendChild(n);var o=document.createElement("canvas");n.appendChild(o);var s=w.circuits.getCircuit("main"),l=new lt(this,o,s,0);w.getSimulation().setView(l),T=b.createClassedDiv("cirsim-overlay"),e.appendChild(T),this.toast=new mt(this),this.toast.create(this.element)}var c=this.options.getAPI("open");null!==c&&void 0!==c.url&&void 0!==c.name&&(this.filename=c.name,new At(c.name,this.options,this.toast).open(function(e,i){w.fmJSON(i),t.reload(),t.filename=e}))},this.addTest=function(t){this.test.addTest(t)},this.currentView=function(){return k.currentView()},this.newTab=function(){null!==A&&A.refresh(),w.newTab()},this.backup=function(){w.backup()},this.undo=function(){w.undo(),k.undo(),A.refresh()},this.modal=function(t){T.style.display=t?"block":"none"},this.open=function(){var t=this;new wt(this.options,this.toast).open(function(e,i){w.fmJSON(i),t.reload(),t.filename=e})},this.save=function(t,e){var i=n.options.getAPI("save");if(null!==i)if(void 0===i.name){if(!0!==t)if(null===n.filename)n.saveAs();else{var o=w.toJSON();new xt(o,"application/json",n.filename,n.options,n.toast).open()}}else{var r=w.toJSON(),s=Object.assign({cmd:"save",name:i.name,data:r,type:"application/json"},i.extra);H.do({url:i.url,data:s,method:"POST",dataType:"json",contentType:i.contentType,success:function(t){var i=new st(t);n.toast.jsonErrors(i)||!0!==e&&n.toast.message("Successfully saved to server")},error:function(t,e,i){console.log(t.responseText),n.toast.message("Unable to communicate with server: "+i)}})}},this.saveAs=function(){var t=this,e=w.toJSON(),i=new bt(e,"application/json",this.options,this.toast);null!==this.filename&&(i.filename=this.filename),i.open(function(e){t.filename=e})},this.export=function(){new ht(w).open()},this.import=function(){new dt(this,w).open()},this.importTab=function(){for(var t=0;t<this.options.imports.length;t++){var e=this.options.imports[t];if(e.into===this.currentView().circuit.name)return void this.currentView().importTab(e)}},this.reload=function(){k.destroy(),k.create(I,w)};var O=!1;this.isHelpDocked=function(){return O},this.dockedHelp=function(t){(O=t)?b.addClass(this.element,"docked-help"):b.removeClass(this.element,"docked-help")},this.load=function(t){w.fmJSON(t)},this.initialize()};kt.prototype.runTest=function(t){return this.test.runTest(t)};var Tt=function(){this.components=[],this.palettes={},this.add=function(t){this.components.push(t),this.components.sort(function(t,e){return t.order-e.order})},this.get=function(t){for(var e=0;e<this.components.length;e++)if(this.components[e].type===t)return this.components[e];return null},this.addPalette=function(t,e){for(var i=[],n=0;n<e.length;n++)i.push(e[n].type);this.palettes[t]=i},this.getPalette=function(t){return this.palettes.hasOwnProperty(t)?this.palettes[t]:null}},It=function(){N.call(this),this.height=16,this.width=16,this.addOut(8,0,8),this.outs[0].set(!1)};(It.prototype=Object.create(N.prototype)).constructor=It,It.prototype.prefix=null,It.type="Zero",It.label="0",It.desc="0 (false)",It.description="<h2>Zero</h2><p>A simple false value.</p>",It.order=0,It.help="zero",It.prototype.compute=function(t){this.outs[0].set(!1)},It.prototype.clone=function(){var t=new It;return t.copyFrom(this),t},It.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawText(t,"0",0,5,"14px Times"),this.drawIO(t,e)},It.paletteImage=function(){var t=new Y(60,30);return t.box(16,16),t.io(8,0,"e"),t.drawText("0",0,5,"14px Times"),t};var Ot=function(){N.call(this),this.height=16,this.width=16,this.addOut(8,0,8),this.outs[0].set(!0)};(Ot.prototype=Object.create(N.prototype)).constructor=Ot,Ot.prototype.prefix=null,Ot.type="One",Ot.label="1",Ot.desc="1 (true)",Ot.description="<h2>One</h2><p>A simple true value.</p>",Ot.order=.5,Ot.help="one",Ot.prototype.compute=function(t){this.outs[0].set(!0)},Ot.prototype.clone=function(){var t=new Ot;return t.copyFrom(this),t},Ot.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawText(t,"1",0,5,"14px Times"),this.drawIO(t,e)},Ot.paletteImage=function(){var t=new Y(60,30);return t.box(16,16),t.io(8,0,"e"),t.drawText("1",0,5,"14px Times"),t};var St=function(){N.call(this),this.height=50,this.width=64,this.addIn(-32,-16,16),this.addIn(-32,16,16),this.addOut(32,0,16)};(St.prototype=Object.create(N.prototype)).constructor=St,St.type="And",St.label="AND",St.desc="AND gate",St.order=11,St.description="<h2>AND Gate</h2><p>The output of an AND gate is <em>true</em> if both inputs are true.</p>",St.help="and",St.prototype.compute=function(t){t[0]&&t[1]?this.outs[0].set(!0):!1===t[0]||!1===t[1]?this.outs[0].set(!1):this.outs[0].set(void 0)},St.prototype.clone=function(){var t=new St;return t.copyFrom(this),t},St.prototype.draw=function(t,e){this.selectStyle(t,e),St.path(t,this.x,this.y,this.width,this.height),J.fillWith(t),t.stroke(),this.drawName(t,-2,5),this.drawIO(t,e)},St.path=function(t,e,i,n,o){var r=e-n/2-.5,s=e+n/2+.5,a=i-o/2-.5,l=i+o/2+.5;t.beginPath(),t.moveTo(r,l),t.lineTo(r,a),t.lineTo(s-o/2,a),t.arc(s-o/2,i,o/2+.5,-Math.PI/2,Math.PI/2),t.lineTo(r,l)},St.paletteImageBase=function(){var t=new Y(120,70),e=t.context;e.lineWidth=1.5;var i=t.width/2,n=t.height/2,o=.5*t.width,r=(t.height,i-o/2-.5),s=i+o/2+.5,a=n-26.5+.5,l=n+26.5-.5;return this.leftX=r-t.width/2,this.rightX=s-t.width/2,e.beginPath(),e.moveTo(r,l),e.lineTo(r,a),e.lineTo(s-26.5,a),e.arc(s-26.5,n,26.5,-Math.PI/2,Math.PI/2),e.lineTo(r,l),t.fillStroke(),t.io(this.rightX,0,"e"),t},St.paletteImage=function(){var t=St.paletteImageBase();return t.io(this.leftX,-16,"w"),t.io(this.leftX,16,"w"),t};var Ct=function t(){N.call(this),this.height=50,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-256)-e;this.addIn(-32+o,-16,16+o),this.addIn(-32+o,16,16+o),this.addOut(32,0,16)};(Ct.prototype=Object.create(N.prototype)).constructor=Ct,Ct.offsetX=40,Ct.offsetY=30,Ct.type="Or",Ct.label="OR",Ct.desc="OR gate",Ct.order=15,Ct.description="<h2>OR Gate</h2><p>The output of an OR gate is <em>true</em> \nif either or both inputs are true. Otherwise, it is false.</p>",Ct.help="or",Ct.prototype.compute=function(t){t[0]||t[1]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]?this.outs[0].set(void 0):this.outs[0].set(!1)},Ct.prototype.clone=function(){var t=new Ct;return t.copyFrom(this),t},Ct.prototype.draw=function(t,e){this.selectStyle(t,e),Ct.draw(t,this.x,this.y,this.width,this.height),this.drawName(t,-2,5),this.drawIO(t,e)},Ct.draw=function(t,e,i,n,o){Ct.path(t,e,i,n,o),J.fillWith(t),t.stroke()},Ct.path=function(t,e,i,n,o){var r=e-n/2-.5,s=i-o/2-.5,a=i+o/2+.5;t.beginPath();var l=Ct.offsetX,c=Math.atan2(o/2,l),u=l/Math.cos(c);t.arc(r-l,i,u,-c,c);var h=(n/2*(n/2)-o/2*(o/2))/o;u=o/2+h,c=Math.atan2(h,n/2),t.lineTo(e,a),t.arc(e,i-h,u,Math.PI/2,c,!0),t.arc(e,i+h,u,-c,-Math.PI/2,!0),t.lineTo(r,s)},Ct.paletteImageBase=function(){var t=new Y(120,70),e=t.context;e.lineWidth=1.5;var i=t.width/2,n=t.height/2,o=.5*t.width,r=.65*t.height,s=i-o/2-.5,a=i+o/2+.5,l=Math.round(n-r/2)-.5,c=Math.round(n+r/2)+.5;e.beginPath();var u=Ct.offsetX,h=Math.atan2(r/2,u),d=u/Math.cos(h);e.arc(s-u,n,d,-h,h);var p=(o/2*(o/2)-r/2*(r/2))/r;return d=r/2+p,h=Math.atan2(p,o/2),this.leftX=s-t.width/2+3,this.rightX=a-t.width/2,e.lineTo(i,c),e.arc(i,n-p,d,Math.PI/2,h,!0),e.arc(i,n+p,d,-h,-Math.PI/2,!0),e.lineTo(s,l),t.fillStroke(),t.io(this.rightX,0,"e"),t},Ct.paletteImage=function(){var t=Ct.paletteImageBase();return t.io(this.leftX,-16,"w"),t.io(this.leftX,16,"w"),t};var Et=function t(){N.call(this),this.height=50,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-256)-e,r=Math.sqrt(n*n-4)-e;this.addIn(-32+o,-16,16+o),this.addIn(-32+r,0,16+r),this.addIn(-32+o,16,16+o),this.addOut(32,0,16)};(Et.prototype=Object.create(N.prototype)).constructor=Et,Et.offsetX=40,Et.offsetY=30,Et.type="Or3",Et.label="OR",Et.desc="OR gate",Et.order=15.3,Et.description="<h2>OR Gate</h2><p>The output of a three-input OR gate is <em>true</em> if any of of the inputs are true. Otherwise, it is false.</p>",Et.prototype.compute=function(t){t[0]||t[1]||t[2]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]?this.outs[0].set(void 0):this.outs[0].set(!1)},Et.prototype.clone=function(){var t=new Et;return t.copyFrom(this),t},Et.prototype.draw=function(t,e){this.selectStyle(t,e),Ct.draw(t,this.x,this.y,this.width,this.height),this.drawName(t,-2,5),this.drawIO(t,e)},Et.paletteImage=function(){var t=Ct.paletteImageBase();return t.io(Ct.leftX,-16,"w"),t.io(Ct.leftX,0,"w"),t.io(Ct.leftX,16,"w"),t};var Bt=function t(){N.call(this),this.height=64,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-64)-e,r=Math.sqrt(n*n-576)-e;this.addIn(-32+r,-24,16+r),this.addIn(-32+o,-8,16+o),this.addIn(-32+o,8,16+o),this.addIn(-32+r,24,16+r),this.addOut(32,0,16)};(Bt.prototype=Object.create(N.prototype)).constructor=Bt,Bt.offsetX=40,Bt.offsetY=30,Bt.type="Or4",Bt.label="OR",Bt.desc="OR gate",Bt.order=15.5,Bt.description="<h2>OR Gate</h2><p>The output of a four-input OR gate is <em>true</em> if any of of the inputs are true. Otherwise, it is false.</p>",Bt.prototype.compute=function(t){t[0]||t[1]||t[2]||t[3]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?this.outs[0].set(void 0):this.outs[0].set(!1)},Bt.prototype.clone=function(){var t=new Bt;return t.copyFrom(this),t},Bt.prototype.draw=function(t,e){this.selectStyle(t,e),Ct.draw(t,this.x,this.y,this.width,this.height),this.drawName(t,-2,5),this.drawIO(t,e)},Bt.paletteImage=function(){var t=Ct.paletteImageBase();return t.io(Ct.leftX,-16,"w"),t.io(Ct.leftX,-5.5,"w"),t.io(Ct.leftX,5.5,"w"),t.io(Ct.leftX,16,"w"),t};var jt=function(){Ct.call(this,name),this.outs=[],this.addOutInv(32,0,16)};(jt.prototype=Object.create(Ct.prototype)).constructor=jt,jt.type="Nor",jt.label="NOR",jt.desc="NOR gate",jt.img="nor.png",jt.order=16,jt.description="<h2>NOR Gate</h2><p>The output of a NOR gate is <em>false</em> if either or both \n inputs are true. Otherwise, it is true.</p>",jt.help="nor",jt.prototype.clone=function(){var t=new jt;return t.copyFrom(this),t};var zt=function(){N.call(this),this.height=50,this.width=64,this.addIn(-32,-16,16),this.addIn(-32,0,16),this.addIn(-32,16,16),this.addOut(32,0,16)};(zt.prototype=Object.create(N.prototype)).constructor=zt,zt.type="And3",zt.label="AND",zt.desc="3-Input AND gate",zt.order=11.5,zt.description="<h2>AND Gate</h2><p>The output of a three-input AND gate is <em>true</em> if all three inputs are true.</p>",zt.help="and3",zt.prototype.compute=function(t){t[0]&&t[1]&&t[2]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]?this.outs[0].set(void 0):this.outs[0].set(!1)},zt.prototype.clone=function(){var t=new zt;return t.copyFrom(this),t},zt.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,r),t.moveTo(i,o),t.lineTo(n-this.height/2,o),t.moveTo(i,r),t.lineTo(n-this.height/2,r),t.stroke(),t.beginPath(),t.arc(n-this.height/2,this.y,this.height/2+.5,-Math.PI/2,Math.PI/2),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-2,this.y+5)),t.stroke(),this.drawIO(t,e)},zt.paletteImage=function(){var t=St.paletteImageBase();return t.io(St.leftX,-16,"w"),t.io(St.leftX,0,"w"),t.io(St.leftX,16,"w"),t};var Lt=function(){N.call(this),this.height=50,this.width=64,this.addIn(-32,-24,16),this.addIn(-32,-8,16),this.addIn(-32,8,16),this.addIn(-32,24,16),this.addOut(32,0,16)};(Lt.prototype=Object.create(N.prototype)).constructor=Lt,Lt.type="And4",Lt.label="AND",Lt.desc="4-Input AND gate",Lt.order=11.6,Lt.description="<h2>AND Gate</h2><p>The output of a four-input AND gate is <em>true</em> if all four inputs are true.</p>",Lt.help="and4",Lt.prototype.compute=function(t){t[0]&&t[1]&&t[2]&&t[3]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?this.outs[0].set(void 0):this.outs[0].set(!1)},Lt.prototype.clone=function(){var t=new Lt;return t.copyFrom(this),t},Lt.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,r),t.moveTo(i,o),t.lineTo(n-this.height/2,o),t.moveTo(i,r),t.lineTo(n-this.height/2,r),t.stroke(),t.beginPath(),t.arc(n-this.height/2,this.y,this.height/2+.5,-Math.PI/2,Math.PI/2),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-2,this.y+5)),t.stroke(),this.drawIO(t,e)},Lt.paletteImage=function(){var t=St.paletteImageBase();t.height;return t.io(St.leftX,-24,"w"),t.io(St.leftX,-8,"w"),t.io(St.leftX,8,"w"),t.io(St.leftX,24,"w"),t};var Dt=function(){St.call(this,name),this.outs=[],this.addOutInv(32,0,16)};(Dt.prototype=Object.create(St.prototype)).constructor=Dt,Dt.type="Nand",Dt.label="NAND",Dt.desc="NAND gate",Dt.order=12,Dt.description="<h2>NAND Gate</h2><p>The output of a NAND gate is <em>false</em> if and only if both inputs are true.</p>",Dt.help="nand",Dt.prototype.clone=function(){var t=new Dt;return t.copyFrom(this),t},Dt.paletteImage=function(){var t=St.paletteImageBase();return t.io(St.leftX,-16,"w"),t.io(St.leftX,16,"w"),t.io(St.rightX+10,0,"e"),t.circle(St.rightX+5,0,5),t};var Rt=function(t,e,i,n){this.x=t,this.y=e,this.color="undefined",void 0===n?(this.radius=i,this.width=2*i,this.height=2*i):(this.radius=null,this.width=i,this.height=n)};Rt.colors={black:["#000000","#000000"],undefined:["#444444","#888888"],green:["#55ff88","#00fb4a"],red:["#ff4444","#ff0000"],blue:["#25ffff","#15ddff"],purple:["#c000ff","#8000ff"],yellow:["#ffff00","#ffff80"]},Rt.prototype.draw=function(t,e,i,n){var o=t.fillStyle;void 0===n&&(n="white"),t.beginPath(),e+=this.x,i+=this.y;var r,s,a=1.15*this.radius;if(Rt.colors.hasOwnProperty(this.color)?(r=Rt.colors[this.color][0],s=Rt.colors[this.color][1]):(r="#000000",s="#000000"),null!==this.radius){var l=t.createRadialGradient(e,i,1,e,i,a);l.addColorStop(0,r),l.addColorStop(.5,s),l.addColorStop(1,n),t.fillStyle=l}else{var c=t.createLinearGradient(0,i-this.height/2,0,i+this.height/2);c.addColorStop(0,n),c.addColorStop(.25,r),c.addColorStop(.75,r),c.addColorStop(1,n),t.fillStyle=c}t.fillRect(e-this.width/2,i-this.height/2,this.width,this.height),"undefined"===this.color&&(t.font="14px Times",t.fillStyle="#ffffff",t.fontWeight="bold",t.textAlign="center",t.fillText("?",e,i+5),t.fillText("?",e+1,i+5),t.fontWeight="normal"),t.fillStyle=o},Rt.prototype.touch=function(t,e,i,n){return t+=this.x,e+=this.y,l.distance({x:t,y:e},{x:i,y:n})<=this.radius},Rt.colorSelector=function(t,e){var i='<div class="control1 center"><label for="'+t+'">Color: </label><select id="'+t+'">',n=Rt.colors;for(var o in n)n.hasOwnProperty(o)&&"black"!==o&&"undefined"!==o&&(i+=o===e?"<option selected>"+o+"</option>":"<option>"+o+"</option>");return i+="</select></div>"};var Nt=function(){N.call(this),this.height=16,this.width=64,this.led=new Rt(19,0,7),this.addOut(32,0,16),this.set(!1)};(Nt.prototype=Object.create(N.prototype)).constructor=Nt,Nt.prototype.prefix="*I",Nt.prototype.nameRequired=!0,Nt.type="InPin",Nt.label="In Pin",Nt.desc="Input Pin",Nt.img="inpin.png",Nt.order=1,Nt.description="<h2>Input Pin</h2><p>An IN pin serves as input for a circuit. Clicking the LED toggles the output true or false.</p>",Nt.help="inpin",Nt.prototype.clone=function(){var t=new Nt;return t.value=this.value,t.copyFrom(this),t},Nt.prototype.compute=function(t){this.outs[0].set(this.value)},Nt.prototype.draw=function(t,e){var i=this.value?"white":"#dddddd";this.outlinePath(t),t.fillStyle=i,t.fill(),this.led.color=this.value?"green":"off",this.led.draw(t,this.x,this.y,i),this.selectStyle(t,e),this.outlinePath(t),t.stroke(),t.beginPath(),t.font="14px Times",t.textAlign="center";var n=this.value?"1":"0",o=this.x-9;null!==this.naming?t.fillText(this.naming+": "+n,o,this.y+5):t.fillText(n,o,this.y+5),this.drawIO(t,e)},Nt.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,n),t.lineTo(e,o),t.lineTo(i-this.height/2,o),t.lineTo(i,this.y),t.lineTo(i-this.height/2,n),t.lineTo(e,n)},Nt.prototype.touch=function(t,e){return this.led.touch(this.x,this.y,t,e)?(this.circuit.circuits.model.backup(),this.set(!this.value),null):N.prototype.touch.call(this,t,e)},Nt.prototype.set=function(t){this.value=t,this.outs[0].set(t)},Nt.prototype.setAsString=function(t){var e=1==+t;this.set(e)},Nt.prototype.get=function(){return this.value},Nt.prototype.save=function(){var t=N.prototype.save.call(this);return t.value=this.value,t},Nt.prototype.load=function(t){this.set(t.value),N.prototype.load.call(this,t)},Nt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<input type="radio" id="'+n+'" value="1" name="'+n+'"'+(this.value?" checked":"")+'> true (1)<br><input type="radio" id="'+n+'" value="0" name="'+n+'"'+(this.value?"":" checked")+"> false (0)";i.extra(o,function(){return null},function(){e.set("1"===document.querySelector("#"+n+":checked").value)}),i.open()};var Pt=function(){N.call(this),this.height=16,this.width=64,this.led=new Rt(-19,0,7),this.addIn(-32,0,16)};(Pt.prototype=Object.create(N.prototype)).constructor=Pt,Pt.prototype.prefix="O",Pt.prototype.nameRequired=!0,Pt.type="OutPin",Pt.label="Out Pin",Pt.desc="Output Pin",Pt.img="outpin.png",Pt.order=2,Pt.description="<h2>Ouput Pin</h2><p>An OUT pin serves as output for a circuit. The LED indicates if the input is true (green), false (black), or undefined (?).</p>",Pt.help="outpin",Pt.prototype.pending=function(){},Pt.prototype.get=function(){return this.ins[0].value},Pt.prototype.getAsString=function(){switch(this.ins[0]){case!0:return"1";case!1:return"0";default:return"?"}},Pt.prototype.clone=function(){var t=new Pt;return t.copyFrom(this),t},Pt.prototype.draw=function(t,e){var i=this.get(),n=this.value?"white":"#dddddd";this.outlinePath(t),t.fillStyle=n,t.fill(),this.led.color=void 0===i?"undefined":i?"green":"off",this.led.draw(t,this.x,this.y,n),this.selectStyle(t,e),this.outlinePath(t),t.stroke(),t.beginPath(),t.font="14px Times",t.textAlign="center";var o=void 0===i?"?":i?"1":"0",r=this.x+9;null!==this.naming?t.fillText(this.naming+": "+o,r,this.y+5):t.fillText(o,r,this.y+5),this.drawIO(t,e)},Pt.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i,o),t.lineTo(i,n),t.lineTo(e+this.height/2,n),t.lineTo(e,this.y)};var Mt=function(){N.call(this),this.height=44,this.width=44,this.freq=1e6,this.period=.5,this.addOut(22,0,10),this.set(!0),this.remaining=1/this.freq*this.period};(Mt.prototype=Object.create(N.prototype)).constructor=Mt,Mt.prototype.prefix="C",Mt.type="Clock",Mt.label="Clock",Mt.desc="Clock",Mt.img="clock.png",Mt.order=41,Mt.description="<h2>Clock</h2><p>A clock generates a sequence of pulses over time. The duty cycle is the width of the true period of the pulse as a percentage.</p>",Mt.prototype.clone=function(){var t=new Mt;return t.freq=this.freq,t.period=this.period,t.value=this.value,t.remaining=this.remaining,t.copyFrom(this),t},Mt.prototype.advance=function(t){return this.remaining-=t,this.remaining<=0&&(this.set(!this.value),this.remaining=1/this.freq*(this.value?this.period:1-this.period),!0)},Mt.prototype.set=function(t){this.value=t,this.outs[0].set(t)},Mt.prototype.get=function(){return this.value},Mt.prototype.compute=function(t){this.set(!1)},Mt.prototype.load=function(t){this.freq=t.freq,this.period=t.period,N.prototype.load.call(this,t)},Mt.prototype.save=function(){var t=N.prototype.save.call(this);return t.freq=this.freq,t.period=this.period,t},Mt.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x,n=this.y;t.beginPath(),t.arc(i,n,this.width/2,0,2*Math.PI),t.fillStyle="#ffffff",t.fill(),t.beginPath(),t.arc(i,n,this.width/2,0,2*Math.PI),t.stroke();var o=this.x-15.5,r=this.x+15.5,s=this.y-10.4,a=this.y+10.5,l=o+this.period*(r-o),c=t.strokeStyle;t.strokeStyle="#00aa00",t.beginPath(),t.moveTo(o,a),t.lineTo(o,s),t.lineTo(l,s),t.lineTo(l,a),t.lineTo(r,a),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-2,this.y+5)),t.stroke(),t.strokeStyle=c,this.drawIO(t,e)},Mt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o=i.uniqueId(),r='<div class="control"><label for="'.concat(n,'">Frequency (Hz)</label>\n<input type="text" id="').concat(n,'" value="').concat(this.freq,'"></div>\n<div class="control slider"><label for="').concat(o,'">Duty Cycle</label>\n<input type="range" min="100" max="900" value="').concat(1e3*this.period,'" class="" id="').concat(o,'">\n</div>');i.extra(r,function(){var t=document.getElementById(n).value;return+t!==parseInt(t)?"Frequency must be integer 1 to 1000000":t<1||t>1e7?"Frequency must be integer 1 to 1000000":null},function(){e.freq=document.getElementById(n).value,e.period=.001*document.getElementById(o).value}),i.open()};var Ut=function(){N.call(this),this.height=50,this.width=40,this.addIn(-20,0,12),this.addOutInv(20,0,12)};(Ut.prototype=Object.create(N.prototype)).constructor=Ut,Ut.type="Inverter",Ut.label="Inverter",Ut.desc="Inverter gate",Ut.order=13,Ut.description="<h2>Inverter</h2><p>The output of an Inverter gate is <em>true</em> if the \n input is false and <em>false</em> if the input is true.</p>",Ut.help="inverter",Ut.prototype.compute=function(t){this.outs[0].set(t[0])},Ut.prototype.clone=function(){var t=new Ut;return t.copyFrom(this),t},Ut.prototype.draw=function(t,e){this.selectStyle(t,e),Ut.path(t,this.x,this.y,this.width,this.height),J.fillWith(t),Ut.path(t,this.x,this.y,this.width,this.height),t.stroke(),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-6,this.y+5),t.stroke()),this.drawIO(t,e)},Ut.path=function(t,e,i,n,o){var r=e-n/2-.5,s=e+n/2+.5,a=i-o/2-.5,l=i+o/2+.5;t.beginPath(),t.moveTo(r,a),t.lineTo(r,l),t.lineTo(s,i),t.lineTo(r,a)},Ut.paletteImage=function(){var t=new Y(120,70);return Ut.path(t.context,60,35,40,50),t.fillStroke(),t.io(-20,0,"w"),t.io(30,0,"e"),t.circle(25,0,5),t};var _t=function(){N.call(this),this.height=32,this.width=32,this.value=void 0,this.led=new Rt(0,0,12),this.color="blue",this.addIn(-16,0,16)};(_t.prototype=Object.create(N.prototype)).constructor=_t,_t.prototype.prefix="L",_t.prototype.nameRequired=!0,_t.type="LED",_t.label="LED",_t.desc="Light Emitting Diode",_t.img="led.png",_t.order=31,_t.description="<h2>LED</h2><p>An LED indicates if the input is true (color), false (black), or undefined (?). The LED color can be set using the component properties dialog box.</p>",_t.prototype.compute=function(t){this.value=t[0]},_t.prototype.get=function(){return this.ins[0].value},_t.prototype.clone=function(){var t=new _t;return t.color=this.color,t.value=this.value,t.copyFrom(this),t},_t.prototype.draw=function(t,e){var i=this.get(),n=this.x-this.width/2-.5,o=this.y-this.height/2+.5;this.selectStyle(t,e);var r=t.fillStyle,s=t.strokeStyle,a=i?"#ffffff":"#dddddd";t.fillStyle=a,t.fillRect(n,o,this.width,this.height),t.fillStyle=r,t.beginPath(),t.rect(n,o,this.width,this.height),t.stroke(),t.lineWidth=1,t.fillStyle=r,t.strokeStyle=s,this.led.color=void 0===i?"undefined":i?this.color:"off",this.led.draw(t,this.x-.5,this.y,a);t.fillRect(this.x-12-2,this.y-12,2,2),t.fillRect(this.x+12-2,this.y-12,2,2),t.fillRect(this.x-12-2,this.y+12,2,2),t.fillRect(this.x+12-2,this.y+12,2,2),this.drawIO(t,e)},_t.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i,o),t.lineTo(i,n),t.lineTo(e+this.height/2,n),t.lineTo(e,this.y)},_t.prototype.load=function(t){this.color=G.sanitize(t.color),N.prototype.load.call(this,t)},_t.prototype.save=function(){var t=N.prototype.save.call(this);return t.color=this.color,t},_t.prototype.properties=function(t){var e=this,i=new R(this,t,!1),n=i.uniqueId(),o=Rt.colorSelector(n,this.color);i.extra(o,function(){return null},function(){e.color=G.sanitize(document.getElementById(n).value)}),i.open()};var Ft=function t(){N.call(this),this.height=50,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-256)-e;this.addIn(-32+o,-16,16+o),this.addIn(-32+o,16,16+o),this.addOut(32,0,16)};(Ft.prototype=Object.create(N.prototype)).constructor=Ft,Ft.offsetX=40,Ft.offsetY=30,Ft.offsetX1=6,Ft.type="Xor",Ft.label="XOR",Ft.desc="XOR gate",Ft.img="xor.png",Ft.order=17,Ft.description="<h2>XOR Gate</h2><p>The output of an XOR gate is <em>true</em> if the state of the inputs differ. Otherwise, it is false.</p>",Ft.help="xor",Ft.prototype.compute=function(t){void 0===t[0]||void 0===t[1]?this.outs[0].set(void 0):this.outs[0].set(t[0]&&!t[1]||!t[0]&&t[1])},Ft.prototype.clone=function(){var t=new Ft;return t.copyFrom(this),t},Ft.prototype.draw=function(t,e){this.selectStyle(t,e),Ct.draw(t,this.x,this.y,this.width,this.height),t.beginPath();var i=this.x-this.width/2-.5,n=Ft.offsetX,o=Math.atan2(this.height/2,n),r=n/Math.cos(o);t.arc(i-n-Ft.offsetX1,this.y,r,-o,o),t.stroke(),this.drawName(t,-2,5),this.drawIO(t,e)};var Ht=function(){N.call(this),this.height=16,this.width=96,this.narrow=!1,this.value=new pt,this.addOut(48,0,16).bus=!0,this.set([!1,!1,!1,!1])};(Ht.prototype=Object.create(N.prototype)).constructor=Ht,Ht.prototype.prefix="I",Ht.prototype.nameRequired=!0,Ht.type="InPinBus",Ht.label="Bus Input",Ht.desc="Bus Input Pin",Ht.img="inpinbus.png",Ht.order=100,Ht.description="<h2>Bus Input Pin</h2><p>A Bus Input pin serves as input for a circuit from a bus. Double-click to set the value.</p><p>Values can be preceeded by 0x or 0b for hexadecimal or binary values.</p><p>The display and input format is selectable. Auto format will display values with eight or fewer digits as binary and larger values in hex.</p>",Ht.help="inpinbus",Ht.prototype.clone=function(){var t=new Ht;return t.copyFrom(this),t.value=this.value.clone(),t},Ht.prototype.compute=function(t){this.outs[0].set(this.value.get())},Ht.prototype.draw=function(t,e){this.outlinePath(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.outlinePath(t),t.stroke();var i=this.x;this.narrow&&(i=this.x-this.height/4+1),this.value.draw(t,i,this.y,this.width-this.height/2,this.naming),this.drawIO(t,e)},Ht.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,n),t.lineTo(e,o),t.lineTo(i-this.height/2,o),t.lineTo(i,this.y),t.lineTo(i-this.height/2,n),t.lineTo(e,n)},Ht.prototype.set=function(t){this.value.set(t),this.outs[0].set(this.value.get())},Ht.prototype.get=function(){return this.value.get()},Ht.prototype.setAsString=function(t,e){this.value.setAsString(t,e),e||this.outs[0].set(this.value.get())},Ht.prototype.getAsString=function(){return this.value.getAsString()},Ht.prototype.save=function(){var t=N.prototype.save.call(this);return this.value.save(t),this.narrow&&(t.narrow=this.narrow),t},Ht.prototype.load=function(t){this.value.load(t),this.setNarrow(G.boolean(t.narrow)),N.prototype.load.call(this,t)},Ht.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o=this.value.dialogContent(i,!0),r=o.html+'<input type="checkbox" id="'.concat(n,'" name="').concat(n,'"').concat(this.narrow?" checked":"",'> <label for="').concat(n,'">Narrow</label>');i.extra(r,o.validate,function(){o.accept(),e.setNarrow(document.getElementById(n).checked),e.compute(null)}),i.open()},Ht.prototype.setNarrow=function(t){this.narrow=t,this.width=t?48:96,this.outs[0].x=this.width/2};var qt=function(){N.call(this),this.value=new pt,this.narrow=!1,this.height=16,this.width=96,this.addIn(-this.width/2,0,16).bus=!0};(qt.prototype=Object.create(N.prototype)).constructor=qt,qt.prototype.prefix="O",qt.prototype.nameRequired=!0,qt.type="OutPinBus",qt.label="Bus Out",qt.desc="Bus Output Pin",qt.img="outpinbus.png",qt.order=101,qt.description="<h2>Bus Output Pin</h2>\n<p>An Bus Out pin serves as output for a bus in a circuit.</p>\n<p>The output format is selectable. Auto format will display values \nwith eight or fewer digits as binary and larger values in hex.</p>",qt.help="outpinbus",qt.prototype.compute=function(t){this.value.set(t[0])},qt.prototype.get=function(){return this.value.get()},qt.prototype.getAsString=function(){return this.value.getAsString()},qt.prototype.clone=function(){var t=new qt;return t.copyFrom(this),t.value=this.value.clone(),t},qt.prototype.save=function(){var t=N.prototype.save.call(this);return this.value.save(t),this.narrow&&(t.narrow=this.narrow),t},qt.prototype.load=function(t){this.value.load(t),this.setNarrow(G.boolean(t.narrow)),N.prototype.load.call(this,t)},qt.prototype.draw=function(t,e){this.outlinePath(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.outlinePath(t),t.stroke();var i=this.x+this.height/4;this.narrow&&(i-=2),this.value.draw(t,i,this.y,this.width-this.height/2,this.naming),this.drawIO(t,e)},qt.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i,o),t.lineTo(i,n),t.lineTo(e+this.height/2,n),t.lineTo(e,this.y)},qt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o=this.value.dialogContent(i),r=o.html+'<input type="checkbox" id="'.concat(n,'" name="').concat(n,'"').concat(this.narrow?" checked":"",'> <label for="').concat(n,'">Narrow</label>');i.extra(r,o.validate,function(){o.accept(),e.setNarrow(document.getElementById(n).checked)}),i.open()},qt.prototype.setNarrow=function(t){this.narrow=t,this.width=t?48:96,this.ins[0].x=-this.width/2};var Xt=function(){N.call(this),this.height=16,this.width=96,this.value=new pt,this.addOut(48,0,16).bus=!0,this.set([!1,!1,!1,!1])};(Xt.prototype=Object.create(N.prototype)).constructor=Xt,Xt.prototype.prefix=null,Xt.type="BusConstant",Xt.label="Bus Constant",Xt.desc="Bus Constant value",Xt.img="busconstant.png",Xt.description="<h2>Bus Constant Value</h2><p>A Bus Constant is a value that can be set in the circuit as a fixed value feeding a bus.</p><p>Values can be preceeded by 0x or 0b for hexadecimal or binary values.</p><p>The display and input format is selectable. Auto format will display values with eight or fewer digits as binary and larger values in hex.</p>",Xt.order=105,Xt.prototype.clone=function(){var t=new Xt;return t.copyFrom(this),t.value=this.value.clone(),t},Xt.prototype.compute=function(t){this.outs[0].set(this.value.get())},Xt.prototype.draw=function(t,e){this.drawBox(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.drawBox(t),this.value.draw(t,this.x,this.y,this.width-this.height/2,this.naming),this.drawIO(t,e)},Xt.prototype.set=function(t){this.value.set(t),this.outs[0].set(this.value.get())},Xt.prototype.get=function(){return this.value.get()},Xt.prototype.setAsString=function(t,e){this.value.setAsString(t,e),e||this.outs[0].set(this.value.get())},Xt.prototype.getAsString=function(){return this.value.getAsString()},Xt.prototype.save=function(){var t=N.prototype.save.call(this);return this.value.save(t),t},Xt.prototype.load=function(t){this.value.load(t),N.prototype.load.call(this,t)},Xt.prototype.properties=function(t){var e=this,i=new R(this,t);this.value.dialogOptions(i,!0,function(){e.compute(null)}),i.open()};var Wt=function(){N.call(this),this.height=50,this.width=80,this.size=4,this.addOut(this.width/2,0,16).bus=!0,this.ensureIO()};(Wt.prototype=Object.create(N.prototype)).constructor=Wt,Wt.type="BusOr",Wt.label="Bus OR",Wt.desc="Bus OR gate",Wt.img="busor.png",Wt.description="<h2>Bus OR Gate</h2><p>The output of an OR gate is <em>true</em> \nif either or both  inputs are true. Otherwise, it is false. This version works for \nbuses. The size determines the number of inputs.</p>",Wt.order=107,Wt.prototype.compute=function(t){var e=[];t.forEach(function(t){if(Array.isArray(t))for(var i=0;i<t.length;i++){var n=t[i];e.length>i?!0===n&&(e[i]=!0):e.push(n)}}),this.outs[0].set(e)},Wt.prototype.clone=function(){var t=new Wt;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},Wt.prototype.load=function(t){this.size=t.size,this.ensureIO(),N.prototype.load.call(this,t)},Wt.prototype.save=function(){var t=N.prototype.save.call(this);return t.size=this.size,t},Wt.prototype.ensureIO=function(){this.height=16*this.size+8,this.height<50&&(this.height=50);for(var t=this.size/2*16-8,e=0;e<this.size;e++){var i=30*this.size,n=Math.atan2(this.height/2,i),o=i/Math.cos(n),r=t-16*e,s=Math.sqrt(o*o-r*r)-i;e<this.ins.length?(this.ins[e].x=-this.width/2+s,this.ins[e].y=r,this.ins[e].len=16+s,this.ins[e].bus=!0):this.addIn(-this.width/2+s,t-16*e,16+s).bus=!0}for(;e<this.size;e++);if(e<this.ins.length){for(;e<this.ins.length;e++)this.ins[e].clear();this.ins.splice(this.size)}},Wt.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.height,n=this.width,o=this.x-n/2-.5,r=(this.x,this.y-i/2-.5),s=this.y+i/2+.5;t.beginPath();var a=30*this.size,l=Math.atan2(i/2,a),c=a/Math.cos(l);t.arc(o-a,this.y,c,-l,l);var u=(n/2*(n/2)-i/2*(i/2))/i;c=i/2+u,l=Math.atan2(u,n/2),t.moveTo(o,r),t.lineTo(this.x-this.width/4,r),t.bezierCurveTo(this.x+this.width/4,r,this.x+3*this.width/8,this.y-this.height/4,this.x+this.width/2,this.y),t.moveTo(o,s),t.lineTo(this.x-this.width/4,s),t.bezierCurveTo(this.x+this.width/4,s,this.x+3*this.width/8,this.y+this.height/4,this.x+this.width/2,this.y),t.stroke(),this.drawName(t,-2,5),this.drawIO(t,e)},Wt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<div class="control1 center"><label for="'.concat(n,'">Size: </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>');i.extra(o,function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null},function(){e.size=parseInt(document.getElementById(n).value),e.ensureIO()}),i.open()};var Yt=function(){N.call(this),this.height=100,this.width=52,this.lastOut=null,this.setSize(3),this.circuitOuts=[],this.addIn(-this.width/2,0,16,"In").bus=!0,this.ensureIO()};(Yt.prototype=Object.create(N.prototype)).constructor=Yt,Yt.prototype.prefix="U",Yt.type="BusDecoder",Yt.label="Bus Decoder",Yt.desc="Configurable Bus Decoder",Yt.description="<h2>Bus Decoder</h2>\n<p>The Bus Decoder component converts a 2 to 4-bit binary value on <strong>In</strong> \nto a true on one of four to sixteen output lines. The number of outputs is determined \nby the bit size and is configurable.</p>",Yt.order=109,Yt.help="busdecoder",Yt.prototype.setSize=function(t){this.size=t,this.outputs=1;for(var e=0;e<t;e++)this.outputs*=2;this.ensureIO()},Yt.prototype.compute=function(t){if(Array.isArray(t[0])){for(var e=0,i=1,n=0;n<t[0].length;n++)e+=t[0][n]?i:0,i*=2;for(var o=0;o<this.outputs;o++)this.outs[o].set(o==e);this.lastOut=e}else{for(var r=0;r<this.outputs;r++)this.outs[r].set(void 0);this.lastOut=null}},Yt.prototype.clone=function(){var t=new Yt;return t.setSize(this.size),t.copyFrom(this),t},Yt.prototype.ensureIO=function(){this.height=16*this.outputs+26,this.height<80&&(this.height=80);for(var t=this.width/2,e=this.outputs/2*16-8,i=0;i<this.outputs&&!(i>=this.outs.length);i++)this.outs[i].name="O"+i,this.outs[i].x=t,this.outs[i].y=e-16*i,this.outs[i].len=16;for(;i<this.outputs;i++)this.addOut(t,e-16*i,16,"O"+i);if(i<this.outs.length){for(;i<this.outs.length;i++)this.outs[i].clear();this.outs.splice(this.outputs)}},Yt.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5;this.y,this.height,this.y,this.height;if(this.drawBox(t),t.font="12px Times",t.textAlign="center",t.fillText("decoder",this.x,this.y+this.height/2-2),null!==this.lastOut&&this.lastOut>=0&&this.lastOut<this.outputs){var o=this.outs[this.lastOut].y,r=this.lastOut>=10?26:19;this.jaggedLine(t,i+15,this.y,n-r,this.y+o,.5)}this.drawName(t,0,-this.height/2+12),this.drawIO(t,e)},Yt.prototype.load=function(t){this.setSize(t.size),N.prototype.load.call(this,t)},Yt.prototype.save=function(){var t=N.prototype.save.call(this);return t.size=this.size,t},Yt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<div class="control1 center"><label for="'.concat(n,'">Size (bits): </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>');i.extra(o,function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>4?"Size must be an integer from 2 to 4":null},function(){e.setSize(document.getElementById(n).value)}),i.open()},Yt.paletteImage=function(){var t=new Y(60,44);return t.box(20,42),t.io(10,-17.5,"e",8,5),t.io(-10,0,"w"),t.drawText("Decoder",0,20,"4px Times"),t};var Qt=function(){N.call(this),this.height=16,this.width=96,this.from=0,this.to=1,this.addIn(-48,0,16).bus=!0,this.addOut(48,0,16).bus=!0};(Qt.prototype=Object.create(N.prototype)).constructor=Qt,Qt.prototype.prefix=null,Qt.type="BusSelector",Qt.label="Bus Selector",Qt.desc="Bus Subset Selector",Qt.img="busselector.png",Qt.description="<h2>Bus Selector</h2><p>A Bus Selector chooses some \nrange of bits from an input bus and feeds them to an output bus. This is a  tool \nto use to select fields from a bus.</p>\n<p>If configured as 4 to 8 (8:4 on the symbol), bits 4-8 becomes bits 0-4 on\nthe output bus.</p>",Qt.order=108,Qt.help="busselector",Qt.prototype.clone=function(){var t=new Qt;return t.copyFrom(this),t.from=this.from,t.to=this.to,t},Qt.prototype.compute=function(t){if(void 0!==t[0])if(this.from==this.to)this.outs[0].set(t[0][this.from]);else{for(var e=[],i=this.from;i<=this.to;i++)e.push(t[0][i]);this.outs[0].set(e)}else this.outs[0].set(void 0)},Qt.prototype.draw=function(t,e){this.outlinePath(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.outlinePath(t),t.stroke(),t.font="14px Times",t.textAlign="center",t.fillText(this.to+":"+this.from,this.x,this.y+5),this.drawIO(t,e)},Qt.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e+this.height/2,n),t.lineTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i-this.height/2,o),t.lineTo(i,this.y),t.lineTo(i-this.height/2,n),t.lineTo(e+this.height/2,n)},Qt.prototype.save=function(){var t=N.prototype.save.call(this);return t.from=this.from,t.to=this.to,t},Qt.prototype.load=function(t){this.from=t.from,this.to=t.to,N.prototype.load.call(this,t),this.ensureIO()},Qt.prototype.ensureIO=function(){this.outs[0].bus=this.from!=this.to},Qt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o=i.uniqueId(),r='<div class="control1 center gap">\n<input class="number" type="text" name="'.concat(n,'" id="').concat(n,'" value="').concat(this.from,'" spellcheck="false" onfocus="this.select()"> \n<label for="').concat(o,'">to </label>\n<input class="number" type="text" name="').concat(o,'" id="').concat(o,'" value="').concat(this.to,'" spellcheck="false" onfocus="this.select()"></div>');i.extra(r,function(){var t=document.getElementById(n).value,e=document.getElementById(o).value,i=parseInt(t),r=parseInt(e);return isNaN(i)||i<0||i>32?(document.getElementById(n).select(),"Invalid from value"):isNaN(r)||r<0||r>32?(document.getElementById(o).select(),"Invalid to value"):i>r?(document.getElementById(n).select(),"Invalid values, <em>from</em> must be less than or equal to <em>to</em>."):null},function(){var t=document.getElementById(n).value,i=document.getElementById(o).value;e.from=parseInt(t),e.to=parseInt(i),e.ensureIO(),e.pending()}),i.open()};var Jt=function(){N.call(this),this.height=80,this.width=32,this.size=2,this.lastIn=null,this.circuitIns=[],this.addOut(this.width/2,0,8,"O").bus=!0,this.addIn(0,-this.height/2+10,13,"").orientation="n",this.ensureIO()};(Jt.prototype=Object.create(N.prototype)).constructor=Jt,Jt.prototype.prefix=null,Jt.prototype.indent=10,Jt.type="Multiplexer",Jt.label="Bus Multiplexer",Jt.desc="Bus Multiplexer",Jt.img="multiplexer.png",Jt.description="<h2>Multiplexer</h2><p>Multiplexes two or more input buses to a single output bus.</p>\n<p>The value of the input pin or bus determines which input is routed to O.</p>",Jt.order=109,Jt.prototype.compute=function(t){var e=t[0];if(void 0===e)return this.outs[0].set(void 0),void(this.lastIn=null);if(Array.isArray(e)){var i=0,n=1;e.forEach(function(t){t&&(i+=n),n*=2}),e=i}else e=e?1:0;e<=t.length?(this.outs[0].set(t[e+1]),this.lastIn=e):(this.outs[0].set(void 0),this.lastIn=null)},Jt.prototype.clone=function(){var t=new Jt;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},Jt.prototype.load=function(t){this.size=t.size,this.ensureIO(),N.prototype.load.call(this,t)},Jt.prototype.save=function(){var t=N.prototype.save.call(this);return t.size=this.size,t},Jt.prototype.ensureIO=function(){this.height=16*this.size+16,this.height<48&&(this.height=48);var t=this.width/2,e=this.ins[0];e.x=0,e.y=-this.height/2+this.indent/2,e.bus=this.size>2;for(var i=this.size/2*16-8,n=0;n<this.size&&!(n>=this.ins.length-1);n++){var o=this.ins[n+1];o.name="I"+n,o.x=-t,o.y=i-16*n,o.len=8}for(;n<this.size;n++)this.addIn(-t,i-16*n,8,"I"+n).bus=!0;if(++n<this.ins.length){for(;n<this.ins.length;n++)this.ins[n].clear();this.ins.splice(this.size+1)}},Jt.prototype.draw=function(t,e){if(this.selectStyle(t,e),this.drawTrap(t,0,this.indent),null!==this.lastIn){var i=this.x-4,n=this.x+4,o=this.y-1,r=this.y+this.size/2*16-10-16*this.lastIn;this.jaggedLine(t,i,r,n,o,.5)}this.drawIO(t,e)},Jt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<div class="control1 center gap"><label for="'.concat(n,'">Number of inputs: </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>');i.extra(o,function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?(document.getElementById(n).select(),"Must be an integer from 2 to 16"):null},function(){e.size=parseInt(document.getElementById(n).value),e.ensureIO()}),i.open()};var Vt=function(){};Vt.draw=function(t,e,i,n,o){var r=t.fillStyle,s=t.strokeStyle;t.fillStyle="#dddddd",t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.fill(),t.strokeStyle="#000000",t.lineWidth=.5,t.beginPath(),t.arc(e,i,n,0,2*Math.PI);var a=Math.cos(o)*n,l=Math.sin(o)*n;t.moveTo(e-a,i-l),t.lineTo(e+a,i+l),t.stroke(),t.strokeStyle=s,t.fillStyle=r,t.lineWidth=1};var Gt=function(){N.call(this),this.height=50,this.width=50,this.buttonSize=40,this.value=!1,this.color="blue",this.addOut(this.width/2,0,48-this.width/2),this.set(!1)};(Gt.prototype=Object.create(N.prototype)).constructor=Gt,Gt.prototype.prefix="B",Gt.type="Button",Gt.label="Button",Gt.desc="Push Button",Gt.img="button.png",Gt.order=30,Gt.description="<h2>Push Button</h2><p>Clicking the button turns on the output (true), while releasing turns it off.</p>",Gt.prototype.clone=function(){var t=new Gt;return t.value=this.value,t.color=this.color,t.copyFrom(this),t},Gt.prototype.compute=function(t){this.outs[0].set(this.value)},Gt.prototype.load=function(t){this.color=void 0!==t.color?t.color:"blue",N.prototype.load.call(this,t)},Gt.prototype.save=function(){var t=N.prototype.save.call(this);return t.color=this.color,t},Gt.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.y-this.height/2+.5,o=t.fillStyle,r=t.strokeStyle;switch(t.fillStyle="#cccccc",t.fillRect(i,n,this.width,this.height),t.fillStyle=o,t.beginPath(),t.rect(i,n,this.width,this.height),t.stroke(),this.color){case"blue":default:var s=["#25ffff","#15ddff","#00d5d4"];break;case"green":s=["#25ff25","#15ff00","#00d500"]}if(this.value){var a=t.createRadialGradient(this.x,this.y,1,this.x,this.y,16);a.addColorStop(0,s[0]),a.addColorStop(.5,s[1]),a.addColorStop(1,s[2]),t.fillStyle=a}else t.fillStyle="#888888";t.beginPath(),t.arc(this.x,this.y,16,0,2*Math.PI),t.fill(),t.strokeStyle="#000000",t.beginPath(),t.arc(this.x,this.y,17,0,2*Math.PI),t.lineWidth=4,t.stroke(),t.lineWidth=1,t.fillStyle=o,t.strokeStyle=r;var l=18;Vt.draw(t,this.x-l,this.y-l,3,.3),Vt.draw(t,this.x-l,this.y+l,3,1.3),Vt.draw(t,this.x+l,this.y-l,3,2.3),Vt.draw(t,this.x+l,this.y+l,3,.7),this.drawIO(t,e)},Gt.prototype.touch=function(t,e){return l.distance(new l(t,e),new l(this.x,this.y))<16?(this.set(!0),null):N.prototype.touch.call(this,t,e)},Gt.prototype.mouseUp=function(){this.set(!1)},Gt.prototype.set=function(t){this.value=t,this.outs[0].set(t)},Gt.prototype.setAsString=function(t){var e=1==+t;this.set(e)},Gt.prototype.get=function(){return this.value},Gt.prototype.properties=function(t){var e=this,i=this,n=new R(this,t,!1),o=n.uniqueId(),r='<div class="control1 center"><label for="'+o+'">Color: </label><select id="'+o+'">';["green","blue"].forEach(function(t){t===i.color?r+="<option selected>"+t+"</option>":r+="<option>"+t+"</option>"}),r+="</select></div>",n.extra(r,function(){return null},function(){e.color=document.getElementById(o).value}),n.open()};var Kt=function(){N.call(this),this.size=22,this.text="Text",this.color="black",this.height=this.size,this.width=2*this.size};(Kt.prototype=Object.create(N.prototype)).constructor=Kt,Kt.prototype.prefix=null,Kt.type="Text",Kt.label="Text",Kt.desc="Arbitrary Text",Kt.img="text.png",Kt.order=45,Kt.description="<h2>Text</h2><p>Arbitrary text for diagrams. Allows for notations that help\ndescribe parts of diagrams. The text size in pixels can be specified, as can the colors from a \nlimited palette.</p><p>The color selection is overridden by the selection color (red) when the \ntext component is selected.</p>",Kt.help="text",Kt.prototype.clone=function(){var t=new Kt;return t.copyFrom(this),t.text=this.text,t.size=this.size,t},Kt.prototype.draw=function(t,e){var i=this.selectStyle(t,e),n=this.text.replace(/&lt;/g,"<");if(n=(n=n.replace(/&gt;/g,">")).replace(/&amp;/g,"&"),t.font=this.size+"px Times",t.textAlign="center",i)t.fillText(n,this.x-1,this.y+5);else{var o;switch(this.color){default:o=this.color;break;case"green":o="#008000";break;case"pink":o="#FF69B4"}J.fillTextWith(t,n,this.x-1,this.y+5,o)}this.height=this.size,this.width=t.measureText(n).width,this.drawIO(t,e)},Kt.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o=i.uniqueId(),r=i.uniqueId(),s='<div class="control">\n<label for="'.concat(n,'">Text: </label>\n<input type="text" id="').concat(n,'" value="').concat(this.text,'">\n</div>\n<div class="control1 center"><label for="').concat(o,'">Size: </label>\n<input class="number" type="text" id="').concat(o,'" value="').concat(this.size,'"></div>');s+='<div class="control1 center"><label for="'+r+'">Color: </label><select id="'+r+'">';var a=["black","green","blue","purple","orange","maroon","pink"];for(var l in a){var c=a[l];c===this.color?s+="<option selected>"+c+"</option>":s+="<option>"+c+"</option>"}s+="</select></div>",i.extra(s,function(){var t=parseInt(document.getElementById(o).value);return isNaN(t)||t<10||t>55?"Size must be an integer between 10 and 55":G.htmlentities(document.getElementById(n).value).length<1?"Text cannot be empty":null},function(){e.text=G.htmlentities(document.getElementById(n).value),e.size=parseInt(document.getElementById(o).value),e.color=G.sanitize(document.getElementById(r).value)}),i.open(),document.getElementById(n).select()},Kt.prototype.save=function(){var t=N.prototype.save.call(this);return t.text=this.text.replace(/'/g,"`"),t.size=this.size,"black"!==this.color&&(t.color=this.color),t},Kt.prototype.load=function(t){this.text=G.sanitize(t.text.replace(/`/g,"'")),this.size=+t.size,void 0!==t.color&&(this.color=G.sanitize(t.color)),N.prototype.load.call(this,t)};var Zt=function(){N.call(this),this.height=96,this.width=32,this.valueR=void 0,this.valueY=void 0,this.valueG=void 0,this.red=new Rt(0,-32,12),this.yellow=new Rt(0,0,12),this.green=new Rt(0,32,12),this.addIn(-16,-32,16),this.addIn(-16,0,16),this.addIn(-16,32,16)};(Zt.prototype=Object.create(N.prototype)).constructor=Zt,Zt.prototype.prefix="L",Zt.prototype.nameRequired=!0,Zt.type="TrafficLight",Zt.label="Traffic Light",Zt.desc="Traffic Light",Zt.img="trafficlight.png",Zt.description="<h2>Traffic Light</h2><p>The Traffic Light component has indicators \nfor Red, Yellow, and Green as in a conventional traffic light.</p>",Zt.order=300,Zt.help="trafficlight",Zt.prototype.compute=function(t){this.valueR=t[0],this.valueY=t[1],this.valueG=t[2]},Zt.prototype.clone=function(){var t=new Zt;return t.copyFrom(this),t},Zt.prototype.draw=function(t,e){this.selectStyle(t,e);this.drawBox(t,"#feb51a"),this.red.color=void 0===this.valueR?"undefined":this.valueR?"red":"off",this.red.draw(t,this.x-.5,this.y,"#feb51a"),this.yellow.color=void 0===this.valueY?"undefined":this.valueY?"yellow":"off",this.yellow.draw(t,this.x-.5,this.y,"#feb51a"),this.green.color=void 0===this.valueG?"undefined":this.valueG?"green":"off",this.green.draw(t,this.x-.5,this.y,"#feb51a"),this.drawIO(t,e)};var $t=function(){N.call(this),this.height=134,this.width=64;this.width,this.height;var t=-56,e=16;this.addIn(-this.width/2,t,e,"I3"),t+=16,this.addIn(-this.width/2,t,e,"I2"),t+=16,this.addIn(-this.width/2,t,e,"I1"),t+=16,this.addIn(-this.width/2,t,e,"I0"),t+=32,this.addIn(-this.width/2,t,e,"I").bus=!0,t=-56,e=16,this.addOut(this.width/2,t,e,"a"),t+=16,this.addOut(this.width/2,t,e,"b"),t+=16,this.addOut(this.width/2,t,e,"c"),t+=16,this.addOut(this.width/2,t,e,"d"),t+=16,this.addOut(this.width/2,t,e,"e"),t+=16,this.addOut(this.width/2,t,e,"f"),t+=16,this.addOut(this.width/2,t,e,"g"),t+=16};($t.prototype=Object.create(N.prototype)).constructor=$t,$t.prototype.prefix="D",$t.type="HexToSevenSegment",$t.label="Hex to Seven Segment",$t.desc="Hexadecimal to Seven Segment Decoder",$t.img=null,$t.description="<h2>Hex to Seven Segement</h2><p>Decodes hexadecimal into the correct outputs for a seven-segment display. Accepts either single bit lines or bus input.</p>",$t.order=305,$t.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2],o=t[3];if((void 0===e||void 0===i||void 0===n||void 0===o)&&void 0!==t[4]){var r=t[4];e=r[3],i=r[2],n=r[1],o=r[0]}if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==o){var s=[[!0,!0,!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1,!1,!1],[!0,!0,!1,!0,!0,!1,!0],[!0,!0,!0,!0,!1,!1,!0],[!1,!0,!0,!1,!1,!0,!0],[!0,!1,!0,!0,!1,!0,!0],[!0,!1,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!1,!0,!0],[!0,!0,!0,!1,!0,!0,!0],[!1,!1,!0,!0,!0,!0,!0],[!0,!1,!1,!0,!0,!0,!1],[!1,!0,!0,!0,!0,!1,!0],[!0,!1,!1,!0,!0,!0,!0],[!0,!1,!1,!1,!0,!0,!0]][(e?8:0)+(i?4:0)+(n?2:0)+(o?1:0)];for(e=0;e<7;e++)this.outs[e].set(s[e])}else for(e=0;e<7;e++)this.outs[e].set(void 0)},$t.prototype.clone=function(){var t=new $t;return t.copyFrom(this),t},$t.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawName(t,0,3),this.drawText(t,"Hex-to-7",0,this.height/2-5),this.drawIO(t,e)},$t.paletteImage=function(){var t=new Y(60,44);t.box(20,40),t.io(-10,-15.5,"w",4,5),t.io(10,-15.5,"e",7,5);var e=t.context.lineWidth;return t.context.lineWidth=2,t.io(-10,15.5,"w"),t.context.lineWidth=e,t.drawText("Hex-to-7",0,18,"4px Times"),t};var te=function(){N.call(this),this.height=150,this.width=90,this.value=[void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.color="green";var t=-64;this.addIn(-this.width/2,t,11,"a"),t+=16,this.addIn(-this.width/2,t,11,"b"),t+=16,this.addIn(-this.width/2,t,11,"c"),t+=16,this.addIn(-this.width/2,t,11,"d"),t+=16,this.addIn(-this.width/2,t,11,"e"),t+=16,this.addIn(-this.width/2,t,11,"f"),t+=16,this.addIn(-this.width/2,t,11,"g"),t+=16,t+=16,this.addIn(-this.width/2,t,11,"en")};(te.prototype=Object.create(N.prototype)).constructor=te,te.prototype.prefix="L",te.prototype.nameRequired=!0,te.type="7seg",te.label="7 SEG",te.desc="7 Segment Display",te.img="7seg.png",te.order=40,te.description="<h2>7 Seg</h2><p>A 7 segment display has seven different display positions that can be set independently to make numbers and other characters. The en (enable) pin enables the display if true or if not connected.</p>",te.prototype.compute=function(t){if(!1===t[7])for(var e=0;e<7;e++)this.value[e]=!1;else for(e=0;e<7;e++)this.value[e]=t[e]},te.prototype.get=function(t){return this.ins[0].value[t]},te.prototype.clone=function(){var t=new te;return t.color=this.color,t.value=this.value.slice(),t.copyFrom(this),t},te.prototype.draw=function(t,e){var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;this.selectStyle(t,e);var s=t.fillStyle,a=t.strokeStyle;t.fillStyle="#cccccc",t.fillRect(i,o,this.width,this.height),t.fillStyle=s,t.beginPath(),t.rect(i,o,this.width,this.height),t.stroke();var l=.2*this.width,c=.02*this.width;i+=l+5,n-=l,o+=l,r-=l,t.font="11px Times",t.textAlign="center",this.drawSegment(t,this.value[0],{x:i+c,y:o},{x:n-c,y:o},"a"),this.drawSegment(t,this.value[1],{x:n,y:o+c},{x:n,y:this.y-c},"b"),this.drawSegment(t,this.value[2],{x:n,y:this.y+c},{x:n,y:r-c},"c"),this.drawSegment(t,this.value[3],{x:n-c,y:r},{x:i+c,y:r},"d"),this.drawSegment(t,this.value[4],{x:i,y:r-c},{x:i,y:this.y+c},"e"),this.drawSegment(t,this.value[5],{x:i,y:this.y-c},{x:i,y:o+c},"f"),this.drawSegment(t,this.value[6],{x:i+c,y:this.y},{x:n-c,y:this.y},"g"),t.lineWidth=1,t.fillStyle=s,t.strokeStyle=a,this.drawIO(t,e)},te.prototype.drawSegment=function(t,e,i,n,o){var r=new l(n.x-i.x,n.y-i.y),s=l.normalize(r);s=l.rotate(s,Math.PI/4);var a=l.rotate(s,Math.PI/2),c=10*.707;if(e)switch(this.color){case"red":t.fillStyle="#fe0501";break;case"blue":t.fillStyle="#15ddff";break;default:t.fillStyle="#00fb4a"}else t.fillStyle="#444444";t.strokeStyle="#222222",t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+c*s.x,i.y+c*s.y),t.lineTo(n.x+c*a.x,n.y+c*a.y),t.lineTo(n.x,n.y),t.lineTo(n.x-c*s.x,n.y-c*s.y),t.lineTo(i.x-c*a.x,i.y-c*a.y),t.lineTo(i.x,i.y),t.fill(),t.stroke();var u=new l((n.x+i.x)/2,(n.y+i.y)/2),h=l.rotate(l.normalize(r),Math.PI/2);t.fillStyle="#000000",t.fillText(o,u.x+10*h.x,u.y+10*h.y+2),void 0===e&&(t.fillStyle="#00ffff",t.fontWeight="bolder",t.fillText("?",u.x,u.y+3),t.fontWeight="normal")},te.prototype.load=function(t){this.color=t.color,N.prototype.load.call(this,t)},te.prototype.save=function(){var t=N.prototype.save.call(this);return t.color=this.color,t},te.prototype.properties=function(t){var e=this,i=new R(this,t,!1),n=i.uniqueId(),o='<div class="control1 center"><label for="'+n+'">Color: </label><select id="'+n+'">';["red","green","blue"].forEach(function(t){t===e.color?o+="<option selected>"+t+"</option>":o+="<option>"+t+"</option>"}),o+="</select></div>",i.extra(o,function(){return null},function(){e.color=document.getElementById(n).value}),i.open()};var ee=function(){N.call(this),this.height=80,this.width=32,this.size=4,this.circuitOuts=[],this.addIn(-this.width/2,0,this.pinlength,"I").bus=!0,this.ensureIO()};(ee.prototype=Object.create(N.prototype)).constructor=ee,ee.prototype.prefix=null,ee.prototype.indent=10,ee.prototype.pinlength=8,ee.type="FmBus",ee.label="Fm Bus",ee.desc="Bus to Single bits",ee.img="fmbus.png",ee.order=48,ee.description="<h2>To Bus</h2><p>Converts a bus input into single bit outputs. This allows for simpler circuits.</p>",ee.prototype.compute=function(t){if(Array.isArray(t[0])){for(var e=0;e<this.size&&e<t[0].length;e++)this.outs[e].set(t[0][e]);for(;e<this.size;e++)this.outs[e].set(void 0)}else for(e=0;e<this.size;e++)this.outs[e].set(void 0)},ee.prototype.clone=function(){var t=new ee;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},ee.prototype.load=function(t){this.size=t.size,this.ensureIO(),N.prototype.load.call(this,t)},ee.prototype.save=function(){var t=N.prototype.save.call(this);return t.size=this.size,t},ee.prototype.ensureIO=function(){this.height=16*this.size+16,this.height<48&&(this.height=48);for(var t=this.width/2,e=this.size/2*16-8,i=0;i<this.size&&!(i>=this.outs.length);i++)this.outs[i].name="O"+i,this.outs[i].x=t,this.outs[i].y=e-16*i,this.outs[i].len=this.pinlength;for(;i<this.size;i++)this.addOut(t,e-16*i,this.pinlength,"O"+i);if(i<this.outs.length){for(;i<this.outs.length;i++)this.outs[i].clear();this.outs.splice(this.size)}},ee.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawTrap(t,this.indent,0),this.drawIO(t,e)},ee.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<div class="control1 center gap"><label for="'+n+'">Size: </label><input class="number" type="text" id="'+n+'" value="'+this.size+'"></div>';i.extra(o,function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null},function(){e.size=parseInt(document.getElementById(n).value),e.ensureIO(),e.pending()}),i.open(),document.getElementById(n).select()};var ie=function(){N.call(this),this.height=80,this.width=32,this.size=4,this.circuitIns=[],this.addOut(this.width/2,0,this.pinlength,"O").bus=!0,this.ensureIO()};(ie.prototype=Object.create(N.prototype)).constructor=ie,ie.prototype.prefix=null,ie.prototype.indent=10,ie.prototype.pinlength=8,ie.type="ToBus",ie.label="To Bus",ie.desc="Single bits to a Bus",ie.img="tobus.png",ie.order=47,ie.description="<h2>To Bus</h2><p>Converts single bit inputs into a bus output to simplify circuits</p>",ie.prototype.compute=function(t){this.outs[0].set(t)},ie.prototype.clone=function(){var t=new ie;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},ie.prototype.load=function(t){this.size=t.size,this.ensureIO(),N.prototype.load.call(this,t)},ie.prototype.save=function(){var t=N.prototype.save.call(this);return t.size=this.size,t},ie.prototype.ensureIO=function(){this.height=16*this.size+12,this.height<48&&(this.height=48);for(var t=this.width/2,e=this.size/2*16-8,i=0;i<this.size&&!(i>=this.ins.length);i++)this.ins[i].name="I"+i,this.ins[i].x=-t,this.ins[i].y=e-16*i,this.ins[i].len=this.pinlength;for(;i<this.size;i++)this.addIn(-t,e-16*i,this.pinlength,"I"+i);if(i<this.ins.length){for(;i<this.ins.length;i++)this.ins[i].clear();this.ins.splice(this.size)}},ie.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawTrap(t,0,this.indent),this.drawIO(t,e)},ie.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<div class="control1 center gap"><label for="'+n+'">Size: </label><input class="number" type="text" id="'+n+'" value="'+this.size+'"></div>';i.extra(o,function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null},function(){e.size=parseInt(document.getElementById(n).value),e.ensureIO(),e.pending()}),i.open(),$("#"+n).select()};var ne=function(){N.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,0,16,"D");var i=this.addIn(0,-e,11);i.orientation="n",i.clock=!0,this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(!1),this.outs[1].set(!1)};(ne.prototype=Object.create(N.prototype)).constructor=ne,ne.type="DFF",ne.label="D Flip-Flop",ne.desc="D Flip-Flop",ne.order=20,ne.description="<h2>D Flip-Flop</h2><p>D Flip-Flop.</p>",ne.prototype.compute=function(t){if(t[1]&&!this.lastClk){var e=t[0];this.outs[0].set(e),this.outs[1].set(e)}this.lastClk=t[1]},ne.prototype.clone=function(){var t=new ne;return t.copyFrom(this),t},ne.paletteImage=function(){var t=new Y(120,120),e=t.context;e.lineWidth=1.5,t.box(40,80);var i=t.width,n=t.height;t.io(20,-18,"e"),t.io(20,18,"e"),t.io(-20,0,"w"),t.io(0,-40,"n"),t.circle(23,18,3);var o="20px Times";t.drawText("Q",10,-13,o),t.drawTextBar("Q",10,23,o),t.drawText("D",-12,5,o);return e.beginPath(),e.moveTo(i/2-7,n/2-40),e.lineTo(i/2,n/2-33),e.lineTo(7+i/2,n/2-40),e.stroke(),t};var oe=function(){N.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,-32,16,"D"),this.addIn(-t,32,16).clock=!0,this.addIn(0,-e,11,"S").orientation="n",this.addIn(0,e,11,"R").orientation="s",this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(void 0),this.outs[1].set(void 0)};(oe.prototype=Object.create(N.prototype)).constructor=oe,oe.type="DFFsr",oe.label="D Flip-Flop SR",oe.desc="D Flip-Flop with Set/Reset",oe.img="dffsr.png",oe.order=20.5,oe.description="<h2>D Flip-Flop with Set/Reset</h2><p>D Flip-Flop with Set and Reset. Set and Reset can be safely left unconnected.</p>",oe.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=this.outs[0],s=this.outs[1];!0===n&&!0===o?(r.set(void 0),s.set(void 0)):!0===n?(r.set(!0),s.set(!0)):!0===o?(r.set(!1),s.set(!1)):i&&!this.lastClk&&(r.set(e),s.set(e)),this.lastClk=i},oe.prototype.clone=function(){var t=new oe;return t.copyFrom(this),t};var re=function(){N.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,-32,16,"J"),this.addIn(-t,32,16,"K"),this.addIn(-t,0,16).clock=!0,this.addIn(0,-e,11,"S").orientation="n",this.addIn(0,e,11,"R").orientation="s",this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(void 0),this.outs[1].set(void 0)};(re.prototype=Object.create(N.prototype)).constructor=re,re.type="JKFF",re.label="JK Flip-Flop",re.desc="JK Flip-Flop",re.img="jk.png",re.order=21,re.description="<h2>JK Flip-Flop</h2><p>JK Flip-Flop.</p>",re.prototype.compute=function(t){var e=t[3],i=t[4],n=this.outs[0],o=this.outs[1];if(!0===e&&!0===i)n.set(void 0),o.set(void 0);else if(!0===e)n.set(!0),o.set(!0);else if(!0===i)n.set(!1),o.set(!1);else if(t[2]&&!this.lastClk){var r=t[0],s=t[1];if(r&&s){var a=!this.outs[0].get();n.set(a),o.set(a)}else r?(a=!0,n.set(a),o.set(a)):s&&(a=!1,n.set(a),o.set(a))}this.lastClk=t[2]},re.prototype.clone=function(){var t=new re;return t.copyFrom(this),t};var se=function(){N.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.addIn(-t,0,16,"D"),this.addIn(0,-e,11,"CLK").orientation="n",this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(!1),this.outs[1].set(!1)};(se.prototype=Object.create(N.prototype)).constructor=se,se.type="DLatch",se.label="D  Latch",se.desc="D Latch",se.order=19,se.description="<h2>D Latch</h2>\n<p>A D latch passes the input D to the outputs Q and Q' when the clock input CLK is true, but\nlatches the value when CLK is false.</p>",se.prototype.compute=function(t){if(t[1]){var e=t[0];this.outs[0].set(e),this.outs[1].set(e)}},se.prototype.clone=function(){var t=new se;return t.copyFrom(this),t},se.paletteImage=function(){var t=new Y(120,120);t.context.lineWidth=1.5,t.box(40,80);t.io(20,-18,"e"),t.io(20,18,"e"),t.io(-20,0,"w"),t.io(0,-40,"n"),t.circle(23,18,3);var e="20px Times";return t.drawText("Q",10,-13,e),t.drawTextBar("Q",10,23,e),t.drawText("D",-12,5,e),t.drawText("CLK",0,-29,"12px Times"),t};var ae=function(){N.call(this),this.height=90,this.width=64;var t=this.width/2;this.addIn(-t,-32,16,"R"),this.addIn(-t,32,16,"S"),this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(!1),this.outs[1].set(!1)};(ae.prototype=Object.create(N.prototype)).constructor=ae,ae.type="SRLatch",ae.label="SR Latch",ae.desc="SR Latch",ae.order=18,ae.description="<h2>SR Latch</h2><p>Set/Reset latch. The S input sets the output. The R input resets the output.</p>",ae.prototype.compute=function(t){this.outs[0].get(),this.outs[1].get();var e=t[0],i=t[1];e&&i?(this.outs[0].set(!0),this.outs[1].set(!1)):e?(this.outs[0].set(!1),this.outs[1].set(!1)):i&&(this.outs[0].set(!0),this.outs[1].set(!0))},ae.prototype.clone=function(){var t=new ae;return t.copyFrom(this),t},ae.paletteImage=function(){var t=new Y(120,100);t.context.lineWidth=1.5,t.box(40,70);t.io(20,-20,"e"),t.io(20,20,"e"),t.io(-20,-20,"w"),t.io(-20,20,"w"),t.circle(23,20,3);var e="20px Times";return t.drawText("Q",10,-15,e),t.drawTextBar("Q",10,25,e),t.drawText("R",-12,-15,e),t.drawText("S",-12,25,e),t};var le=function(){N.call(this),this.height=150,this.width=90,this.value=void 0;this.addIn(-this.width/2,0,11,"in").bus=!0};(le.prototype=Object.create(N.prototype)).constructor=le,le.prototype.prefix="L",le.prototype.nameRequired=!0,le.type="letters16",le.label="16 Letter Display",le.desc="16 Letter Display",le.img="letters16.png",le.description='<h2>16 Letter Display</h2>\n<p>A special display used for Word Sequencing tasks. A 4-bit bus input value 0-15 (0 to f in hex) maps\nto the letters indicated in this table:</p>\n<table class="center">\n<tr><th>Value</th><th>Letter</th></tr>\n<tr><td>0</td><td>A</td></tr>\n<tr><td>1</td><td>C</td></tr>\n<tr><td>2</td><td>D</td></tr>\n<tr><td>3</td><td>E</td></tr>\n<tr><td>4</td><td>F</td></tr>\n<tr><td>5</td><td>H</td></tr>\n<tr><td>6</td><td>I</td></tr>\n<tr><td>7</td><td>L</td></tr>\n<tr><td>8</td><td>M</td></tr>\n<tr><td>9</td><td>N</td></tr>\n<tr><td>a</td><td>O</td></tr>\n<tr><td>b</td><td>R</td></tr>\n<tr><td>c</td><td>S</td></tr>\n<tr><td>d</td><td>T</td></tr>\n<tr><td>e</td><td>U</td></tr>\n<tr><td>f</td><td>W</td></tr>\n</table>\n',le.order=500,le.prototype.compute=function(t){if(Array.isArray(t[0])){var e=t[0];void 0===e[0]||void 0===e[1]||void 0===e[2]||void 0===e[3]?this.value=void 0:this.value=(e[0]?1:0)+(e[1]?2:0)+(e[2]?4:0)+(e[3]?8:0)}else this.value=void 0},le.prototype.get=function(t){return this.ins[0].value[t]},le.prototype.clone=function(){var t=new le;return t.value=this.value,t.copyFrom(this),t},le.prototype.draw=function(t,e){var i=this.x-this.width/2-.5,n=(this.x,this.width,this.y-this.height/2-.5);this.y,this.height;this.selectStyle(t,e);var o=t.fillStyle,r=t.strokeStyle;t.fillStyle="#cccccc",t.fillRect(i,n,this.width,this.height),t.fillStyle=o,t.beginPath(),t.rect(i,n,this.width,this.height),t.stroke();var s=void 0===this.value?"?":["A","C","D","E","F","H","I","L","M","N","O","R","S","T","U","W"][this.value];t.beginPath(),t.font="60px Arial",t.textAlign="center",t.strokeStyle="#008800",t.fillStyle=t.strokeStyle,t.fillText(s,this.x,this.y+20),t.stroke(),t.lineWidth=1,t.fillStyle=o,t.strokeStyle=r,this.drawName(t,0,this.height/2-8),this.drawIO(t,e)};var ce=function(){N.call(this),this.height=90,this.width=32;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,0,16,"D").bus=!0;var i=this.addIn(0,-e,11);i.orientation="n",i.clock=!0,this.addOut(t,0,16,"Q").bus=!0,this.outs[0].set(void 0)};(ce.prototype=Object.create(N.prototype)).constructor=ce,ce.type="Register",ce.label="Register",ce.desc="Register",ce.img="register.png",ce.description="<h2>Register</h2>\n<p>A bus register. Works like a D Flip-Flop for all bits on a bus input and output. \nWhen the clock input goes high, the output is set to the value of the input. Works for\nany bus size.</p>",ce.order=310,ce.prototype.compute=function(t){if(t[1]&&!this.lastClk){var e=t[0];this.outs[0].set(e)}this.lastClk=t[1]},ce.prototype.clone=function(){var t=new ce;return t.copyFrom(this),t},ce.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawName(t,0,-16),this.drawIO(t,e)};var ue=function(){N.call(this),this.height=128,this.width=64,this.shrink=15;var t=-this.width/2,e=this.width/2;this.addIn(t,-32,16,"A").bus=!0,this.addIn(t,32,16,"B").bus=!0;var i=.5*this.shrink,n=this.addIn(0,this.height/2-i,6+i,"C");n.orientation="s",n.bus=!0,this.addOut(e,0,16,"O").bus=!0,this.addOut(e,24,16,"CPSR").bus=!0};(ue.prototype=Object.create(N.prototype)).constructor=ue,ue.prototype.prefix="ALU",ue.prototype.nameRequired=!0,ue.type="alu4",ue.label="ALU 4",ue.desc="Simple 4-bit ALU",ue.img="alu.png",ue.description="<h2>4-bit ALU</h2><p>Simple example 4-bit ALU</p>\n<p>The operation is determined by the value of the C bus input. Operations \nsupported are:<p>\n<table>\n<tr><th>C</th><th>operation</th></tr>\n<tr><td>0</td><td>O&larr;B</td></tr>\n<tr><td>1</td><td>O&larr;A+B</td></tr>\n<tr><td>2</td><td>O&larr;A-B</td></tr>\n<tr><td>3</td><td>O&larr;A&amp;B</td></tr>\n<tr><td>4</td><td>O&larr;A|B</td></tr>\n<tr><td>5</td><td>O&larr;A&lt;&lt;B (logical)</td></tr>\n<tr><td>6</td><td>O&larr;A&lt;&lt;B (arithmetic)</td></tr>\n</table>\n<p>For the shift operations, negative values for B result in a right shift.<p>\n<p>The CPSR bits are VCZN (N is the lsb).</p>",ue.order=601,ue.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2];function o(t){if(void 0!==t){var e=1,i=0;return t.forEach(function(t){void 0!==t&&(t&&(8==e?i-=e:i+=e),e*=2)}),i}}var r=o(e),s=o(i),a=s,l=!1,c=!1;switch(o(n)){default:a=s;break;case 1:l=0!=(16&(15&r)+(15&s)),c=(a=r+s)<-8||a>7;break;case 2:l=0!=(16&(15&r)+(15&~s)+1),c=(a=r-s)<-8||a>7;break;case 3:a=r&s;break;case 4:a=r|s;break;case 5:a=s<0?(15&r)>>-s:(15&r)<<s;break;case 6:a=s<0?r>>-s:r<<s}if(void 0===a)this.outs[0].set([void 0,void 0,void 0,void 0]),this.outs[1].set([void 0,void 0,void 0,void 0]);else{var u=[1==(1&a),2==(2&a),4==(4&a),8==(8&a)];this.outs[0].set(u),this.outs[1].set([u[3],0==a,l,c])}},ue.prototype.clone=function(){var t=new ue;return t.copyFrom(this),t},ue.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,this.y-this.shrink/2),t.lineTo(i+20,this.y),t.lineTo(i,this.y+this.shrink/2),t.lineTo(i,r),t.lineTo(n,r-this.shrink),t.lineTo(n,o+this.shrink),t.lineTo(i,o),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x,this.y-15)),t.stroke(),this.drawIO(t,e)},ue.prototype.properties=function(t){new R(this,t).open()};var he=function(){N.call(this),this.height=176,this.width=128;var t=this.width/2,e=this.height/2;this.values=[0,0,0,0,0,0,0,0],this.lastClk=!1,this.lastA=null,this.lastB=null,this.lastALU=null,this.lastW=null,this.alu=0;var i=this.addIn(0,-e,8);i.orientation="n",i.clock=!0,this.addIn(-t,-48,16,"ALU").bus=!0,this.addIn(-t,16,16,"Ae").bus=!0,this.addIn(-t,48,16,"Be").bus=!0,this.addIn(-t,-32,16,"ALUe").bus=!0,this.addIn(0,this.height/2,8,"R").orientation="s",this.addIn(-t,-16,16,"W"),this.addOut(t,-48,16,"A").bus=!0,this.addOut(t,48,16,"B").bus=!0,this.outs[0].set(void 0),this.outs[1].set(void 0)};(he.prototype=Object.create(N.prototype)).constructor=he,he.prototype.prefix="R",he.type="Registers16",he.label="Registers",he.desc="Register File",he.img="registers16.png",he.description="<h2>Registers</h2>\n<p>Simple 16-bit register file. Ae and Be choose which register is routed to \nthe A and B outputs. ALU is the input from the ALU. ALUe chooses which register to write. \nA register will only be written if W (write enable) is high.</p><p>R is a reset input and is optional. \nThe R input (reset) sets all registers to zero.</p>\n<p>The register file latches in the ALU result on the clock <em>leading edge</em> and sets the \nregister on the clock trailing edge.</p>",he.order=701,he.help="registers16",he.prototype.compute=function(t){if(this.lastA=c.busValueToDecimal(t[2]),this.lastB=c.busValueToDecimal(t[3]),this.lastALU=c.busValueToDecimal(t[4]),this.lastW=t[6],t[0]&&!this.lastClk?this.alu=c.busValueToDecimal(t[1]):!t[0]&&this.lastClk&&null!==this.lastALU&&this.lastW&&(this.values[this.lastALU]=this.alu),t[5]&&(this.values=[0,0,0,0,0,0,0,0]),null!==this.lastA){for(var e=this.values[this.lastA],i=[],n=0;n<16;n++)i.push(1==(1&e)),e>>=1;this.outs[0].set(i)}else this.outs[0].set(void 0);if(null!==this.lastB){for(e=this.values[this.lastB],i=[],n=0;n<16;n++)i.push(1==(1&e)),e>>=1;this.outs[1].set(i)}else this.outs[1].set(void 0);this.lastClk=t[0]},he.prototype.clone=function(){var t=new he;return t.copyFrom(this),t},he.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),t.font='10px "Lucida Console", Monaco, monospace',t.textAlign="left";for(var i=this.y-54,n=this.x-11,o=n+45,r=i,s=0;s<8;s++)t.fillText("r"+s+":"+a.toHex(this.values[s],4),this.x-10,r),r+=16;var l=i-4;null!==this.lastALU&&this.lastW&&this.jaggedLine(t,this.x-this.width/2+34,this.y-48,n,l+16*this.lastALU,.5),null!==this.lastA&&this.jaggedLine(t,o,l+16*this.lastA,this.x+this.width/2-14,this.y-48,.66),null!==this.lastB&&this.jaggedLine(t,o,l+16*this.lastB,this.x+this.width/2-14,this.y+48,.33),t.font="12px Times",t.textAlign="center",this.drawIO(t,e)},he.prototype.setAsString=function(t){if(null!==t)if("reset"===t)this.values=[0,0,0,0,0,0,0,0],this.pending();else if("r"===t.substr(0,1)){var e=parseInt(t.substr(1,1));if(e<0||e>7)throw"Invalid register indicated in test "+t;var i=parseInt(t.substr(3));if(i!=this.values[e])throw"Incorrect register values. Register r"+e+" expected="+a.toHex(i,4)+" actual="+a.toHex(this.values[e],4)}};var de=function(t,e,i,n,o){this.label=t,this.value=e,this.x=i,this.y=n,this.size=void 0===o?30:o,this.state="off"};de.prototype.touch=function(t,e){var i=this.size;return t>this.x-i/2&&t<this.x+i/2&&e>this.y-i/2&&e<this.y+i/2&&(this.state="pressed",!0)},de.prototype.untouch=function(){return"pressed"===this.state&&(this.state="on",!0)},de.prototype.draw=function(t,e,i){var n=t.fillStyle,o=t.strokeStyle;e+=this.x,i+=this.y;var r=this.size,s=.85*r;switch(this.state){case"off":default:t.fillStyle="#3ab5de";break;case"pressed":t.fillStyle="#ff5255";break;case"on":t.fillStyle="#0000ff"}J.roundedRect(t,e-r/2,i-r/2,r,r,3),t.fill(),t.lineWidth=2,t.strokeStyle="#f2f2f2",J.roundedRect(t,e-r/2,i-r/2,r,r,3),t.stroke(),t.font=s+"px Arial",t.textAlign="center",t.fillStyle="#f2f2f2",t.fillText(this.label,e,i+.38*s),t.lineWidth=1,t.fillStyle=n,t.strokeStyle=o};var pe=function(){N.call(this),this.height=150,this.width=150,this.value=new pt,this.pad=null;this.addOut(this.width/2,-16,11).bus=!0,this.addOut(this.width/2,16,11),this.setType(16),this.setAsInteger(0),this.outs[1].set(!1)};(pe.prototype=Object.create(N.prototype)).constructor=pe,pe.prototype.prefix="P",pe.prototype.nameRequired=!0,pe.type="Pad",pe.label="Pad",pe.desc="Configurable Keypad",pe.img="pad.png",pe.description="<h2>Configurable Keypad</h2>\n<p>Presents a keypad with from 4 to 16 buttons. There are two outputs. The bus output (top) is the \nmost recently pressed button value. The clock output (bottom) is true when the button is pressed.</p>",pe.order=50,pe.help="pad",pe.prototype.setType=function(t){var e=this;if(this.pad!==t){switch(t){case 16:case"16":default:!function(){e.pad=16;var t=-52.5,i=-17.5,n=17.5,o=52.5;e.buttons=[new de("0",0,t,t+-8,30),new de("1",1,i,t+-8,30),new de("2",2,n,t+-8,30),new de("3",3,o,t+-8,30),new de("4",4,t,i+-8,30),new de("5",5,i,i+-8,30),new de("6",6,n,i+-8,30),new de("7",7,o,i+-8,30),new de("8",8,t,9.5,30),new de("9",9,i,9.5,30),new de("A",10,n,9.5,30),new de("B",11,o,9.5,30),new de("C",12,t,44.5,30),new de("D",13,i,44.5,30),new de("E",14,n,44.5,30),new de("F",15,o,44.5,30)],e.width=154,e.height=e.width+13+4,e.bits=4}();break;case 10:case"10":!function(){e.pad=10;var t=-52.5,i=-17.5;e.buttons=[new de("1",1,-35,t+-8,30),new de("2",2,0,t+-8,30),new de("3",3,35,t+-8,30),new de("4",4,-35,i+-8,30),new de("5",5,0,i+-8,30),new de("6",6,35,i+-8,30),new de("7",7,-35,9.5,30),new de("8",8,0,9.5,30),new de("9",9,35,9.5,30),new de("0",0,0,44.5,30)],e.width=119,e.height=171,e.bits=4}();break;case 12:case"12":!function(){e.pad=12;var t=-35,i=-52.5,n=-17.5;e.buttons=[new de("1",1,t,i+-8,30),new de("2",2,0,i+-8,30),new de("3",3,35,i+-8,30),new de("4",4,t,n+-8,30),new de("5",5,0,n+-8,30),new de("6",6,35,n+-8,30),new de("7",7,t,9.5,30),new de("8",8,0,9.5,30),new de("9",9,35,9.5,30),new de("*",10,t,44.5,30),new de("0",0,0,44.5,30),new de("#",11,35,44.5,30)],e.width=119,e.height=171,e.bits=4}();break;case 8:case"8":!function(){e.pad=8;var t=-17.5,i=17.5;e.buttons=[new de("0",0,-52.5,t+-8,30),new de("1",1,t,t+-8,30),new de("2",2,i,t+-8,30),new de("3",3,52.5,t+-8,30),new de("4",4,-52.5,9.5,30),new de("5",5,t,9.5,30),new de("6",6,i,9.5,30),new de("7",7,52.5,9.5,30)],e.width=154,e.height=101,e.bits=3}();break;case 4:case"4":!function(){e.pad=4;var t=-17.5,i=17.5;e.buttons=[new de("0",0,t,t+-8,30),new de("1",1,i,t+-8,30),new de("2",2,t,9.5,30),new de("3",3,i,9.5,30)],e.width=84,e.height=101,e.bits=2}()}this.outs[0].x=this.width/2,this.outs[1].x=this.width/2}},pe.prototype.compute=function(t){if(Array.isArray(t[0])){var e=t[0];void 0===e[0]||void 0===e[1]||void 0===e[2]||void 0===e[3]?this.value=void 0:this.value=(e[0]?1:0)+(e[1]?2:0)+(e[2]?4:0)+(e[3]?8:0)}else this.value=void 0},pe.prototype.get=function(t){return this.ins[0].value[t]},pe.prototype.clone=function(){var t=new pe;return t.value=this.value,t.copyFrom(this),t},pe.prototype.draw=function(t,e){var i=this,n=this.x-this.width/2-.5,o=(this.x,this.width,this.y-this.height/2-.5),r=(this.y,this.height,this.unselectedStyle);this.unselectedStyle="#f2f2f2",this.selectStyle(t,e);var s=t.fillStyle,a=t.strokeStyle;t.fillStyle="#111111",J.roundedRect(t,n,o,this.width,this.height,6),t.fill();t.fillStyle=s,t.lineWidth=2,J.roundedRect(t,n+3,o+3,this.width-6,this.height-6,6),t.stroke(),t.lineWidth=1,this.buttons.forEach(function(e){e.draw(t,i.x,i.y)}),this.drawName(t,0,this.height/2-8),t.lineWidth=1,t.fillStyle=s,t.strokeStyle=a,this.unselectedStyle=r,this.drawIO(t,e)},pe.prototype.touch=function(t,e){var i=this.size;if(!(t<this.x-i/2||t>this.x+i/2||e<this.y-i/2||e>this.y-i/2)){for(var n in this.buttons){var o=this.buttons[n];o.touch(t-this.x,e-this.y)&&(this.setAsInteger(o.value,4),this.outs[1].set(!0))}return N.prototype.touch.call(this,t,e)}},pe.prototype.set=function(t){this.value.set(t),this.outs[0].set(this.value.get()),this.updateUI()},pe.prototype.setAsInteger=function(t){this.value.setAsInteger(t,this.bits),this.outs[0].set(this.value.get()),this.updateUI()},pe.prototype.updateUI=function(){var t=this.value.getAsInteger();this.buttons.forEach(function(e){e.value!==t&&(e.state="off")})},pe.prototype.setAsString=function(t,e){this.value.setAsString(t,e),e||this.outs[0].set(this.value.get())},pe.prototype.mouseUp=function(){this.buttons.forEach(function(t){t.untouch()}),this.outs[1].set(!1)},pe.prototype.save=function(){var t=N.prototype.save.call(this);return this.value.save(t),t.pad=this.pad,t},pe.prototype.load=function(t){this.value.load(t),this.setType(t.pad),N.prototype.load.call(this,t)},pe.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<div class="control">\n<label><input type="radio" name="'.concat(n,'" value="16" ').concat(16===this.pad?"checked":"",'> 16 Buttons (Hex)</label>\n<label><input type="radio" name="').concat(n,'" value="10" ').concat(10===this.pad?"checked":"",'> 10 Buttons </label>\n<label><input type="radio" name="').concat(n,'" value="8" ').concat(8===this.pad?"checked":"",'> 8 Buttons </label>\n<label><input type="radio" name="').concat(n,'" value="4" ').concat(4===this.pad?"checked":"",'> 4 Buttons </label>\n<label><input type="radio" name="').concat(n,'" value="12" ').concat(12===this.pad?"checked":"","> Phone (12 buttons)</label>\n</div>");i.extra(o,function(){return null},function(){e.setType(document.querySelector("input[name=".concat(n,"]:checked")).value)}),i.open()};var fe=function(){N.call(this),this.height=50,this.width=20,this.leds=[],this.color="blue",this.lastState=[],this.setSize(4)};(fe.prototype=Object.create(N.prototype)).constructor=fe,fe.prototype.prefix="L",fe.type="LEDBar",fe.label="LED Bar",fe.desc="LED Indicator Bar",fe.img="ledbar.png",fe.description="<h2>LED Bar</h2><p>The LED Bar component displays from two to \nsixteen LEDs in a vertical bar that are lighted by values on discrete inputs. </p>",fe.order=110,fe.help="ledbar",fe.prototype.setSize=function(t){this.size=+t,this.ensureIO()},fe.prototype.compute=function(t){this.lastState=t},fe.prototype.clone=function(){var t=new fe;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},fe.prototype.load=function(t){this.color=G.sanitize(t.color),this.setSize(t.size),N.prototype.load.call(this,t)},fe.prototype.save=function(){var t=N.prototype.save.call(this);return t.size=this.size,t.color=this.color,t},fe.prototype.ensureIO=function(){this.height=16*this.size,this.height<50&&(this.height=50);var t=this.size/2*16-8,e=24-this.width/2,i=0;for(this.leds=[];i<this.size;i++){var n=t-16*i;this.leds.push(new Rt(0,n,this.width,16)),i<this.ins.length?(this.ins[i].x=-this.width/2,this.ins[i].y=n,this.ins[i].len=e):this.addIn(-this.width/2,n,e)}if(i<this.ins.length){for(;i<this.ins.length;i++)this.ins[i].clear();this.ins.splice(this.size)}},fe.prototype.draw=function(t,e){for(var i=0;i<this.lastState.length&&i<this.leds.length;i++){var n=this.lastState[i];this.leds[i].color=void 0===n?"undefined":n?this.color:"black"}for(;i<this.leds.length;i++)this.leds[i].color="undefined";this.selectStyle(t,e),this.drawBox(t,"#444444");for(var o=0;o<this.size;o++)this.leds[o].draw(t,this.x,this.y,"#444444");this.drawBox(t,"none"),this.drawIO(t,e)},fe.prototype.properties=function(t){var e=this,i=new R(this,t),n=i.uniqueId(),o='<div class="control1 center"><label for="'.concat(n,'">Size: </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>'),r=i.uniqueId();o+=Rt.colorSelector(r,this.color),i.extra(o,function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null},function(){e.color=G.sanitize(document.getElementById(r).value),e.setSize(parseInt(document.getElementById(n).value))}),i.open()};var ve=function(){N.call(this),this.height=128,this.width=64;var t=this.width/2,e=this.height/2;this.value=0,this.lastClk=!1,this.ba=0;var i=this.addIn(0,-e,8);i.orientation="n",i.clock=!0,this.addIn(-t,-32,16,"BA").bus=!0,this.addIn(-t,32,16,"B"),this.addIn(0,e,8,"R").orientation="s",this.addOut(t,-32,16,"PC").bus=!0,this.outs[0].set(void 0)};(ve.prototype=Object.create(N.prototype)).constructor=ve,ve.prototype.prefix="PC",ve.type="Pc16",ve.label="Program Counter",ve.desc="Program Counter",ve.img="pc16.png",ve.description="<h2>Program Counter</h2><p>Simple 16-bit program counter (PC). Each clock rising \nedge increments the PC by 2 bytes (16 bits). If B is true when the clock edge falls, the signed value \nin BA (branch address) plus 2 is added to the PC.</p>",ve.order=705,ve.help="pc16",ve.prototype.compute=function(t){t[3]?this.value=0:t[0]&&!this.lastClk?(this.ba=c.busValueToDecimal(t[1]),this.value+=2):!t[0]&&this.lastClk&&t[2]&&null!==this.ba&&(this.value+=this.ba+2),this.value&=65535;for(var e=this.value,i=[],n=0;n<16;n++)i.push(1==(1&e)),e>>=1;this.outs[0].set(i),this.lastClk=t[0]},ve.prototype.clone=function(){var t=new ve;return t.copyFrom(this),t},ve.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t);var i=this.y-10;t.font='14px "Lucida Console", Monaco, monospace',t.textAlign="center",t.fillText(a.toHex(this.value,4),this.x,i),i+=20,t.font="12px Times",t.fillText("program",this.x,i),t.fillText("counter",this.x,i+15),this.drawIO(t,e)};var me=function(){N.call(this),this.height=132,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.data=[],this.lastAddress=0,this.lastData=0,this.write=0,this.addIn(-t,-32,16,"A").bus=!0,this.addIn(-t,32,16,"W").bus=!0;var i=this.addIn(0,-e,14);i.orientation="n",i.clock=!0,this.addOut(t,-32,16,"R").bus=!0};(me.prototype=Object.create(N.prototype)).constructor=me,me.prototype.prefix="M",me.type="Memory16",me.label="Memory",me.desc="16-bit Memory",me.img=null,me.description="<h2>16-bit Memory Bank</h2><p>The Memory component implements a simple 16-bit Memory Bank.\nMemory is an array of bytes. The A (address) input selects a memory location that is output on the R\noutput. The component implements 16-bit memory,\nso all accesses are considered to be multiples of two and retrieve two bytes. Memory is retrieved in little-endian\nmode (first byte is the least significant byte).</p>\n<p>A clock cycle on the clock input writes the memory component with the value on the W (write) input.</p>",me.order=706,me.help="memory16",me.prototype.compute=function(t){var e=c.busValueToDecimal(t[0]);if(null===e)this.outs[0].set(void 0);else{if(t[2]&&!this.lastClk)this.write=c.busValueToDecimal(t[1]);else if(!t[2]&&this.lastClk&&null!==this.write){for(;this.data.length<e+2;)this.data.push(0);var i=this.write>>8,n=255&this.write;this.data[e]=n,this.data[e+1]=i}if(e<this.data.length-1)var o=this.data[e]+(this.data[e+1]<<8);else o=0;this.lastAddress=e,this.lastData=o;for(var r=[],s=0;s<16;s++)r.push(1==(1&o)),o>>=1;this.outs[0].set(r)}this.lastClk=t[2]},me.prototype.setAsString=function(t,e){t=G.sanitize(t),void 0===e&&(e=!0),e&&(this.data=[]);var i=t.split(/\s+/),n=0;for(var o in i){if((r=i[o]).indexOf(":")>=0){if(n=parseInt(r,16),isNaN(n))return"invalid input address"}else if(""!==r){var r=parseInt(r,16);if(isNaN(r))return"invalid input data";if(e){for(;this.data.length<n;)this.data.push(0);this.data[n]=r,n++}}}return e&&this.pending(),null},me.prototype.clone=function(){var t=new me;return t.data=this.data.slice(),t.copyFrom(this),t},me.prototype.load=function(t){this.data=t.data,N.prototype.load.call(this,t)},me.prototype.save=function(){var t=N.prototype.save.call(this);return t.data=this.data,t},me.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),t.font="12px Times",t.textAlign="center",t.fillText(a.toHex(this.lastAddress,4)+":"+a.toHex(this.lastData,4),this.x,this.y+this.height/2-18),t.fillText("memory",this.x,this.y+this.height/2-5),this.drawName(t,0,3),this.drawIO(t,e)},me.prototype.properties=function(t){for(var e=this,i="",n=0;n<this.data.length;n++)n%8==0&&(i.length>0&&(i+="\n"),i+=a.toHex(n,4)+":"),i+=" "+a.toHex(this.data[n],2);var o=new R(this,t),r=o.uniqueId(),s='<div class="control"><label for="'.concat(r,'">Contents:</label>\n<textarea class="code1" type="text" rows="9" name="').concat(r,'" id="').concat(r,'" spellcheck="false">').concat(i,"</textarea>\n</div>");o.extra(s,function(){var t=document.getElementById(r).value;return e.setAsString(t,!1)},function(){var t=document.getElementById(r).value;return e.setAsString(t)},85),o.open()},me.paletteImage=function(){var t=new Y(120,120),e=t.context;e.lineWidth=1.5,t.box(40,80);var i=t.width,n=t.height;t.io(0,-40,"n");var o=t.lineWidth(2);t.io(20,-18,"e"),t.io(-20,-18,"w"),t.io(-20,18,"w"),t.lineWidth(o);var r="20px Times";t.drawText("R",10,-13,r),t.drawText("A",-12,-13,r),t.drawText("W",-12,23,r);return e.beginPath(),e.moveTo(i/2-7,n/2-40),e.lineTo(i/2,n/2-33),e.lineTo(7+i/2,n/2-40),e.stroke(),t.drawText("memory",0,38,"8px Times"),t.drawText("0000:0000",0,32,"8px Times"),t};var ye=function(){N.call(this),this.height=100,this.width=48,this.size=8,this.circuitOuts=[],this.addIn(-this.width/2,0,16,"In").bus=!0,this.ensureIO()};(ye.prototype=Object.create(N.prototype)).constructor=ye,ye.prototype.prefix=null,ye.type="Decoder3",ye.label="3-to-8",ye.desc="3-to-8 Decoder",ye.img="decoder3.png",ye.description="<h2>3-to-8 decoder</h2>\n<p>Converts a 3-bit binary value on <strong>In</strong> to a true on one of eight output lines.</p>",ye.order=309,ye.prototype.compute=function(t){if(Array.isArray(t[0]))for(var e=(t[0][0]?1:0)+(t[0][1]?2:0)+(t[0][2]?4:0),i=0;i<this.size;i++)this.outs[i].set(i==e);else for(i=0;i<this.size;i++)this.outs[i].set(void 0)},ye.prototype.clone=function(){var t=new ye;return t.copyFrom(this),t},ye.prototype.ensureIO=function(){this.height=16*this.size+24,this.height<80&&(this.height=80);for(var t=this.width/2,e=this.size/2*16-8,i=0;i<this.size&&!(i>=this.outs.length);i++)this.outs[i].name="O"+i,this.outs[i].x=t,this.outs[i].y=e-16*i,this.outs[i].len=16;for(;i<this.size;i++)this.addOut(t,e-16*i,16,"O"+i);if(i<this.outs.length){for(;i<this.outs.length;i++)this.outs[i].clear();this.outs.splice(this.size)}},ye.prototype.draw=function(t,e){this.selectStyle(t,e);this.x,this.width,this.x,this.width,this.y,this.height,this.y,this.height;this.drawBox(t),t.font="12px Times",t.textAlign="center",t.fillText("decoder",this.x,this.y+this.height/2-2),this.drawIO(t,e)};var ge=function(t){N.call(this,t),this.height=120,this.width=80,this.instruction="";var e=-32;this.addOut(this.width/2,e,16,"Ae").bus=!0,e+=16,this.addOut(this.width/2,e,16,"Be").bus=!0,e+=16,this.addOut(this.width/2,e,16,"ALUe").bus=!0,e+=16,this.addOut(this.width/2,e,16,"Im").bus=!0,e+=16,this.addOut(this.width/2,e,16,"C").bus=!0,e+=16,this.setAsString("nop")};(ge.prototype=Object.create(N.prototype)).constructor=ge,ge.prototype.prefix="ID",ge.prototype.nameRequired=!0,ge.type="InstructionDecoder4",ge.label="Instruction Decoder 4",ge.desc="Instruction Decoder",ge.img="insdecoder4.png",ge.description="<h2>Instruction Decoder</h2><p>Simple example instruction decoder. Decodes assembly statements into register and ALU operations.</p>",ge.help="instructiondecoder4",ge.prototype.compute=function(t){},ge.prototype.setAsString=function(t,e){this.instruction=t,void 0===e&&(e=!0);var i=this.instruction.toLowerCase().match(/\s*([a-zA-Z]*)(?:[\s,$]+([^\s,]+))?(?:[\s,$]+([^\s,]+))?(?:[\s,$]+([^\s,]+))?/);if(null===i||i.length<2)return"syntax error in input";var n=this.outs[0],o=this.outs[1],r=this.outs[2],s=this.outs[3],a=this.outs[4];function l(t){switch(t){case"r0":return"00";case"r1":return"01";case"r2":return"10";case"r3":return"11";default:return null}}function c(t){if(null===t||void 0===t)return null;if("#"!==t.substr(0,1))return null;var e=parseInt(t.substr(1));return e>7||e<-8?null:(0!=(8&e)?"1":"0")+(0!=(4&e)?"1":"0")+(0!=(2&e)?"1":"0")+(0!=(1&e)?"1":"0")}var u=i[1],h=i[2],d=i.length>3?i[3]:null,p=i.length>4?i[4]:null,f=l(h),v=l(d),m=l(p),y=c(d),g=c(p);function b(t){if(null===f||null===v||null===p)return null;if("#"===p.substr(0,1)){if(null===g)return"invalid immediate value";e&&(n.setAsString(v),o.setAsString("100"),r.setAsString("0"+f),a.setAsString(t),s.setAsString(g))}else null!==v&&e&&(n.setAsString(v),o.setAsString("0"+m),r.setAsString("0"+f),a.setAsString(t));return null}switch(u){case"nop":e&&(n.setAsString("00"),o.setAsString("000"),r.setAsString("100"),s.setAsString("0000"),a.setAsString("111"));break;case"mov":if(null===f)return null;if("#"===d.substr(0,1)){if(null===y)return"invalid immediate value";e&&(n.setAsString(f),o.setAsString("100"),r.setAsString("0"+f),a.setAsString("000"),s.setAsString(y))}else null!==v&&e&&(n.setAsString(f),o.setAsString("0"+v),r.setAsString("0"+f),a.setAsString("000"));break;case"add":return b("001");case"sub":return b("010");case"and":return b("011");case"or":return b("100");case"sll":return b("101");case"sla":return b("110")}return null},ge.prototype.clone=function(){var t=new ge;return t.copyFrom(this),t},ge.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,r),t.lineTo(n,r),t.lineTo(n,o),t.lineTo(i,o),t.font="12px Times",t.textAlign="center",t.fillText("instruction",this.x,this.y+this.height/2-14),t.fillText("decoder",this.x,this.y+this.height/2-2),t.fillText(this.instruction,this.x,this.y-this.height/2+11),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-15,this.y+3)),t.stroke(),this.drawIO(t,e)},ge.prototype.properties=function(t){var e=this,i=this.instruction,n=new R(this,t),o=n.uniqueId(),r="<p>Value<br>"+'<input type="text" id="'.concat(o,'" spellcheck="false" value="').concat(i,'"></p>');n.extra(r,function(){var t=document.getElementById(o).value;return e.setAsString(t,!1)},function(){var t=document.getElementById(o).value;e.setAsString(t)},40),n.open();var s=document.getElementById(o);s.select(),s.focus()};var be=function(t){N.call(this,t),this.height=128,this.width=64,this.shrink=15,this.cin=!1;var e=-this.width/2,i=this.width/2;this.operator="";this.addIn(e,-32,16,"A").bus=!0,this.addIn(e,32,16,"B").bus=!0;var n=.5*this.shrink,o=this.addIn(0,this.height/2-n,8+n,"C");o.orientation="s",o.bus=!0,this.addIn(e,48,16,"Cin"),this.addOut(i,0,16,"O").bus=!0,this.addOut(i,24,16,"CPSR").bus=!0};(be.prototype=Object.create(N.prototype)).constructor=be,be.prototype.prefix="ALU",be.prototype.nameRequired=!0,be.type="Alu16",be.label="ALU 16",be.desc="Simple 16-bit ALU",be.img="alu.png",be.description="<h2>16-bit ALU</h2><p>Simple example 16-bit ALU. A and B are bus inputs to the ALU. C is the control input. Cin is the carry input for adc and sbc operations. O is a bus output result and CPSR is the status output bits for the current program status register.</p><p>If Cin is not connected, it is assumed to be false.</p><p>The status bits in CPSR are: 0:N, 1:Z, 2:C, 3:V</p>",be.help="alu16",be.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2];function o(t){if(void 0!==t){var e=1,i=0;return t.forEach(function(t){void 0!==t&&(t&&(32768==e?i-=e:i+=e),e*=2)}),i}}this.cin=void 0!==t[3]&&t[3];var r=o(e),s=o(i),a=s,l=!1,c=!1;switch(o(n)){case 8:case 0:a=r&s,this.operator="&";break;case 1:a=r^s,this.operator="xor";break;case 2:a=r<<s,this.operator="<<";break;case 3:a=(65535&r)>>s,this.operator=">>";break;case 4:var u=32768&r;a=r;for(var h=0;h<s;h++)a=r>>1,a|=u;this.operator="asr";break;case 5:a=r+s,this.cin&&a++,l=0!=(65536&(f=(65535&r)+(65535&s))),c=a<-32768||a>32768,this.operator="+";break;case 11:case 34:case 16:l=0!=(65536&(f=(65535&r)+(65535&s))),c=(a=r+s)<-32768||a>32768,this.operator="+";break;case 6:a=r-s,this.cin||a--,l=0!=(65536&(f=(65535&r)+(65535&~s)+1)),c=a<-32768||a>32768,this.operator="-";break;case 10:case 33:case 35:case 17:l=0!=(65536&(f=(65535&r)+(65535&~s)+1)),c=(a=r-s)<-32768||a>32768,this.operator="-";break;case 7:u=32768&r;a=65535&r;for(h=0;h<s;h++){var d=(1&a)<<15;a=(65535&r)>>1,a|=d}this.operator="ror";break;case 9:a=-s,this.operator="neg";break;case 12:a=r|s,this.operator="or";break;case 13:c=(a=r*s)<-32768||a>32768,this.operator="*";break;case 14:a=r&(65535^s),this.operator="bic";break;case 15:a=65535^r,this.operator="not";break;case 18:a=(r&=65535)*(s&=65535)>>16,this.operator="*^";break;default:a=s,this.operator="mov"}if(void 0===(a&=65535))this.outs[0].set([void 0,void 0,void 0,void 0]),this.outs[1].set([void 0,void 0,void 0,void 0]);else{var p=[],f=a;for(h=0;h<16;h++)p.push(1==(1&f)),f>>=1;this.outs[0].set(p),this.outs[1].set([p[15],0==a,l,c])}},be.prototype.clone=function(){var t=new be;return t.copyFrom(this),t},be.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;if(t.beginPath(),t.moveTo(i,o),t.lineTo(i,this.y-this.shrink/2),t.lineTo(i+20,this.y),t.lineTo(i,this.y+this.shrink/2),t.lineTo(i,r),t.lineTo(n,r-this.shrink),t.lineTo(n,o+this.shrink),t.lineTo(i,o),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x,this.y-16)),this.operator.length>1)t.font="bold 14px Times",t.textAlign="center",t.fillText(this.operator,this.x+1,this.y+4);else{t.font="bold 22px Times",t.textAlign="center";var s=6;switch(this.operator){case"+":s=6;break;case"-":s=5}t.fillText(this.operator,this.x+1,this.y+s)}t.stroke(),this.drawIO(t,e)};var we=function(){};we.go=function(t){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)};var xe=function(t,e){var n=this,o=i("./package.json");this.version=o.version,this.root=i.p.substr(0,i.p.length-1),this.sel=t,this.options=new function(t){for(var e in t=t||{},this.display="window",this.load=null,this.tabs=[],this.tabsMenu=!0,this.export="both",this.testTime=17,this.userid=null,this.tests=[],this.imports=[],this.api=null,this.exit=null,this.components=["combinatorial","sequential"],this.always=["Zero","One","InPin","OutPin","Clock","Button","LED"],this.showOutputStates=!1,t)if(t.hasOwnProperty(e)){if(!this.hasOwnProperty(e))throw new Error("Invalid option "+e);this[e]=t[e]}this.getAPI=function(t){if(null===this.api)return null;if(this.api===Object(this.api)){var e;if(void 0!==this.api[t]){var i=this.api[t];if(void 0===i.url)return null;e={url:i.url},void 0!==i.contentType?e.contentType=i.contentType:void 0!==this.api.contentType?e.contentType=this.api.contentType:e.contentType="application/x-www-form-urlencoded; charset=UTF-8",void 0!==i.extra?e.extra=i.extra:void 0!==this.api.extra?e.extra=this.api.extra:e.extra={},void 0!==i.name?e.name=i.name:void 0!==this.api.name&&(e.name=this.api.name)}else{if(void 0===this.api.url)return null;e={url:this.api.url},void 0!==this.api.extra?e.extra=this.api.extra:e.extra={},void 0!==this.api.name&&(e.name=this.api.name)}return e}return{url:this.api}}}(e),this.components=new Tt,function(t){t.add(It),t.add(Ot),t.add(Nt),t.add(Pt),t.add(Mt),t.add(Gt),t.add(_t),t.add(Ct),t.add(Et),t.add(Bt),t.add(jt),t.add(St),t.add(zt),t.add(Lt),t.add(Dt),t.add(Ut),t.add(Ft),t.add(Ht),t.add(qt),t.add(Wt),t.add(Qt),t.add(Yt),t.add(Jt),t.add(fe),t.add(Kt),t.add(Zt),t.add($t),t.add(te),t.add(ee),t.add(ie),t.add(ne),t.add(oe),t.add(re),t.add(se),t.add(ae),t.add(le),t.add(ce),t.add(Xt),t.add(ue),t.add(he),t.add(pe),t.add(ve),t.add(me),t.add(ye),t.add(ge),t.add(be),t.addPalette("combinatorial",[Ct,St,Ut,Ft,Dt,jt]),t.addPalette("sequential",[ne,oe,re,se,ae]),t.addPalette("bus",[Ht,qt,Wt,Qt,Yt,Jt]),t.addPalette("all",[It,Ot,Nt,Pt,Mt,Gt,_t,Kt,Ct,Et,Bt,jt,St,zt,Lt,Dt,fe,Ut,Ft,ne,oe,re,se,ae,Ht,qt,Xt,Wt,Yt,Qt,ye,Jt,Zt,$t,te,ee,ie,ce,le,ue,he,ve,me,ge,pe,be])}(this.components);var r=[],s=[];this.start=function(){if(null===t)return n.startNow();we.go(function(){n.startNow()})},this.startNow=function(){if(null===t){n.options.display="none";var e=new kt(n,null,s);return r.push(e),e}if(t instanceof Element){var i=new kt(n,t,s);r.push(i)}else for(var o=document.querySelectorAll(t),a=0;a<o.length;a++){var l=o[a],c=new kt(n,l,s);r.push(c)}return 1===r.length?r[0]:null},this.getInstances=function(){return r},this.addTest=function(t){s.push(t)},this.runTest=function(t){r.forEach(function(e){e.runTest(t)})}};i("./src/_cirsim.scss");i.d(e,"Cirsim",function(){return xe}),i.d(e,"default",function(){return xe})},"./src/img/menu-check.png":function(t,e,i){t.exports=i.p+"img/menu-check.png"},"./src/polyfills/assign.js":function(t,e){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},writable:!0,configurable:!0})},"./src/polyfills/endsWith.js":function(t,e){String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t})},"./src/public-path.js":function(t,e,i){i.p=function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var i,n=t[e].src;if((i=n.indexOf("/cirsim.js"))>-1)return n.substring(0,i);if((i=n.indexOf("/cirsim.min.js"))>-1)return n.substring(0,i)}return"/"}()+"/"}}).default});